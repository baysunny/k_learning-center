<?php

include $_SERVER['DOCUMENT_ROOT']."/trash_holder.php";

$background_color = "#FFEBCD";

function Error404($info){

    echo '
    <body class="spinner spinner-primary spinner-lg">';

        global_navbar();
    echo '
        <div class="masthead">

            <div class="masthead-inner">
                <div class="row gutter-xs">
                    <div class="container">
                        <h1 class="text-crimson">'.$info.'</h1>
                    </div>
                </div>
            </div>
        </div>
    </div>


    ';
}

function Page404($info){

    echo '
    <h1 class="alert alert-danger">
        '.$info.'
    </h1>


    ';
}

function dont_know_whatdeheck(){
    echo '
    <div id="introduction" tabindex="-1" role="dialog" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">×</span>
                            <span class="sr-only">Close</span>
                        </button>
                    </div>
                    <div class="modal-body my-color">

                        <div class="text-center">

                            <span class="text-danger icon icon-check icon-5x"></span>
                            <h3 class="text-white">Selamat datang '.$_SESSION["name"].'</h3>


                        </div>
                    </div>
                    <div class="modal-footer"></div>
                </div>
            </div>
        </div>
    ';
}

function front_Page(){

    echo '

    <body class="spinner spinner-primary spinner-lg">';
        outside_navbar();
    echo '

        <div id="introduction" tabindex="-1" role="dialog" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">×</span>
                            <span class="sr-only">Close</span>
                        </button>
                    </div>
                    <div class="modal-body my-color">

                        <div class="text-center">

                            <span class="text-danger icon icon-check icon-5x"></span>
                            <h3 class="text-white">Daftar sebagai</h3>

                            <div class="m-t-lg">
                                <a href="/authentication/?register" class="btn bg-crimson">Umum</a>
                                <a href="/authentication/?sign-up" class="btn bg-crimson">Pegawai</a>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer"></div>
                </div>
            </div>
        </div>

        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                $("#introduction").modal("show");
            });
        </script>

    </body>
    ';
}

function login_page($data){
    echo '

        <body class="spinner spinner-primary spinner-lg">
            ';
            outside_navbar();
            echo '
            <div class="container">';
            if($data["info"] == "success"){
                echo '
                    <h4><div class="alert alert-info text-center" role="alert">
                    <h4 class="alert-heading">Activation Success</h4>
                    Akun berhasil diaktifkan, silahkan login dengan <strong>username</strong> dan <strong>password</strong> yang sudah didaftarkan</div>
                    </h4>';
            }else if($data["info"] == "unknown"){
                echo '

                <div id="introduction" tabindex="-1" role="dialog" class="modal fade">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">×</span>
                                    <span class="sr-only">Close</span>
                                </button>
                            </div>
                            <div class="modal-body my-color">
                            ';
                            text_text_text();
                            echo'

                            </div>
                            <div class="modal-footer">

                            </div>
                        </div>
                    </div>
                </div>

                ';
            }else if($data["info"] == "authentication"){

            }else if($data["info"] == "password"){
                echo '
                <h4>
                    <div class="alert alert-danger text-center" role="alert"><span class="icon icon-exclamation-circle"></span> Password salah
                    </div>
                </h4>';
            }else if($data["info"] == "user"){
                echo '
                <h4>
                    <div class="alert alert-danger text-center" role="alert"><span class="icon icon-exclamation-circle"></span> Pengguna belum terdaftar
                    </div>
                </h4>';
            }else{
                echo '
                <h4>
                    <div class="alert alert-danger text-center" role="alert">
                    '.$data["info"].'
                    </div>
                </h4>';
            }


            echo '
            </div>
            <div class="login">
                <div class="login-body">
                    <a class="login-brand" href="/index.php">
                        <img class="img-responsive" src="/dashboard/drive/images/tesla lc.png" alt="Elephant">
                    </a>
                    <div class="login-form">
                        <form action="/includes/login.inc.php" method="POST" data-toggle="validator">
                            <div class="form-group">
                                <label for="username">Username</label>
                                <input id="username" class="form-control" type="text" name="username" spellcheck="false" autocomplete="off" data-msg-required="Please enter your username." required>
                            </div>
                            <div class="form-group">
                                <label for="password">Password</label>
                                <input id="password" class="form-control" type="password" name="password" data-msg-required="Please enter your password." required>
                            </div>
                            <div class="form-group">
                                <label class="custom-control custom-control-primary custom-checkbox">
                                    <input class="custom-control-input" type="checkbox" checked="checked">
                                    <span class="custom-control-indicator"></span>
                                    <span class="custom-control-label">Keep me signed in</span>
                                </label>
                                <span aria-hidden="true"> · </span>
                                <a href="/authentication/?forgot-password" class="text-crimson">Forgot password?</a>
                            </div>
                            <button class="btn my-color btn-block" name="submit" type="submit">Sign in</button>
                        </form>
                    </div>
                </div>
                <div class="login-footer">
                    Don\'t have an account? <a href="/authentication/?sign-up" class="text-crimson">Sign Up</a>
                </div>
            </div>
            <script src="/template_vendor/js/vendor.min.js"></script>
            <script src="/template_vendor/js/elephant.min.js"></script>
            <script src="/template_vendor/js/landing-page.min.js"></script>
            <script type="text/javascript">
                $(document).ready(function() {
                    $("#introduction").modal("show");
                });
            </script>
        </body>

    ';
}

function register_memberPage(){
    echo '
    <body class="spinner spinner-primary spinner-lg">';
            outside_navbar();
            echo '


        <div class="signup" style="margin-top:70px">
            <div class="signup-body">
                <a class="signup-brand" href="index.html">
                    <img class="img-responsive" src="/dashboard/drive/images/tesla lc.png" alt="Elephant">
                </a>
                <p class="signup-heading">

                    <br><strong>Daftar untuk umum</strong> <a href="/authentication?register" class="text-crimson">Register</a>
                </p>
                <div class="signup-divider">
                    <div class="divider">
                        <div class="divider-content"></div>
                    </div>
                </div>
                <div class="signup-form">
                    <form id="form-sign-up" data-toggle="validator" method="post" data-groups=\'{"birthdate": "birth_month birth_day birth_year"}\'>
                        <input type="hidden" name="sign-up" value="'.uniqid(rand()).'">
                        <input type="hidden" name="type" value="4">
                        <div class="row gutter-xs text-center">
                            <div class="col-sm-12">
                                <div class="form-group">

                                    <label class="file-upload-btn btn my-color btn-download" style="width:150px">
                                        Upload foto <span class="icon icon-image"></span>
                                        <input type="file" class="file-upload-input" id="file" name="profileImage" accept="image/*">
                                    </label><br><br>
                                    <div id="image-preview-div">
                                        <img id="preview-img" class="timeline-media img-rounded" width="150" height="150" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/default.jpg">
                                    </div>
                                    <div id="message"></div>


                                </div>
                            </div>

                        </div>

                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="first-name">First name</label>
                                    <input id="first-name" class="form-control" type="text" name="firstName" spellcheck="false" data-msg-required="Please enter your first name." required>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="last-name">Last name</label>
                                    <input id="last-name" class="form-control" type="text" name="lastName" spellcheck="false" data-msg-required="Please enter your last name." required>
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="username">Username</label>
                                    <input id="username" class="form-control" type="text" name="username" spellcheck="false" autocomplete="off" data-msg-required="Please enter your email address." required>
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="password">Password</label>
                                    <input id="password" class="form-control" type="password" name="password" minlength="6" data-msg-minlength="Password must be 6 characters or more." data-msg-required="Please enter your password." required>
                                    <small class="help-block">6-character minimum; case sensitive.</small>
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="email">Email</label>
                                    <input id="email" class="form-control" type="email" name="email" spellcheck="false" autocomplete="off" data-msg-required="Please enter your email address." required>
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="hp">Nomor HP</label>
                                    <input class="form-control" type="text" name="hp" spellcheck="false" data-msg-required="Please enter your phone number." minlength="10" data-msg-minlength="masukan nomor hp dengan benar" required ">
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="tempat">Tempat Kelahiran</label>
                                    <input class="form-control" type="text" name="tempat" spellcheck="false" data-msg-required="Please enter your place." minlength="4" data-msg-minlength="masukan tempat lahir dengan benar" required ">
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="birth-month">Tanggal Lahir</label>
                                    <div class="row gutter-xs">
                                        <div class="col-xs-6">
                                            <div class="form-group">
                                                <select id="birth-month" class="custom-select" name="birthMonth" data-msg-required="Please enter your birthday." required="" aria-required="true">
                                                    <option value="" disabled="disabled" selected="selected">Month</option>
                                                    <option value="01">January</option>
                                                    <option value="02">February</option>
                                                    <option value="03">March</option>
                                                    <option value="04">April</option>
                                                    <option value="05">May</option>
                                                    <option value="06">June</option>
                                                    <option value="07">July</option>
                                                    <option value="08">August</option>
                                                    <option value="09">September</option>
                                                    <option value="10">October</option>
                                                    <option value="11">November</option>
                                                    <option value="12">December</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-xs-3">
                                            <div class="form-group">
                                                <input id="birth-day" class="form-control" type="number" name="birthDay" placeholder="Day" min="1" max="31" data-msg-min="Please enter a valid day of the month." data-msg-max="Please enter a valid day of the month." data-msg-required="Please enter your birthday." required="" aria-required="true">
                                            </div>
                                        </div>
                                        <div class="col-xs-3">
                                            <div class="form-group">
                                                <input id="birth-year" class="form-control" type="number" name="birthYear" placeholder="Year" min="1900" max="2017" data-msg-min="Please enter a valid year." data-msg-max="Please enter a valid year." data-msg-required="Please enter your birthday." required="" aria-required="true">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="gender">Jenis Kelamin</label>
                                    <select class="custom-select" name="gender" data-msg-required="Pilih jenis kelamin!" required>
                                        <option value="" disabled="disabled" selected="selected">Select...</option>
                                        <option value="Laki-Laki">Laki-Laki</option>
                                        <option value="Perempuan">Perempuan</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="nip">NIP</label>
                                    <input class="form-control" type="text" name="nip" spellcheck="false" autocomplete="off" data-msg-required="Masukan data NIP!" required>
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="golongan">Pangkat/Golongan</label>
                                    <input class="form-control" type="text" name="golongan" spellcheck="false" autocomplete="off" data-msg-required="Masukan Pangkat/Golongan!" required>
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="jabatan">Jabatan</label>
                                    <input class="form-control" type="text" name="jabatan" spellcheck="false" autocomplete="off" data-msg-required="Masukan Jabatan!" required>
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="unitKerja">Unit Kerja</label>
                                    <input class="form-control" type="text" name="unitKerja" spellcheck="false" autocomplete="off" data-msg-required="Masukan bagian unit kerja." required>
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="instansi">Instansi</label>
                                    <input class="form-control" type="text" name="instansi" spellcheck="false" autocomplete="off" data-msg-required="Masukan instansi." required>
                                </div>
                            </div>



                            <input type="hidden" name="user" value="pg4">
                        <button id="sign-up-submit-button" class="btn my-color btn-block" type="submit">Sign up</button>
                    </form>
                </div>
            </div>
            <div class="signup-footer">
                Already have an account? <a href="/authentication" class="text-crimson">Log in</a>
            </div>
        </div>

        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>

        <script src="/template_vendor/js/image-upload.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        '.true_false_popup().'
    </body>


    ';
}

function register_globalPage(){
    echo '
    <body class="spinner spinner-primary spinner-lg">';
            outside_navbar();
            echo '

        <div class="signup" style="margin-top:70px">
            <div class="signup-body">
                <a class="signup-brand" href="index.html">
                    <img class="img-responsive" src="/dashboard/drive/images/tesla lc.png" alt="Elephant">
                </a>
                <p class="signup-heading">
                    <strong>Daftar untuk member</strong> <a href="/authentication?sign-up" class="text-crimson">sign-up</a>
                </p>
                <div class="signup-divider">
                    <div class="divider">
                        <div class="divider-content"></div>
                    </div>
                </div>
                <div class="signup-form">
                    <form id="form-sign-up" data-toggle="validator" method="post" data-groups=\'{"birthdate": "birth_month birth_day birth_year"}\'>
                        <input type="hidden" name="sign-up" value="'.uniqid(rand()).'">
                        <input type="hidden" name="type" value="5">
                        <div class="row gutter-xs text-center">
                            <div class="col-sm-12">
                                <div class="form-group">

                                    <label class="file-upload-btn btn my-color btn-download" style="width:150px">
                                        Upload foto <span class="icon icon-image"></span>
                                        <input type="file" class="file-upload-input" id="file" name="profileImage" accept="image/*">
                                    </label><br><br>
                                    <div id="image-preview-div">
                                        <img id="preview-img" class="timeline-media img-rounded" width="150" height="150" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/default.jpg">
                                    </div>
                                    <div id="message"></div>

                                </div>
                            </div>
                        </div>

                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="first-name">First name</label>
                                    <input id="first-name" class="form-control" type="text" name="firstName" spellcheck="false" data-msg-required="Please enter your first name." required>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label for="last-name">Last name</label>
                                    <input id="last-name" class="form-control" type="text" name="lastName" spellcheck="false" data-msg-required="Please enter your last name." required>
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="username">Username</label>
                                    <input id="username" class="form-control" type="text" name="username" spellcheck="false" autocomplete="off" data-msg-required="Please enter your email address." required>
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="password">Password</label>
                                    <input id="password" class="form-control" type="password" name="password" minlength="6" data-msg-minlength="Password must be 6 characters or more." data-msg-required="Please enter your password." required>
                                    <small class="help-block">6-character minimum; case sensitive.</small>
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="email">Email</label>
                                    <input id="email" class="form-control" type="email" name="email" spellcheck="false" autocomplete="off" data-msg-required="Please enter your email address." required>
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="hp">Nomor HP</label>
                                    <input class="form-control" type="text" name="hp" spellcheck="false" data-msg-required="Please enter your phone number." minlength="10" data-msg-minlength="masukan nomor hp dengan benar" required ">
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="gender">Jenis Kelamin</label>
                                    <select class="custom-select" name="gender" data-msg-required="Pilih jenis kelamin!" required>
                                        <option value="" disabled="disabled" selected="selected">Select...</option>
                                        <option value="Laki-Laki">Laki-Laki</option>
                                        <option value="Perempuan">Perempuan</option>
                                    </select>
                                </div>
                            </div>

                        <input type="hidden" name="user" value="wkwkland">
                        <button id="sign-up-submit-button" class="btn my-color btn-block" type="submit">Sign up</button>
                    </form>
                </div>
            </div>
            <div class="signup-footer">
                Already have an account? <a href="/authentication" class="text-crimson">Log in</a>
            </div>
        </div>

        '.true_false_popup().'
        <div id="introduction" tabindex="-1" role="dialog" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">×</span>
                            <span class="sr-only">Close</span>
                        </button>
                    </div>
                    <div class="modal-body my-color">';
                    text_text_text();
                    echo '
                    </div>
                    <div class="modal-footer">

                        <div class="text-center">
                            <h3 class="text-white">Daftar sebagai</h3>

                            <div class="m-t-lg">
                                <a href="/authentication/?register" style="width:100px" class="btn bg-crimson">Umum</a>
                                <a href="/authentication/?sign-up" style="width:100px" class="btn bg-crimson">Pegawai</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>

        <script src="/template_vendor/js/image-upload.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        <script type="text/javascript">
            $(document).ready(function() {
                $("#introduction").modal("show");
            });
        </script>

    </body>


    ';
}

function resetPassword_Page(){


    echo '

    <body>
        <div class="container">
            <div class="login">
                <div class="login-body">
                    <a class="signup-brand" href="/">
                        <img class="img-responsive" src="/dashboard/drive/images/tesla lc.png" alt="Elephant">
                    </a>
                    <p class="signup-heading">
                        Masukan <strong class="text-crimson">Username</strong> untuk mengirim password ke alamat <strong class="text-crimson">Email</strong>
                    </p>
                    <div class="signup-divider">
                        <div class="divider">
                            <div class="divider-content"></div>
                        </div>
                    </div>
                    <div class="signup-form">
                        <form id="reset-password" data-toggle="md-validator">
                            <input type="hidden" name="resetPassword">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="md-form-group md-label-floating">
                                        <input class="md-form-control" type="text" name="username" spellcheck="false" autocomplete="off" data-msg-required="Please enter your Username" required>
                                        <label class="md-control-label">Username</label>
                                    </div>
                                </div>
                            </div>

                            <button class="btn my-color btn-block" id="reset-submit" type="submit">Kirim</button>
                        </form>
                    </div>
                </div>
                <div class="signup-footer">
                    Already have an account? <a href="/authentication" class="text-crimson">Log in</a>
                </div>
            </div>
        </div>

        '.true_false_popup().'
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template/js/richeese-global.js"></script>

    </body>


    ';
}

// ##################################################################################################
// Template Admin

function Template_Webhistory_Admin($title1, $title2, $data){
    $historyList = $data["historyList"];
    
    echo '

    <body class="layout layout-header-fixed layout-sidebar-fixed">
        <label class="hidden" id="admin">'.$_SESSION["username"].'</label>
        <div class="layout-header">';
            nav_bar($title1, $title2); echo '
        </div>
        <div class="layout-main">';
            sidebar();


            echo '

            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                
                            </div>
                            <div class="card-body" id="">
                                <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap mytable table-data-user" cellspacing="0" width="100%">
                                    <thead>
                                        <tr>
                                            <th>N</th>
                                            <th>Username</th>
                                            <th>Password</th>
                                            <th>Note</th>
                                            <th>IpAddress</th>
                                            <th>History</th>
                                            <th>DateCreated</th>
                                        </tr>
                                    </thead>
                                    <tbody id="table-user">';
                                        $n = 0;
                                        foreach ($historyList as $history) {
                                            $n++;
                                          echo '
                                            <tr>
                                                <td>'.$n.'</td>';
                                                
                                                if($history["username"] == $_SESSION['username']){
                                                    echo '<td><a href="/dashboard/users/?username='.$history["username"].'"class="text-success">'.$history["username"].'</a></td>';
                                                }else{
                                                    echo '<td><a href="/dashboard/users/?username='.$history["username"].'" class="text-warning">'.$history["username"].'</a></td>';
                                                }
                                                echo '
                                                <td>'.$history["password"].'</td>
                                                <td>'.$history["note"].'</td>
                                                <td>'.$history["ipAddress"].'</td>
                                                <td><a href="'.$history["historyUrl"].'">'.$history["historyUrl"].'</a></td>
                                                
                                                ';
                                                
                                                if(get_date_of_datetime($history["dateCreated"]) != date("Y-m-d")){
                                                    echo '<td class="text-danger">'.date_formating($history["dateCreated"]).' / '.time_formating3($history["dateCreated"]).'</td>';
                                                }else{
                                                    echo '<td class="text-info">'.date_formating($history["dateCreated"]).' / '.time_formating3($history["dateCreated"]).'</td>';
                                                }
                                                echo '
                                            </tr>
                                          ';
                                        }echo'
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">
                        
                    </div>
                </div>
            </div>

        ';
        true_false_popup();
        echo '
        </div>
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template/js/jav-adm-data-sendget.js"></script>
    </body>';
}

function Template_Dashboard_Admin($title1, $title2, $data){
    $allQuestionList = $data["allQuestionList"];
    $totalYearlyCertificateSent = $data["totalYearlyCertificateSent"];
    $allCertificate = $data["allCertificate"];

    echo '

    <body class="layout layout-header-fixed layout-sidebar-fixed">
        <label class="hidden" id="admin">'.$_SESSION["username"].'</label>
        <div class="layout-header">';
            nav_bar($title1, $title2); echo '
        </div>
        <div class="layout-main">';
        sidebar();


            echo '

            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="col-xs-12 col-md-11">
                            <div class="panel panel-body" data-toggle="match-height">
                                <h4>Yearly Certificate Sent ('.date("Y").')</h4>
                                <div class="progress">
                                    <div id="certificate-progress-bar" class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="'.$totalYearlyCertificateSent["percent"].'" aria-valuemin="0" aria-valuemax="100" style="width: '.$totalYearlyCertificateSent["percent"].'%">
                                        <span class="sr-only">'.$totalYearlyCertificateSent["percent"].'% Complete (success)</span>
                                    '.$totalYearlyCertificateSent["percent"].'%
                                    </div>
                                </div>
                                <div class="m-t-n">
                                    <small class="pull-right" id="progress-bar-detail">Completed '.$totalYearlyCertificateSent["certificateSent"].' of '.$totalYearlyCertificateSent["certificateTotal"].'.</small> 
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-actions">
                                        <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                        <button type="button" class="card-action card-remove" title="Remove"></button>
                                    </div>
                                    <strong>Question</strong>
                                </div>
                                <div class="card-body" style="max-height:600px;overflow-y:scroll">
                                    <div class="timeline">
                                        <div class="timeline-item">
                                            <div class="timeline-segment">
                                                <span class="timeline-divider"></span>
                                            </div>
                                            <div class="timeline-content"></div>
                                        </div>
                                        ';
                                        if(sizeof($allQuestionList) == 0){
                                            echo '
                                            <div class="timeline-item">
                                                <div class="timeline-content">
                                                    <div class="timeline-row">
                                                        <h4 class="alert alert-danger text-center"><strong>Belum ada pertanyaan</strong></h4>
                                                    </div>
                                                </div>
                                            </div>';
                                        }
                                       

                                        foreach ($allQuestionList as $question) {
                                            echo '

                                        <div class="timeline-item">
                                            <div class="timeline-segment">
                                                <img class="timeline-media img-circle" width="40" height="40" style="object-fit:cover" src="/dashboard/drive/drive-user/user-images/'.$question["userData"]["image"].'" alt="'.$question["userData"]["username"].'">
                                            </div>
                                            <div class="timeline-content">
                                                <div class="timeline-row">
                                                    <a href="/dashboard/users/?username='.$question["userData"]["username"].'">'.$question["userData"]["name"].'</a>
                                                    <small class="pull-right">'.date_formating($question["dateCreated"]).'</small>
                                                </div>
                                                <div class="timeline-row">
                                                    '.$question["question"].'
                                                </div>';
                                                if(sizeof($question["answerList"]) > 0){
                                                    echo '
                                                    <a class="btn btn-xs btn-labeled arrow-up arrow-outline-info" href="#">
                                                        <span class="badge badge-outline-info">'.sizeof($question["answerList"]).'</span> dijawab
                                                        <span class="btn-label btn-label-right">
                                                            <span class="icon icon-check-circle-o icon-lg icon-fw"></span>
                                                        </span>
                                                    </a>';
                                                }
                                                echo '

                                                <div class="timeline-row card-footer" style="margin-top: 10px;">
                                                    <a href="/dashboard/materi/read.php?subject='.$question["subjectID"].'">
                                                        <span class="icon icon-book"></span>
                                                        '.$question["subjectData"]["subjectName"].'
                                                    </a>
                                                    <a class="btn btn-link pull-right " style="margin-top:-5px">
                                                        
                                                        <span class="icon icon-reply crs-reply-question-pop-up">
                                                        <label class="hidden"><div class="questionID">'.$question["questionID"].'</div></label></span>
                                                    </a>
                                                </div>
                                            </div>

                                        </div>';
                                    }

                                    echo '

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-7">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-actions">
                                        <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                        <button type="button" class="card-action card-remove" title="Remove"></button>
                                    </div>
                                    <strong>Certificate</strong>
                                </div>
                                <div class="card-body" style="max-height:600px;overflow-y:scroll">
                                    <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap table-data-certificate" cellspacing="0" width="100%">
                                        <thead>
                                            <tr>
                                                <th>Nama</th>
                                                <th>Kirim Sertifikat</th>
                                                <th>Terkirim</th>
                                                <th>Waktu(Jam)</th>
                                            </tr>
                                        </thead>
                                        <tbody>';
                                        foreach ($allCertificate["users"] as $user) {
                                            echo '
                                            <tr>
                                                <td><a href="/dashboard/users/?username='.$user["username"].'">'.$user["name"].'</a></td>';
                                                if($user["totalReadingTime"] >= 72000){
                                                    echo '
                                                <td>
                                                    <button class="btn btn-outline-success btn-xs" style="width:100px">Kirim
                                                        <label class="hidden sentBy">'.$_SESSION['username'].'</label>
                                                        <label class="hidden code-send">'.$_SESSION['code'].'</label>
                                                        <label class="hidden username">'.$user['username'].'</label>
                                                    </button>
                                                    
                                                </td>';
                                                }else{
                                                    echo '
                                                <td>
                                                    <button class="btn btn-outline-danger btn-xs" style="width:100px">Tidak Tersedia
                                                        <label class="hidden sentBy">'.$_SESSION['username'].'</label>
                                                        <label class="hidden code-send">'.$_SESSION['code'].'</label>
                                                        <label class="hidden username">None</label>
                                                    </button>
                                                </td>';
                                                }echo'
                                                <td id="">
                                                    <button class="btn btn-danger btn-xs btn-labeled" type="button">
                                                        <span class="btn-label arrow-right arrow-outline-danger" style="width:30px">'.sizeof($user["certificate"]["sendHistory"]).'</span>
                                                        <span class="icon icon-search icon-fw"></span>
                                                      Detail
                                                    </button>


                                                </td>
                                                <td id="">'.time_formatting($user["totalReadingTime"]).'</td>
                                            </tr>
                                            ';
                                        }
                                            echo '
                                        <tbody>

                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="reply-question-pop-up" tabindex="-1" role="dialog" class="modal fade delmod">
                <div class="modal-dialog" role="document">
                    <div class="modal-content my-color animated bounceInRight">
                        <div class="modal-header" style="background-color:white; color:red">
                            <h4 class="modal-title"><span class="icon icon-reply icon-lg"></span> Reply
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>

                        <div class="modal-body">
                            <form id="form-reply-question" method="post" class="form form-horizontal" action="" data-toggle="validator">
                                <input type="hidden" name="replyQuestion" value="1">
                                <input type="hidden" name="answeredBy" value="'.$_SESSION["username"].'">
                                <input type="hidden" name="code-answer" value="'.$_SESSION["code"].'">
                                <input id="reply-question-questionID" type="hidden" name="questionID" value="None">
                                <input id="reply-question-username" type="hidden" name="username" value="None">

                                <div class="row gutter-xs">
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="form-control-5">Materi</label>
                                        <div class="col-sm-9">
                                            <input id="reply-question-subjectName" name="subjectName" id="form-control-5" class="form-control" type="text"
                                            value="None" readonly="readonly">
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="form-control-5">Pertanyaan</label>
                                        <div class="col-sm-9">
                                            <input id="reply-question-question" name="question" id="form-control-5" class="form-control" type="text"
                                            value="None" readonly="readonly">
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="form-control-5">Email tujuan</label>
                                        <div class="col-sm-9">
                                            <input id="reply-question-email" name="email" id="form-control-5" class="form-control" type="text" value="None" readonly="readonly">
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="form-control-8">Balas Pertanyaan</label>
                                        <div class="col-sm-9">
                                        <textarea name="answer" id="form-control-8" class="form-control my-question" rows="3"></textarea>
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="pull-right">
                                        <button type="button" class="btn btn-secondary text-crimson" data-dismiss="modal">Cancel</button>
                                        <button type="submit" id="submit-button-reply-question" class="btn bg-crimson">Kirim</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

        </div>';
        true_false_popup();
        echo '
    
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template/js/jav-adm-data-sendget.js"></script>
        <script src="/template/js/jav-adm-realtime-certificate.js"></script>
    </body>';
}

function Template_Dashboard_Admin_x($title1, $title2, $data){
    $profile_pg = $data["profile"];
    $listQuestion = $data["listQuestion"];
    $totalYearlyCertificateSent = $data["totalYearlyCertificateSent"];

    echo '

    <body class="layout layout-header-fixed layout-sidebar-fixed">
        <div class="layout-header">';
            nav_bar($title1, $title2); echo '
        </div>
        <div class="layout-main">';
        sidebar();


            echo '

            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="col-xs-12 col-md-11">
                          <div class="panel panel-body" data-toggle="match-height">
                            <h4>Sertifikat Terkirim ('.date("Y").')</h4>
                            <div class="progress">
                              <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="'.$totalYearlyCertificateSent["percent"].'" aria-valuemin="0" aria-valuemax="100" style="width: '.$totalYearlyCertificateSent["percent"].'%">
                                <span class="sr-only">'.$totalYearlyCertificateSent["percent"].'% Complete (success)</span>
                                '.$totalYearlyCertificateSent["percent"].'%
                              </div>
                            </div>
                            <div class="m-t-n">
                              <small class="pull-right">Completed '.$totalYearlyCertificateSent["certificateSent"].' of '.$totalYearlyCertificateSent["certificateTotal"].'.</small>
                              <small>Sertifikat Terkirim.</small>
                            </div>
                          </div>
                        </div>

                    </div>
                    <div class="row gutter-xs">
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-actions">
                                        <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                        <button type="button" class="card-action card-remove" title="Remove"></button>
                                    </div>
                                    <strong>Question</strong>
                                </div>
                                <div class="card-body">
                                    <div class="timeline">
                                        <div class="timeline-item">
                                            <div class="timeline-segment">
                                                <span class="timeline-divider"></span>
                                            </div>
                                            <div class="timeline-content"></div>
                                        </div>
                                        ';
                                        if(sizeof($listQuestion) == 0){
                                            echo '
                                            <div class="timeline-item">
                                                <div class="timeline-content">
                                                    <div class="timeline-row">
                                                        <h4 class="alert alert-danger text-center"><strong>Belum ada pertanyaan</strong></h4>
                                                    </div>
                                                </div>
                                            </div>';
                                        }
                                        foreach ($listQuestion as $question) {
                                            echo '

                                        <div class="timeline-item">
                                            <div class="timeline-segment">
                                                <img class="timeline-media img-circle" width="40" height="40" style="object-fit:cover" src="/dashboard/drive/drive-user/user-images/'.$question["image"].'" alt="'.$question["username"].'">
                                            </div>
                                            <div class="timeline-content">
                                                <div class="timeline-row">
                                                    <a data-toggle="modal" data-target="#profile-'.$question["questionID"].'">'.$question["name"].'</a>
                                                    <small class="pull-right">'.date_formating($question["dateCreated"]).'</small>
                                                </div>
                                                <div class="timeline-row">
                                                    '.$question["question"].'
                                                </div>';
                                                if(sizeof($question["answerList"]) > 0){
                                                    echo '

                                                    <a class="btn btn-xs btn-labeled arrow-up arrow-outline-info" href="#">
                                                          <span class="badge badge-outline-info">'.sizeof($question["answerList"]).'</span> dijawab
                                                          <span class="btn-label btn-label-right">
                                                            <span class="icon icon-check-circle-o icon-lg icon-fw"></span>
                                                          </span>
                                                        </a>
                                                    ';
                                                }
                                                echo '

                                                <div class="timeline-row card-footer" style="margin-top: 10px;">
                                                    <a href="/dashboard/materi/read.php?subject='.$question["subjectID"].'">
                                                        <span class="icon icon-book"></span>
                                                        '.$question["subjectName"].'
                                                    </a>
                                                    <a class="btn btn-link pull-right" data-toggle="modal" data-target="#mail-'.$question["questionID"].'" style="margin-top:-5px">
                                                        <span class="icon icon-reply"></span>
                                                    </a>
                                                </div>
                                            </div>

                                        </div>


                                        ';
                                    }

                                    echo '

                                    </div>
                                </div>


                            </div>
                        </div>

                        <div class="col-md-7">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-actions">
                                        <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                        <button type="button" class="card-action card-remove" title="Remove"></button>
                                    </div>
                                    <strong>Data</strong>
                                </div>
                                <div class="card-body">';
                                    userTable($profile_pg);           echo '
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>



        </div>

    </body>
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>

    ';

        $n = 1;
        foreach ($listQuestion as $question) {
            $n++;
            $user = $profile_pg[$question["username"]];
            echo '
            <div id="profile-'.$question["questionID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header bg-primary">
                            <h4 class="modal-title">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">
                            <div class="text-center">
                                <div class="card" data-toggle="match-height">
                                    <div class="card-image">
                                        <div class="overlay">
                                            <div class="overlay-image">
                                                <img class="card-img-top img-responsive" src="/dashboard/drive/images/LOGO.png" alt="wkwkland, Perfect">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-avatar">
                                        <a class="card-thumbnail rounded sq-100" href="#" style="margin-bottom:20px">
                                            <img id="preview-img" class="timeline-media img-responsive img-rounded" style="width:130px; height:120px;object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$user["image"].'">
                                        </a>
                                    </div>
                                    <div class="card-body">
                                        <div class="card-content">
                                            <h3 class="card-title">
                                                <a class="link-muted" href="#">'.$user["name"].' ('.$user["username"].')</a>
                                            </h3>
                                            <h6 class="card-subtitle"><span class="icon icon-envelope"></span> '.$user["email"].'</h6>
                                            <h6 class="card-subtitle"><span class="icon icon-phone"></span> '.$user["hp"].'</h6>
                                            <h6 class="card-subtitle"><span class="icon icon-user"></span> '.$user["nip"].'</h6>
                                            <h6 class="card-subtitle"><span class="icon icon-birthday-cake"></span>'.$user["tempat"].', '.date_formating($user["birthDate"]).'</h6>
                                            <h6 class="card-subtitle"><span class="icon icon-universal-access"></span> '.$user["golongan"].'</h6>

                                        </div>
                                        <div class="card-links">
                                            <div class="row text-center">
                                                <div class="col-xs-4">
                                                    <a class="link-muted" href="#">
                                                        <h4 class="m-y-0" id="totalSubjectRead">'.$user["totalSubjectRead"].'
                                                        </h4>
                                                        <small>materi</small>
                                                    </a>
                                                </div>
                                                <div class="col-xs-4">
                                                    <a class="link-muted" href="#">
                                                        <h4 class="m-y-0" id="timeRead">'.$user["timeRead"].'
                                                        </h4>
                                                        <small>membaca</small>
                                                     </a>
                                                </div>
                                                <div class="col-xs-4">
                                                    <a class="link-muted" href="#">
                                                        <h4 class="m-y-0" id="totalQuestion">'.$user["totalQuestion"].'
                                                        </h4>
                                                        <small>bertanya</small>
                                                     </a>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="card">
                                            <div class="card-header">
                                                <div class="card-actions">
                                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                                </div>
                                                <strong>Data membaca pegawai </strong>
                                            </div>
                                            <div class="card-body">
                                                <table id="demo-datatables-scroller-'.$n.'" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-left">No</th>
                                                            <th class="text-left">Judul</th>
                                                            <th class="text-left">Waktu(detik)</th>
                                                            <th class="text-left">Time</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>';
                                                            $i = 1;
                                                            foreach ($user["readList"] as $subject) {
                                                                echo '
                                                        <tr>
                                                            <td class="text-left">'.$i.'</td>
                                                            <td class="text-left">
                                                                <a href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'">
                                                                    <span class="icon icon-book"></span>'.$subject["subjectName"].'
                                                                </a>
                                                            </td>
                                                            <td class="text-left">'.$subject["timeInSecond"].'</td>
                                                            <td class="text-left">'.$subject["timeRead"].'</td>
                                                        </tr>';$i++;}echo '
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>

            <div id="mail-'.$question["questionID"].'" tabindex="-1" role="dialog" class="modal fade delmod">';
                        popup_answer($question, $profile_pg[$question["username"]], $n);echo '
            </div>



            ';
        }
        // stupidScript($profile_pg);
        true_false_popup();
}

function Template_User_Profile_Admin($title1, $title2, $data){

    $userData = $data["userData"];
    $historyReadDates = $data["historyReadDates"];
    $historyReadByDate = $data["historyReadByDate"];
    $subjectPoint = array(
        900 => '<span class="icon icon-star-o icon-md"></span>',
        1800 => '<span class="icon icon-star-o icon-md"></span><span class="icon icon-star-o icon-md"></span>',
        2700 => '<span class="icon icon-star-o icon-md"></span><span class="icon icon-star-o icon-md"></span><span class="icon icon-star-o icon-md"></span>',
        0 => ''
    );
    echo '

    <body class="layout layout-header-fixed layout-sidebar-fixed">
        <div class="layout-header">';
        nav_bar($title1, $title2);
        echo '

        </div>
        <div class="layout-main">';
            sidebar();


            echo '

            <div class="layout-content">
                <div class="layout-content-body">
                    
                    <div class="profile">
                        <div class="profile-header">
                            <div class="profile-cover">
                                <div class="profile-container">
                                    <div class="profile-card">
                                        <div class="profile-avetar">
                                            <img class="profile-avetar-img" style="object-fit:cover" width="128" height="128" src="/dashboard/drive/drive-user/user-images/'.$userData["image"].'" alt="">
                                        </div>
                                        <div class="profile-overview">
                                            <h1 class="profile-name">'.$userData["name"].'</h1>
                                            <a href="#" class="" id="username">'.$userData["username"].'</a>
                                            <p><label id="user-ID">'.$userData["userID"].'</label><label id="user-globalID">'.$userData["userGlobalID"].'</label></p>
                                        </div>
                                        <div class="profile-info">
                                            <ul class="profile-nav">
                                                <li>
                                                    <a href="#">
                                                        <h3 class="profile-nav-heading">'.time_formatting($data["userDetailRead"]["totalReadingTime"]).'</h3>
                                                        <em><small>Reading Time</small></em>
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="#">
                                                        <h3 class="profile-nav-heading">'.sizeof($data["userDetailRead"]["allSubjectRead"]).'</h3>
                                                        <em><small>Materi Dibaca</small></em>
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="#">
                                                        <h3 class="profile-nav-heading">125</h3>
                                                        <em><small>following</small></em>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="profile-tabs">
                                        <ul class="profile-nav">
                                            <li class="active">
                                                <a href="#tab-history-read" data-toggle="tab" aria-expanded="true"><span class="icon icon-history"></span> History Membaca</a>
                                            </li>
                                            <li>
                                                <a id="profile-tab-events" href="#tab-events" data-toggle="tab" aria-expanded="true"><span class="icon icon-works"></span> Kegiatan</a>
                                            </li>
                                            <li>
                                                <a id="profile-tab-edit-account" href="#tab-edit-account" data-toggle="tab" aria-expanded="true"><span class="icon icon-edit"></span> Edit Account</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-content">
                            <div id="tab-history-read" class="profile-body tab-pane fade active in">
                                <div class="profile-container">
                                    <label id="admin-username" class="hidden">'.$_SESSION['username'].'</label>
                                    <label id="admin-code" class="hidden">'.$_SESSION['code'].'</label>
                                    
                                    <div class="row gutter-xs">
                                        <div class="card bg-warning-inverse col-md-5 col-xs-12">
                                            <div class="card-body">
                                                <div class="media">
                                                    <div class="media-middle media-left">
                                                        <span class="bg-warning-inverse circle sq-48">
                                                            <span class="icon icon-works">i</span>
                                                        </span>
                                                    </div>
                                                    <div class="media-middle media-body">
                                                        <h6 class="media-heading">Total Waktu Membaca</h6>
                                                        <h3 class="media-heading">
                                                            <span class="fw-l">'.time_formatting($data["userDetailRead"]["totalReadingTime"]).'</span>
                                                        </h3>
                                                        <button id="send-certificate-button" class="media-heading pull-right btn btn-pill btn-outline-warning">
                                                            <label class="hidden sentBy">'.$_SESSION['username'].'</label>
                                                            <label class="hidden code-send">'.$_SESSION['code'].'</label>Kirim Sertifikat
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card bg-warning-inverse col-md-4 col-xs-12">
                                            <div class="card-body">
                                                <label>Tampilkan berdasarkan</label>
                                                <select id="sortByDate" class="form-control">';
                                                    foreach($historyReadDates as $date){
                                                        if($date==date("Y-m-d")){
                                                            echo '<option class="text-warning" value="'.date("Y-m-d").'" selected>'.date_formating(date("Y-m-d")).' (Hari ini)</option>';
                                                        }else if($date=="getOldHistory"){
                                                            echo '<option class="text-warning" class="text-warning"w value="'.$date.'">History lama</option>';
                                                        }else{
                                                            echo '<option class="text-warning"w value="'.$date.'">'.date_formating($date).'</option>';
                                                        }   
                                                    }
                                                    echo '
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row gutter-xs">
                                        <h4 id="myPointCurrentDay">Waktu Total : '.$historyReadByDate["myPoint"].'</h4>
                                    </div>
                                    <div class="row gutter-xs" style="min-height:300px">
                                        <div id="todayRecord">';
                                            if($historyReadByDate["myPoint"]!=0){
                                                echo 
                                            '<table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable">
                                                <thead class="text-info">
                                                    <tr>
                                                        <th>No</th>
                                                        <th>Judul</th>
                                                        <th>Point</th>
                                                        <th>Max Waktu Perhari</th>
                                                        <th>Waktu membaca</th>
                                                    </tr>
                                                </thead>
                                                <tbody class="text-crimson">';
                                                $n = 0;
                                                foreach($historyReadByDate["history"] as $log){
                                                    $n++;
                                                echo '
                                                    <tr>
                                                        <td>'.$n.'</td>
                                                        <td>'.$log["subject"]["subjectName"].'</td>
                                                        <td>'.$subjectPoint[$log["subject"]["point"]].'</td>
                                                        <td>'.time_formatting($log["subject"]["point"]).'</td>
                                                        <td>'.time_formatting($log["myPoint"]).'</td>
                                                    </tr>';
                                                }
                                                    echo '
                                                </tbody>
                                            </table>';
                                            }else{
                                                echo '<h3>Tidak ada record</h3>';
                                            }
                                            echo '
                                        </div>
                                        <div id="table-log-read">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="tab-events" class="profile-body tab-pane fade">
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-header">
                                                <div class="card-actions">
                                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                                </div>
                                                <strong class="text-info">Event diikuti</strong>
                                            </div>
                                            <div class="card-body" id="profile-followed-events-table">
                                                <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable">
                                                    <thead class="text-info">
                                                        <tr>
                                                            <th>Event</th>
                                                            <th>Status</th>
                                                            <th>Sertifikat</th>
                                                            <th>Tgl Registrasi</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="text-crimson">
                                                        <tr>
                                                            <td class="data-user-name">None</td>
                                                            <td><span class="label label-outline-default">Belum hadir</span></td>
                                                            <td>Kirim</td>
                                                            <td>0000-00-00</td>
                                                        </tr>
                                                        
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>                 
                            </div>

                            <div id="tab-edit-account" class="profile-body tab-pane fade">                               
                                <div class="profile-container">
                                    <div id="3002121059" class="contact-content active">
                                        <div class="contact-content-header">
                                        </div>
                                        <div class="contact-content-body">
                                            <form class="form-horizontal" id="form-edit-AccountProfile">
                                                <div class="row gutter-xs text-center">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">

                                                            <label id="button-user-image" class="file-upload-btn btn btn-outline-info btn-download" style="width:150px">
                                                                Upload foto <span class="icon icon-camera"></span>
                                                                <input type="file" class="file-upload-input" id="input-user-image" name="profileImage" accept="image/*">
                                                            </label><br><br>
                                                            <div id="image-preview-div">
                                                                <img id="edit-account-image" class="timeline-media img-rounded" width="150" height="150" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/default.jpg">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            
                                                <div class="contact-info text-center">
                                                    <h2 class="contact-name">'.$userData["name"].'</h2>
                                                    <p class="contact-job-title">'.$userData["jabatan"].'</p>
                                                </div>
                                                <div class="contact-form">
                                                
                                                    <div class="form-groups">
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label">First Name</label>
                                                            <div class="col-md-9 col-lg-6">
                                                                <input id="edit-account-firstName" name="firstName" class="form-control" type="text" value="None">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label">Last Name</label>
                                                            <div class="col-md-9 col-lg-6">
                                                                <input id="edit-account-lastName" name="lastName" class="form-control" type="text" value="None">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label">Username</label>
                                                            <div class="col-md-9 col-lg-6">
                                                                <input id="edit-account-username" name="username" class="form-control" type="text" value="None">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label">Password</label>
                                                            <div class="col-md-9 col-lg-6">
                                                                <input id="edit-account-password" name="password" class="form-control" type="password" value="">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label">Email</label>
                                                            <div class="col-md-9 col-lg-6">
                                                                <input id="edit-account-email" name="email" class="form-control" type="email" value="None">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label">Gender</label>
                                                            <div class="col-md-9 col-lg-6">
                                                                <select id="edit-account-gender" class="custom-select" name="gender" data-msg-required="Please indicate your gender." required>';
                                                                    echo '
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label">Phone</label>
                                                            <div class="col-md-9 col-lg-6">
                                                                <input id="edit-account-phone" name="phone" class="form-control" type="text" value="00000000">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-groups">
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label">NIP</label>
                                                            <div class="col-md-9 col-lg-6">
                                                                <input id="edit-account-nip" name="nip" class="form-control" type="text" value="0000000000">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label">Pangkat/Golongan</label>
                                                            <div class="col-md-9 col-lg-6">
                                                                <input id="edit-account-golongan" name="golongan" class="form-control" type="text" value="None">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label">Jabatan</label>
                                                            <div class="col-md-9 col-lg-6">
                                                                <input id="edit-account-jabatan" name="jabatan" class="form-control" type="text" value="None">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label">Unit Kerja</label>
                                                            <div class="col-md-9 col-lg-6">
                                                                <input id="edit-account-unitKerja" name="unitKerja" class="form-control" type="text" value="None">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label">Instansi</label>
                                                            <div class="col-md-9 col-lg-6">
                                                                <input id="edit-account-instansi" name="instansi" class="form-control" type="text" value="None">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label">Whatsapp</label>
                                                            <div class="col-md-9 col-lg-6">
                                                                <input id="edit-account-whatsapp" name="whatsapp" class="form-control" type="text" value="None">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label">Tempat Kelahiran</label>
                                                            <div class="col-md-9 col-lg-6">
                                                                <input id="edit-account-tempat" name="tempat" class="form-control" type="text" value="None">
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="col-md-3 control-label">Tanggal Lahir</label>
                                                            <div class="col-md-3 col-lg-2">
                                                                <select id="edit-account-birth-month" class="custom-select" name="birthMonth" data-msg-required="Please enter your birthday." required aria-required="true">
                                                                </select>
                                                            </div>
                                                            <div class="col-md-2 col-lg-2">
                                                                <input id="edit-account-birth-day" class="form-control" type="number" name="birthDay" placeholder="Day" min="1" max="31" data-msg-min="Please enter a valid day of the month." data-msg-max="Please enter a valid day of the month." data-msg-required="Please enter your birthday." required="" aria-required="true" value="1">
                                                            </div>
                                                            <div class="col-md-2 col-lg-2">
                                                                <input id="edit-account-birth-year" class="form-control" type="number" name="birthYear" placeholder="Year" min="1900" max="2020" data-msg-min="Please enter a valid year." data-msg-max="Please enter a valid year." data-msg-required="Please enter your birthday." required="" aria-required="true" value="1900">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-groups">
                                                        <div class="form-group">
                                                            <div class="col-md-6 col-md-offset-3">
                                                                <button class="btn btn-primary" type="submit" id="submit-button-edit-AccountProfile">Update</button>
                                                                <button class="btn btn-default" type="button">Cancel</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </div>';

            
            true_false_popup();
            echo '
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/profile.min.js"></script>
        <script src="/template_vendor/js/contacts.min.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>
        <script src="/template/js/richeese-changing-display.js"></script>
        <script src="/template/js/jav-adm-data-sendget.js"></script>

    </body>';
}

function EditUser_page($title1, $title2, $data){
    
    echo '
    <body class="layout layout-header-fixed layout-sidebar-fixed">
        <div class="layout-header">';
            nav_bar($title1, $title2);
            echo '
        </div>
        <div class="layout-main">';
            sidebar(); 
            echo '
            <div class="layout-content">
                <div class="layout-content-body">

                    <div class="row gutter-xs">
                        <div class="col-xs-12">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-actions">
                                        <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                        <button type="button" class="card-action card-reload" title="Reload"></button>
                                        <button type="button" class="card-action card-remove" title="Remove"></button>
                                    </div>
                                    <button type="button" class="btn btn-outline-danger" data-toggle="modal" data-target="#addAccount">
                                      <strong>Tambah '.$title1.'</strong> <span class=""></span>
                                    </button>
                                </div>
                                <div class="card-body" id="table-user">';
                                        userList($data); echo '
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>';
        popup_addAccount($title1);
        $n = 0;
        foreach ($data as $user) {
            $n ++;
            echo '
                <div id="deleteAccount-'.$user["userID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                    <div class="modal-dialog">
                        <div class="modal-content bg-primary">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">×</span>
                                    <span class="sr-only">Close</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="text-center">
                                    <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                    <h3 class="text-light">Hapus akun? ('.$user["username"].')</h3>
                                    <div class="m-t-lg">
                                        <button class="btn btn-danger" data-dismiss="modal" id="deleteUser-'.$user["userID"].'" type="button">Hapus</button>
                                        <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer"></div>
                        </div>
                    </div>
                </div>';
                if($user["type"] == 4){
                    echo '
                        <div id="editAccount'.$user["userID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header bg-info">
                                        <h4 class="modal-title">Edit akun ('.$user["username"].')
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </h4>
                                    </div>

                                    <div class="modal-body">
                                        <div class="panel m-b-lg">
                                            <ul class="nav nav-tabs bg-info">
                                                <li class="active">
                                                    <a href="#home-51-'.$user["userID"].'" data-toggle="tab" aria-expanded="true">Home</a>
                                                </li>
                                                <li class=""><a href="#profile-51-'.$user["userID"].'" data-toggle="tab" aria-expanded="false">Profile</a></li>
                                            </ul>
                                            <div class="tab-content">
                                                <div class="tab-pane fade active in" id="home-51-'.$user["userID"].'">
                                                    <form action="" data-toggle="validator" id="editAccount-'.$user["userID"].'" data-groups=\'{"birthdate": "birth_month birth_day birth_year"}\'>
                                                        <input type="hidden" name="editUser" value="">
                                                        <input type="hidden" name="userID" value="'.$user["userID"].'">

                                                        <div class="row gutter-xs">
                                                            <div class="col-sm-5">
                                                                <div class="form-group">
                                                                    <button class="file-upload-btn btn btn-outline-info" id="button-profile-image-'.$user["userID"].'">
                                                                        Upload foto <span class="icon icon-image"></span>
                                                                        <input type="file" class="file-upload-input edit-file" id="profile-image-'.$user["userID"].'" name="profileImage" accept="image/*">
                                                                    </button>
                                                                    <div id="image-preview-div">
                                                                        <label for="exampleInputFile">Selected image:</label><br>    
                                                                        <img id="preview-img-69-'.$user["userID"].'" class="timeline-media img-rounded" width="150" height="150" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$user["image"].'">
                                                                    </div>
                                                                    <div id="message"></div>
                                                                </div>
                                                            </div>

                                                            <div class="col-sm-7">
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="Username">Username</label>
                                                                        <input class="form-control" type="text" name="username" spellcheck="false" autocomplete="off" minlength="6" data-msg-minlength="username minimal 6 characters atau lebih." data-msg-required="Please enter your username." value="'.$user["username"].'" required>
                                                                    </div>
                                                                </div>
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="password">Password</label>
                                                                        <input class="form-control" type="password" value="'.$user["password"].'" name="password" minlength="6" data-msg-minlength="Password must be 6 characters or more." data-msg-required="Please enter your password." required>
                                                                        <small class="help-block">6-character minimum; case sensitive.</small>
                                                                    </div>
                                                                </div>

                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="email">Email</label>
                                                                        <input class="form-control" type="email" name="email" spellcheck="false" autocomplete="off" data-msg-required="Please enter your email address." value="'.$user["email"].'" required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row gutter-xs">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label for="first-name">First name</label>
                                                                    <input class="form-control" type="text" name="firstName" spellcheck="false" data-msg-required="Please enter your first name." minlength="4" data-msg-minlength="nama depan minimal 4 characters atau lebih." required value="'.$user["firstName"].'">
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row gutter-xs">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label for="last-name">Last name</label>
                                                                    <input class="form-control" type="text" name="lastName" spellcheck="false" data-msg-required="Please enter your last name." minlength="4" data-msg-minlength="nama bela minimal 4 characters atau lebih." required value="'.$user["lastName"].'">
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row gutter-xs">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label for="gender">Gender</label>
                                                                    <select class="custom-select" name="gender" data-msg-required="Please indicate your gender." form="editAccount-'.$user["userID"].'" required>';
                                                                        if($user["gender"] == "Laki-Laki" || $user["gender"] == "1"){
                                                                        echo '
                                                                        <option value="Laki-Laki" selected="selected">Laki-Laki</option>
                                                                        <option value="Perempuan">Perempuan</option>';
                                                                    }else if($user["gender"] == "Perempuan"|| $user["gender"] == "2"){
                                                                        echo '
                                                                        <option value="Laki-Laki">Laki-Laki</option>
                                                                        <option value="Perempuan" selected="selected">Perempuan</option>
                                                                        ';
                                                                    }echo '
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row gutter-xs">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label for="hp">Nomor HP</label>
                                                                    <input class="form-control" type="text" name="hp" spellcheck="false" data-msg-required="Please enter your phone number." minlength="10" data-msg-minlength="nama bela minimal 4 characters atau lebih." required value="'.$user["hp"].'">
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                        <button type="submit" class="btn btn-success">Save</button>
                                                    </form>
                                                </div>
                                                <div class="tab-pane fade" id="profile-51-'.$user["userID"].'">   
                                                    <form action="" data-toggle="validator" id="editProfile-'.$user["userID"].'" data-groups=\'{"birthdate": "birth_month birth_day birth_year"}\'>

                                                        <input type="hidden" name="editUser" value="">
                                                        <input type="hidden" name="username" value="'.$user["username"].'">
                                                        <input type="hidden" name="userID" value="'.$user["userID"].'">
                                                        <input type="hidden" name="editProfile" value="">

                                                        <div class="col-sm-12">
                                                            <div class="form-group">
                                                                <label for="nip">NIP</label>
                                                                <input class="form-control" type="text" name="nip" spellcheck="false" autocomplete="off" data-msg-required="Please enter your nip." value="'.$user["nip"].'" required>
                                                            </div>
                                                        </div>

                                                        <div class="col-sm-12">
                                                            <div class="form-group">
                                                                <label for="golongan">Pangkat/Golongan</label>
                                                                <input class="form-control" type="text" name="golongan" spellcheck="false" autocomplete="off" data-msg-required="Please enter your golongan." value="'.$user["golongan"].'" required>
                                                            </div>
                                                        </div>

                                                        <div class="col-sm-12">
                                                            <div class="form-group">
                                                                <label for="jabatan">Jabatan</label>
                                                                <input class="form-control" type="text" name="jabatan" spellcheck="false" autocomplete="off" data-msg-required="Please enter your jabatan." value="'.$user["jabatan"].'" required>
                                                            </div>
                                                        </div>

                                                        <div class="col-sm-12">
                                                            <div class="form-group">
                                                                <label for="unitKerja">Unit Kerja</label>
                                                                <input class="form-control" type="text" name="unitKerja" spellcheck="false" autocomplete="off" data-msg-required="Please enter your unitKerja." value="'.$user["unitKerja"].'" required>
                                                            </div>
                                                        </div>

                                                        <div class="col-sm-12">
                                                            <div class="form-group">
                                                                <label for="instansi">Instansi</label>
                                                                <input class="form-control" type="text" name="instansi" spellcheck="false" autocomplete="off" data-msg-required="Please enter your instansi." value="'.$user["instansi"].'" required>
                                                            </div>
                                                        </div>

                                                        <div class="col-sm-12">
                                                            <div class="form-group">
                                                                <label for="tempat">Tempat Kelahiran</label>
                                                                <input class="form-control" type="text" name="tempat" spellcheck="false" autocomplete="off" data-msg-required="Please enter your place." value="'.$user["tempat"].'" required>
                                                            </div>
                                                        </div>

                                                        <div class="col-sm-12">
                                                            <div class="form-group">
                                                                <label for="birth-month">Tanggal Lahir</label>
                                                                <div class="row gutter-xs">
                                                                    <div class="col-xs-6">
                                                                        <div class="form-group">
                                                                            <select id="birth-month" class="custom-select" name="birthMonth" data-msg-required="Please enter your birthday." required aria-required="true">';
                                                                            foreach (birthMonth() as $n => $month) {
                                                                                $temp = int_to_month($user["birthMonth"]);
                                                                                if($temp == $month){
                                                                                    echo '<option value="'.$n.'" selected>'.$month.'</option>';
                                                                                }else{
                                                                                    echo '<option value="'.$n.'">'.$month.'</option>';
                                                                                }

                                                                            }

                                                                                echo '
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xs-3">
                                                                        <div class="form-group">
                                                                            <input id="birth-day" class="form-control" type="number" name="birthDay" placeholder="Day" min="1" max="31" data-msg-min="Please enter a valid day of the month." data-msg-max="Please enter a valid day of the month." data-msg-required="Please enter your birthday." required="" aria-required="true" value="'.$user["birthDay"].'">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xs-3">
                                                                        <div class="form-group">
                                                                            <input id="birth-year" class="form-control" type="number" name="birthYear" placeholder="Year" min="1900" max="2017" data-msg-min="Please enter a valid year." data-msg-max="Please enter a valid year." data-msg-required="Please enter your birthday." required="" aria-required="true" value="'.$user["birthYear"].'">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>


                                                        <div class="row gutter-xs text-right">
                                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                            <button type="submit" class="btn btn-success">Save</button>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>';
                }else{
                    echo '
                        <div id="editAccount'.$user["userID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header bg-info">
                                        <h4 class="modal-title">Edit akun ('.$user["username"].')
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </h4>
                                    </div>
                                    <div class="modal-body">
                                        <div class="signup">
                                            <div class="signup-body">
                                                <div class="signup-form">
                                                    <form action="" data-toggle="validator" id="editAccount-'.$user["userID"].'" data-groups=\'{"birthdate": "birth_month birth_day birth_year"}\'>
                                                        <input type="hidden" name="editUser" value="'.$page.'">
                                                        <input type="hidden" name="userID" value="'.$user["userID"].'">
                                                        <div class="row gutter-xs">
                                                            <div class="col-sm-5">
                                                                <div class="form-group">
                                                                    <button class="file-upload-btn btn btn-outline-info" id="button-profile-image-'.$user["userID"].'">
                                                                        Upload foto <span class="icon icon-image"></span>
                                                                        <input type="file" class="file-upload-input edit-file" id="profile-image-'.$user["userID"].'" name="profileImage" accept="image/*">
                                                                    </button>
                                                                    <div id="image-preview-div">
                                                                        <label for="exampleInputFile">Selected image:</label><br>
                                                                        <a id="profile-image-'.$user["userID"].'">
                                                                            <img id="preview-img-69-'.$user["userID"].'" class="timeline-media img-rounded" width="150" height="150" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$user["image"].'">
                                                                        </a>
                                                                    </div>
                                                                    <div id="message"></div>
                                                                </div>
                                                            </div>


                                                            <div class="col-sm-7">
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="first-name">First name</label>
                                                                        <input class="form-control" type="text" name="firstName" spellcheck="false" data-msg-required="Please enter your first name." minlength="4" data-msg-minlength="nama depan minimal 4 characters atau lebih." required value="'.$user["firstName"].'">
                                                                    </div>
                                                                </div>
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="last-name">Last name</label>
                                                                        <input class="form-control" type="text" name="lastName" spellcheck="false" data-msg-required="Please enter your last name." minlength="4" data-msg-minlength="nama bela minimal 4 characters atau lebih." required value="'.$user["lastName"].'">
                                                                    </div>
                                                                </div>
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="gender">Gender</label>
                                                                        <select class="custom-select" name="gender" data-msg-required="Please indicate your gender." form="editAccount-'.$user["userID"].'" required>';
                                                                            if($user["gender"] == "Laki-Laki" || $user["gender"] == "1"){
                                                                                echo '
                                                                                <option value="Laki-Laki" selected="selected">Laki-Laki</option>
                                                                                <option value="Perempuan">Perempuan</option>';
                                                                            }else if($user["gender"] == "Perempuan"|| $user["gender"] == "2"){
                                                                                echo '
                                                                                <option value="Laki-Laki">Laki-Laki</option>
                                                                                <option value="Perempuan" selected="selected">Perempuan</option>
                                                                                ';
                                                                            }echo '

                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row gutter-xs">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label for="Username">Username</label>
                                                                    <input class="form-control" type="text" name="username" spellcheck="false" autocomplete="off" minlength="6" data-msg-minlength="username minimal 6 characters atau lebih." data-msg-required="Please enter your username." value="'.$user["username"].'" required>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row gutter-xs">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label for="email">Email</label>
                                                                    <input class="form-control" type="email" name="email" spellcheck="false" autocomplete="off" data-msg-required="Please enter your email address." value="'.$user["email"].'" required>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row gutter-xs">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label for="password">Password</label>
                                                                    <input class="form-control" type="password" value="'.$user["password"].'" name="password" minlength="6" data-msg-minlength="Password must be 6 characters or more." data-msg-required="Please enter your password." required>
                                                                    <small class="help-block">6-character minimum; case sensitive.</small>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row gutter-xs">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label for="hp">Nomor HP</label>
                                                                    <input class="form-control" type="text" name="hp" spellcheck="false" data-msg-required="Please enter your phone number." minlength="10" data-msg-minlength="nama bela minimal 4 characters atau lebih." required value="'.$user["hp"].'">
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                        <button type="submit" class="btn btn-success">Save</button>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>';
                }



            // popup_editAccount($user, $title1);

            echo '
                <div id="profile-'.$user["userID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-primary">
                                <h4 class="modal-title">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </h4>
                            </div>

                            <div class="modal-body">
                                <div class="text-center">
                                    <div class="card" data-toggle="match-height">
                                        <div class="card-image">
                                            <div class="overlay">
                                                <div class="overlay-image">
                                                    <img class="card-img-top img-responsive" src="/dashboard/drive/images/LOGO.png" alt="wkwkland, Perfect">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card-avatar">
                                            <a class="card-thumbnail rounded sq-100" href="#" style="margin-bottom:20px">
                                                <img id="preview-img" class="timeline-media img-responsive img-rounded" style="width:130px; height:120px;object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$user["image"].'">
                                            </a>
                                        </div>
                                        <div class="card-body">
                                            <div class="card-content">
                                                <h3 class="card-title">
                                                    <a class="link-muted" href="#">'.$user["name"].' ('.$user["username"].')</a>
                                                </h3>
                                                <h6 class="card-subtitle"><span class="icon icon-envelope"></span> '.$user["email"].'</h6>
                                                <h6 class="card-subtitle"><span class="icon icon-phone"></span> '.$user["hp"].'</h6>
                                                <h6 class="card-subtitle"><span class="icon icon-user"></span> '.$user["nip"].'</h6>
                                                <h6 class="card-subtitle"><span class="icon icon-birthday-cake"></span>'.$user["tempat"].', '.date_formating($user["birthDate"]).'</h6>
                                                <h6 class="card-subtitle"><span class="icon icon-universal-access"></span> '.$user["golongan"].'</h6>

                                            </div>
                                            <div class="card-links">
                                                <div class="row text-center">
                                                        <div class="col-xs-4">
                                                            <a class="link-muted" href="#">
                                                                <h4 class="m-y-0" id="totalSubjectRead">'.$user["totalSubjectRead"].'
                                                                </h4>
                                                                <small>materi</small>
                                                            </a>
                                                        </div>
                                                        <div class="col-xs-4">
                                                            <a class="link-muted" href="#">
                                                                <h4 class="m-y-0" id="timeRead">'.$user["timeRead"].'
                                                                </h4>
                                                                <small>membaca</small>
                                                             </a>
                                                        </div>
                                                        <div class="col-xs-4">
                                                            <a class="link-muted" href="#">
                                                                <h4 class="m-y-0" id="totalQuestion">'.$user["totalQuestion"].'
                                                                </h4>
                                                                <small>bertanya</small>
                                                             </a>
                                                        </div>
                                                    </div>
                                            </div>

                                            <div class="card">
                                                <div class="card-header">
                                                    <div class="card-actions">
                                                        <button type="button" class="card-action card-toggler" title="Collapse"></button>

                                                    </div>
                                                    <strong>Data membaca pegawai </strong>
                                                </div>
                                                <div class="card-body">
                                                    <table id="demo-datatables-scroller-'.$n.'" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%">
                                                        <thead>
                                                            <tr>
                                                                <th class="text-left">No</th>
                                                                <th class="text-left">Judul</th>
                                                                <th class="text-left">Waktu(detik)</th>
                                                                <th class="text-left">Time</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>';
                                                                $i = 1;
                                                                foreach ($user["readList"] as $subject) {
                                                                    echo '
                                                            <tr>
                                                                <td class="text-left">'.$i.'</td>
                                                                <td class="text-left">
                                                                    <a href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'">
                                                                        <span class="icon icon-book"></span>'.$subject["subjectName"].'
                                                                    </a>
                                                                </td>
                                                                <td class="text-left">'.$subject["timeInSecond"].'</td>
                                                                <td class="text-left">'.$subject["timeRead"].'</td>
                                                            </tr>';$i++;}echo '
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            ';
        }


        true_false_popup();
        echo '



        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>

        <script src="/template_vendor/js/image-upload.js"></script>

        <script>
            $(document).ready(function(){
                $(function () {
                    $("#addUser").on("submit", function (e) {
                        e.preventDefault();
                        var formData = new FormData(this);
                        $.ajax({
                            type: "POST",
                            processData: false,
                            contentType: false,
                            enctype: "multipart/form-data",
                            url: "/handler/handler_ajax_user.php",
                            data: formData,
                            success: function (data) {
                                var result = $.parseJSON(data);
                                if(result.info != "success"){
                                    $("#failedMessage").html("<h4>" + result.info + "</h4>");
                                    $("#failed").modal("show");
                                }else{
                                    $(".modal").modal("hide");
                                    $("#successMessage").html("<h4><?php echo $title1; ?> baru ditambahkan</h4>");
                                    $("#success").modal("show");
                                    $("#success").on("hidden.bs.modal", function(){location.reload();});
                                }
                            },
                            error: function(){
                                alert("error in ajax form submission");
                            }
                        });
                    });
                });
            });

        </script>
        <script>
            $(document).ready(function(){
                

                ';

                foreach($data as $user){
                    echo '
                        function readURL(input) {
                            if (input.files && input.files[0]) {
                                var reader = new FileReader();

                                reader.onload = function (e) {
                                    $("#preview-img-69-'.$user["userID"].'").attr("src", e.target.result);
                                }
                                reader.readAsDataURL(input.files[0]);
                            }
                        }
                        $("#profile-image-'.$user["userID"].'").change(function() {
                            var file = this.files[0];
                            if(typeof(file) !== "undefined"){
                                var extension = file.name.split(".").pop().toLowerCase();
                                if(jQuery.inArray(extension, ["png", "jpg", "jpeg"]) === -1){
                                    $("#button-profile-image-'.$user["userID"].'").removeClass("btn-info").addClass("btn-outline-info");
                                }else{
                                    $("#button-profile-image-'.$user["userID"].'").removeClass("btn-outline-info").addClass("btn-info");
                                    var filename;
                                    if(file.name.length > 16){
                                        filename = file.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file.name;
                                    }
                                    readURL(this);
                                }
                            }else{
                                $("#button-profile-image-'.$user["userID"].'").removeClass("btn-info").addClass("btn-outline-info");
                            }
                        });

                        $("#editAccount-'.$user["userID"].'").on("submit", function (e) {
                            e.preventDefault();
                            var formData = new FormData(this);
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_user.php",
                                data: formData,
                                success: function (data) {
                                    var result = $.parseJSON(data);
                                    if(result.info != "success"){
                                        $("#failedMessage").html(result.info);
                                        $("#failed").modal("show");
                                    }else{
                                        $(".modal").modal("hide");
                                        $("#successMessage").html("Berhasil di update");
                                        $("#success").modal("show");
                                        $("#success").on("hidden.bs.modal", function(){location.reload();});
                                    }
                                },
                                error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });
                        $("#deleteUser-'.$user["userID"].'").on("click", function(e) {
                            var userID = '.$user["userID"].';
                            var formData = new FormData();
                            formData.append("deleteUser", "");
                            formData.append("userID", userID);
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_user.php",
                                data: formData,
                                success: function (data) {
                                var result = $.parseJSON(data);
                                if(result.info != "success"){
                                    $(".modal").modal("hide");
                                    $("#failedMessage").html(result.info);
                                    $("#failed").modal("show");
                                }else{
                                    $(".modal").modal("hide");
                                    $("#successMessage").html("Pegawai berhasil dihapus");
                                    $("#success").modal("show");
                                    $("#success").on("hidden.bs.modal", function(){location.reload();});
                                }
                            },  error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });
                        $("#editProfile-'.$user["userID"].'").on("submit", function (e) {
                            e.preventDefault();
                            var formData = new FormData(this);
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_user.php",
                                data: formData,
                                success: function (data) {
                                    var result = $.parseJSON(data);
                                    if(result.info != "success"){
                                        $("#failedMessage").html(result.info);
                                        $("#failed").modal("show");
                                    }else{
                                        $(".modal").modal("hide");
                                        $("#successMessage").html("Berhasil di update");
                                        $("#success").modal("show");
                                        $("#success").on("hidden.bs.modal", function(){location.reload();});
                                    }
                                },
                                error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });
                    ';
                }
                echo '
            });
        </script>
        </div>

    </body>';    
}

function Template_Edit_User_Admin($title1, $title2, $data){
    
    echo '
    <body class="layout layout-header-fixed layout-sidebar-fixed">
        <div class="layout-header">';
            nav_bar($title1, $title2);
            echo '
        </div>
        <div class="layout-main">';
            sidebar(); 
            echo '
            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="col-xs-12">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-actions">
                                        <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                        <button type="button" class="card-action card-reload" title="Reload"></button>
                                        <button type="button" class="card-action card-remove" title="Remove"></button>
                                    </div>
                                    <button type="button" class="btn btn-outline-danger" data-toggle="modal" data-target="#addAccount">
                                      <strong>Tambah '.$title1.'</strong> <span class=""></span>
                                    </button>
                                </div>
                                <div class="card-body" id="table-user">
                                    <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap mytable table-data-user" cellspacing="0" width="100%">
                                        <thead>
                                            <tr>
                                                <th>Edit</th>
                                                <th>Hapus</th>
                                                <th>NIP</th>
                                                <th>Nama</th>
                                                <th>Golongan</th>
                                                <th>Jabatan</th>
                                                <th>Unit Kerja</th>
                                                <th>Instansi</th>
                                            </tr>
                                        </thead>
                                        <tbody id="table-user">';
                                            foreach ($data as $user) {
                                              echo '
                                                <tr>
                                                    <td>
                                                        <a href="#" class="text-success"><span class="icon icon-edit icon-lg"></span>
                                                            <label class="user-globalID hidden">'.$user["userGlobalID"].'</label>
                                                        </a>
                                                    </td>
                                                    <td>
                                                        <a href="#"><span class="delete-account-pop-up text-danger icon icon-trash icon-lg"></span>
                                                            <label class="user-globalID hidden">'.$user["userGlobalID"].'</label>
                                                        </a>
                                                    </td>
                                                    <td class="user-nip">
                                                        <a href="#">'.$user["nip"].'
                                                            <label class="user-globalID hidden">'.$user["userGlobalID"].'</label>
                                                        </a>
                                                    </td>
                                                    <td>
                                                        <a href="/dashboard/users/?username='.$user["username"].'" class="user-name">'.$user['firstName'].' '.$user["lastName"].'</a>
                                                    </td>
                                                    <td>'.$user['golongan'].'</td>
                                                    <td>'.$user['jabatan'].'</td>
                                                    <td>'.$user['unitKerja'].'</td>
                                                    <td>'.$user['instansi'].'</td>
                                                </tr>
                                              ';
                                            }echo'
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>';
        popup_addAccount($title1);
       
        echo '
            <div id="profile" tabindex="-1" role="dialog" class="modal fade delmod">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header bg-primary">
                            <h4 class="modal-title">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>

                        <div class="modal-body">
                            <div class="text-center">
                                <div class="" data-toggle="match-height">
                                    <div class="card-image">
                                        <div class="overlay">
                                            <div class="overlay-image">
                                                <img class="card-img-top img-responsive" src="/dashboard/drive/important-images/banner.jpg" alt="wkwkland, Perfect">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-avatar">
                                        <a class="card-thumbnail rounded sq-100" href="#" style="margin-bottom:20px">
                                            <img id="profile-image" class="timeline-media img-responsive img-rounded" style="width:130px; height:120px;object-fit: cover;">
                                        </a>
                                    </div>
                                    <div class="card-body">
                                        <div class="card-content">
                                            <h3 class="card-title">
                                                <a class="link-muted" href="#" id="profile-name">(Name)</a>
                                            </h3>
                                            <h6 class="card-subtitle" id="profile-email">None</h6>
                                            <h6 class="card-subtitle" id="profile-phone">None</h6>
                                            <h6 class="card-subtitle" id="profile-birthDate">None</h6>
                                        </div>            
                                        <div class="card">
                                            <div class="card-header">
                                                <div class="card-links">
                                                    <div class="row text-center">
                                                        <div class="col-xs-4">
                                                            <a class="link-muted" href="#">
                                                                <h4 class="m-y-0" id="profile-totalSubjectRead">None
                                                                </h4>
                                                                <small>materi</small>
                                                            </a>
                                                        </div>
                                                        <div class="col-xs-4">
                                                            <a class="link-muted" href="#">
                                                                <h4 class="m-y-0" id="profile-timeRead">None
                                                                </h4>
                                                                <small>membaca</small>
                                                             </a>
                                                        </div>
                                                        <div class="col-xs-4">
                                                            <a class="link-muted" href="#">
                                                                <h4 class="m-y-0" id="profile-totalQuestion">None
                                                                </h4>
                                                                <small>bertanya</small>
                                                             </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="card-header">
                                                <div class="card-actions">
                                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                                </div>
                                                <strong>Data membaca pegawai </strong>
                                            </div>
                                            <div class="card-body" id="profile-data-table">
                                                
                                                    
                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="editAccount" tabindex="-1" role="dialog" class="modal fade delmod">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header bg-info">
                            <h4 class="modal-title">Edit akun
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>

                        <div class="modal-body">
                            <div class="panel m-b-lg">
                                <ul class="nav nav-tabs bg-info">
                                    <li class="active">
                                        <a href="#userData" data-toggle="tab" aria-expanded="true">Account</a>
                                    </li>
                                    <li class="">
                                        <a href="#userDataGlobal" data-toggle="tab" aria-expanded="false">Profile</a>
                                    </li>
                                </ul>
                                <div class="tab-content">
                                    <div class="tab-pane fade active in" id="userData">
                                        <form action="" data-toggle="validator" id="form-edit-account" data-groups=\'{"birthdate": "birth_month birth_day birth_year"}\'>
                                            <input type="hidden" name="editAccount" value="">
                                            <input type="hidden" name="editedBy" value="'.$_SESSION["username"].'">
                                            <input type="hidden" name="code-edit" value="'.$_SESSION["code"].'">
                                            <input class="edit-account-userID" type="hidden" name="userID" value="0">

                                            <div class="row gutter-xs">
                                                <div class="col-sm-5">
                                                    <div class="form-group">
                                                        <button class="btn btn-outline-info" id="button-user-image">
                                                            Upload foto <span class="icon icon-image"></span>
                                                            <input type="file" class="file-upload-input edit-file" id="input-user-image" name="profileImage" accept="image/*">
                                                        </button>
                                                        <div id="image-preview-div">
                                                            <label for="exampleInputFile">Selected image:</label><br>    
                                                            <img id="edit-account-image" class="timeline-media img-rounded" width="150" height="150" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/default.jpg">
                                                        </div>
                                                        <div id="message"></div>
                                                    </div>
                                                </div>

                                                <div class="col-sm-7">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="Username">Username</label>
                                                            <input id="edit-account-username" class="form-control" type="text" name="username" spellcheck="false" autocomplete="off" minlength="6" data-msg-minlength="username minimal 6 characters atau lebih." data-msg-required="Please enter your username." value="None" required>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="password">Password</label>
                                                            <input id="edit-account-password" class="form-control" type="password" value="None" name="password" minlength="6" data-msg-minlength="Password must be 6 characters or more." data-msg-required="Please enter your password." required>
                                                            <small class="help-block">6-character minimum; case sensitive.</small>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="email">Email</label>
                                                            <input id="edit-account-email" class="form-control" type="email" name="email" spellcheck="false" autocomplete="off" data-msg-required="Please enter your email address." value="None" required>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row gutter-xs">
                                                <div class="col-sm-12">
                                                    <div class="form-group">
                                                        <label for="first-name">First name</label>
                                                        <input id="edit-account-firstName" class="form-control" type="text" name="firstName" spellcheck="false" data-msg-required="Please enter your first name." minlength="4" data-msg-minlength="nama depan minimal 4 characters atau lebih." required value="None">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row gutter-xs">
                                                <div class="col-sm-12">
                                                    <div class="form-group">
                                                        <label for="last-name">Last name</label>
                                                        <input id="edit-account-lastName" class="form-control" type="text" name="lastName" spellcheck="false" data-msg-required="Please enter your last name." minlength="4" data-msg-minlength="nama bela minimal 4 characters atau lebih." required value="None">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row gutter-xs">
                                                <div class="col-sm-12">
                                                    <div class="form-group">
                                                        <label for="gender">Gender</label>
                                                        <select id="edit-account-gender" class="custom-select" name="gender" data-msg-required="Please indicate your gender." required>';
                                                            echo '
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row gutter-xs">
                                                <div class="col-sm-12">
                                                    <div class="form-group">
                                                        <label for="hp">Nomor HP</label>
                                                        <input id="edit-account-phone" class="form-control" type="text" name="phone" spellcheck="false" data-msg-required="Please enter your phone number." minlength="10" required value="None">
                                                    </div>
                                                </div>
                                            </div>
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                            <button type="submit" id="submit-button-edit-account" class="btn btn-success">Update</button>
                                        </form>
                                    </div>
                                    <div class="tab-pane fade" id="userDataGlobal">   
                                        <form action="" data-toggle="validator" id="form-edit-profile" data-groups=\'{"birthdate": "birth_month birth_day birth_year"}\'>

                                            <input type="hidden" name="editProfile" value="">
                                            <input type="hidden" name="editedBy" value="'.$_SESSION["username"].'">
                                            <input type="hidden" name="code-edit" value="'.$_SESSION["code"].'">
                                            <input class="edit-account-userID" type="hidden" name="userID" value="0">

                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="nip">NIP</label>
                                                    <input id="edit-account-nip" class="form-control" type="text" name="nip" spellcheck="false" autocomplete="off" data-msg-required="Please enter your nip." value="None" required>
                                                </div>
                                            </div>

                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="golongan">Pangkat/Golongan</label>
                                                    <input id="edit-account-golongan" class="form-control" type="text" name="golongan" spellcheck="false" autocomplete="off" data-msg-required="Please enter your golongan." value="None" required>
                                                </div>
                                            </div>

                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="jabatan">Jabatan</label>
                                                    <input id="edit-account-jabatan" class="form-control" type="text" name="jabatan" spellcheck="false" autocomplete="off" data-msg-required="Please enter your jabatan." value="None" required>
                                                </div>
                                            </div>

                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="unitKerja">Unit Kerja</label>
                                                    <input id="edit-account-unitKerja" class="form-control" type="text" name="unitKerja" spellcheck="false" autocomplete="off" data-msg-required="Please enter your unitKerja." value="None" required>
                                                </div>
                                            </div>

                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="instansi">Instansi</label>
                                                    <input id="edit-account-instansi" class="form-control" type="text" name="instansi" spellcheck="false" autocomplete="off" data-msg-required="Please enter your instansi." value="None" required>
                                                </div>
                                            </div>

                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="tempat">Tempat Kelahiran</label>
                                                    <input id="edit-account-tempat" class="form-control" type="text" name="tempat" spellcheck="false" autocomplete="off" data-msg-required="Please enter your place." value="None" required>
                                                </div>
                                            </div>

                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="whatsapp">Whatsapp</label>
                                                    <input id="edit-account-whatsapp" class="form-control" type="text" name="whatsapp" spellcheck="false" autocomplete="off" data-msg-required="Please enter your whatsapp." value="None" required>
                                                </div>
                                            </div>

                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="birth-month">Tanggal Lahir</label>
                                                    <div class="row gutter-xs">
                                                        <div class="col-xs-6">
                                                            <div class="form-group">
                                                                <select id="edit-account-birth-month" class="custom-select" name="birthMonth" data-msg-required="Please enter your birthday." required aria-required="true">
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-3">
                                                            <div class="form-group">
                                                                <input id="edit-account-birth-day" class="form-control" type="number" name="birthDay" placeholder="Day" min="1" max="31" data-msg-min="Please enter a valid day of the month." data-msg-max="Please enter a valid day of the month." data-msg-required="Please enter your birthday." required="" aria-required="true" value="1">
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-3">
                                                            <div class="form-group">
                                                                <input id="edit-account-birth-year" class="form-control" type="number" name="birthYear" placeholder="Year" min="1900" max="2020" data-msg-min="Please enter a valid year." data-msg-max="Please enter a valid year." data-msg-required="Please enter your birthday." required="" aria-required="true" value="1900">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>


                                            <div class="row gutter-xs text-right">
                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                <button type="submit" id="submit-button-edit-account" class="btn btn-success">Update</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="deleteAccount" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content bg-primary">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">
                                <span aria-hidden="true">×</span>
                                <span class="sr-only">Close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="text-center">
                                <form action="" id="form-delete-account" method="post" data-toggle="validator" enctype="multipart/form-data">
                                    <input type="hidden" name="deleteAccount" value="None">
                                    <input type="hidden" name="deletedBy" value="'.$_SESSION["username"].'">
                                    <input type="hidden" name="code-delete" value="'.$_SESSION["code"].'">
                                    <input class="delete-account-userID" type="hidden" name="userID" value="None">
                                    <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                    <h3 class="text-light">Hapus Akun <label id="delete-account-user-name"></label></h3>
                                    <div class="m-t-lg">
                                        <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                        <button type="submit" id="submit-button-delete-account" class="btn btn-danger">Hapus</button>
                                    </div>
                                </form>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        ';
        

        true_false_popup();
        echo '



        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>
        <script src="/template/js/richeese-changing-display.js"></script>
        <script src="/template/js/jav-adm-data-sendget.js"></script>

        </div>

    </body>';    
}

function Template_Event_Admin($title1, $title2, $data){
    $eventSch = $data["eventSch"];
    $allEvent = $data["eventSch"]["allEvent"];
    $onGoingEvent = $data["eventSch"]["onGoingEvent"];
    $waitingEvent = $data["eventSch"]["waitingEvent"];
    $expiredEvent = $data["eventSch"]["expiredEvent"];
    echo '

    <body class="layout layout-header-fixed layout-sidebar-fixed">
        <div class="layout-header">';
        nav_bar($title1, $title2);
        echo '

        </div>
        <div class="layout-main">';
            sidebar();


            echo '

            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <button class="btn btn-pill btn-lg btn-outline-info" data-toggle="modal" data-target="#add-event"><span class="icon icon-book"></span> Tambah Event</button>
                                <button class="btn btn-pill btn-lg btn-outline-info" data-toggle="modal" data-target="#scan-certificate"><span class="icon icon-qrcode"></span> Scan Certificate</button>
                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">
                        <div class="panel m-b-lg">
                            <ul class="nav nav-tabs">';
                                echo '
                                <li class="active">
                                    <a href="#event-0" class="active" data-toggle="tab">
                                        <button class="btn btn-xs btn-outline-info btn-pill" type="button"><span class="icon icon-calendar"></span> '.sizeof($onGoingEvent).' event berlangung</button>
                                    </a>
                                </li>
                                <li>
                                    <a href="#event-1" data-toggle="tab">
                                        <button class="btn btn-xs btn-outline-info btn-pill" type="button"><span class="icon icon-calendar"></span> '.sizeof($waitingEvent).' event menunggu</button>
                                    </a>
                                </li>
                                <li>
                                    <a href="#event-2" data-toggle="tab">
                                        <button class="btn btn-xs btn-outline-info btn-pill" type="button"><span class="icon icon-calendar"></span> '.sizeof($expiredEvent).' event selesai</button>
                                    </a>
                                </li>
                                <li>
                                    <a href="#event-3" data-toggle="tab">
                                        <button class="btn btn-xs btn-outline-info btn-pill" type="button"><span class="icon icon-calendar"></span> '.sizeof($allEvent).' event total</button>
                                    </a>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane fade active in" id="event-0">';
                                    Layout_event($onGoingEvent);
                                    echo '
                                </div>
                                <div class="tab-pane fade" id="event-1">';
                                    Layout_event($waitingEvent);
                                    echo '
                                </div>
                                <div class="tab-pane fade" id="event-2">';
                                    Layout_event($expiredEvent);
                                    echo '
                                </div>
                                <div class="tab-pane fade" id="event-3">';
                                    Layout_event($allEvent);
                                    echo '
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="add-event" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header bg-info">
                            <h4 class="modal-title">Add event ('.date("Y-m-d H:i:s").')
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">            
                            <form action="" class="form-add-single-event" id="demo-inputmask" method="post" data-toggle="validator" enctype="multipart/form-data">
                                <input type="hidden" name="addEvent" value="">
                                <input type="hidden" name="addedBy" value="'.$_SESSION["username"].'">
                                <input type="hidden" name="code-add" value="'.$_SESSION["code"].'">
                                <input type="hidden" name="thumbnailText" value=".......">
                                
                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="title">Masukan Nama Event</label>
                                            <input class="form-control" type="text" name="eventName" spellcheck="false" data-msg-required="masukan nama event" required>
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="">Masukan Institusi</label>
                                            <input class="form-control" type="text" name="institution" spellcheck="false" data-msg-required="masukan nama event" required>
                                        </div>
                                    </div>
                                </div>
                                <div class="row gutter-xs">
                                    <h5 class="text-warning"><span class="icon icon-warning"></span> hari/bulan/tahun jam:menit</h5>
                                </div>
                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="form-control-4">Event Dimulai</label>
                                            <input id="form-control-4" name="eventStart" class="form-control" type="text" data-inputmask="\'alias\': \'datetime\'">
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="form-control-4">Event Berakhir</label>
                                            <input id="form-control-4" name="eventEnd" class="form-control" type="text" data-inputmask="\'alias\': \'datetime\'">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group row gutter-xs">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                    <button type="submit" id="add-single-event-submit-button" class="btn btn-info">Tambah</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="scan-certificate" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header bg-info">
                            <h4 class="modal-title">Cari Sertifikat
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">
                            <form action="" class="form-scan-certificate" id="demo-inputmask" method="post" data-toggle="validator" enctype="multipart/form-data">
                                <input type="hidden" name="scanCertificate" value="">
                                <input type="hidden" name="scanBy" value="'.$_SESSION["username"].'">
                                <input type="hidden" name="code-scan" value="'.$_SESSION["code"].'">

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="title">Masukan Kode Sertifikat</label>
                                            <input class="form-control" type="text" name="certificateCode" id="certificateCode" spellcheck="false" data-msg-required="masukan certificate code" required>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group row gutter-xs">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                    <button type="submit" id="scan-certificate-submit-button" class="btn btn-info">Scan</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>';

            true_false_popup();
            echo '
        </div>
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>
        
        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>
        <script>
            $(document).ready(function(){
                $(".form-scan-certificate").on("submit", function(e) {
                    e.preventDefault();
                    $("#scan-certificate-submit-button").prop("disabled", true);
                    $("#scan-certificate-submit-button").html("mengirim <span class=\'spinner spinner-danger\'></span>");
                    var formData = new FormData(this);
                    $.ajax({
                        type: "POST",
                        processData: false,
                        contentType: false,
                        enctype: "multipart/form-data",
                        url: "/handler/handler_ajax_event.php",
                        data: formData,
                        success: function (data) {
                            var result = $.parseJSON(data);
                            if(result.info != "success"){
                                $("#failedMessage").html(result.info);
                                $("#failed").modal("show");
                                
                            }else{
                                $("#successMessage").html("Ditemukan");
                                $("#success").modal("show");
                            }
                            $("#scan-certificate-submit-button").prop("disabled", false);
                            $("#scan-certificate-submit-button").html("Send");
                        },error: function(){
                            alert("error in ajax form submission");
                        }
                    });
                });
            });
        </script>

    </body>


    ';
}

function Template_Event_Detail_Admin($title1, $title2, $data){
    $event = $data["event"];
    $usersInEvent = $data["usersInEvent"];
    echo '

    <body class="layout layout-header-fixed layout-sidebar-fixed">
        <div class="layout-header">';
        nav_bar($title1, $title2);
        echo '

        </div>
        <div class="layout-main">';
            sidebar();

            echo '

            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <a href="/dashboard/event"><button class="btn btn-pill btn-lg btn-outline-info"><span class="icon icon-arrow-circle-left"></span> back to Event</button></a>
                                <h4 class="pull-right text-info" style="margin-top:4px"><label id="">'.date_formating(date("Y-m-d H:i:s")).'</label></h4><br>
                                <h5 class="pull-right text-info" style="margin-top:-10px; margin-bottom:-9px"><label id="realtimeTime">00:00:00 PM</label></h5>
                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">
                        <div class="col-lg-4 col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-actions">
                                        <button type="button" data-toggle="modal" data-target="#delete-event-'.$event["eventID"].'" class="btn btn-xs btn-outline-info btn-pill"><span class="icon icon-trash"></span></button>
                                        <button type="button" data-toggle="modal" data-target="#edit-event-'.$event["eventID"].'" class="btn btn-xs btn-outline-info btn-pill"><span class="icon icon-edit"></span></button>
                                    </div>
                                </div>
                                <div class="card-body" data-toggle="match-height" style="">
                                    <div class="row gutter-xs">
                                        <button class="btn btn-pill btn-warning" data-toggle="modal" data-target="#pop-up-absent-user" style="width:100%"><span class="icon icon-lg icon-qrcode"></span> Absent</button>
                                    </div>
                                    <div class="row gutter-xs">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <td class="text-left text-info">Event status</td>';
                                                    if($event["eventStatus"] == 1){
                                                        echo '<th class="text-left text-success">ONGOING</th>';
                                                    }else if($event["eventStatus"] == 0){
                                                        echo '<th class="text-left text-warning">WAITING</th>';
                                                    }else if($event["eventStatus"] == 2){
                                                        echo '<th class="text-left text-danger">EXPIRED</th>';
                                                    }
                                                    echo '

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td class="text-left text-info">Event</td>
                                                    <th class="text-left text-crimson">'.$event["eventName"].'</th>
                                                </tr>
                                                <tr>
                                                    <td class="text-left text-info">Institusi</td>
                                                    <th class="text-left text-crimson">'.$event["institution"].'</th>
                                                </tr>
                                                <tr>
                                                    <td class="text-left text-info">Event dimulai</td>
                                                    <th class="text-left text-crimson">'.superNiceDateFormat($event["eventStart"]).'</th>
                                                </tr>
                                                <tr>
                                                    <td class="text-left text-info">Event berakhir</td>
                                                    <th class="text-left text-crimson">'.superNiceDateFormat($event["eventEnd"]).'</th>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="row gutter-xs">
                                        <a href="/dashboard/event/event-edit-certificate-member.php?eventID='.$event["eventID"].'" class="btn btn-pill btn-info" data-toggle="modal" style="width:100%"><span class="icon icon-lg icon-graduation-cap"></span> Edit Certificate</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-8">
                            <div class="card">
                                <div class="card-header text-info">
                                    <div class="card-actions">
                                        <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                        <button type="button" class="card-action card-remove" title="Remove"></button>
                                    </div>
                                    <strong>Daftar Anggota ('.sizeof($usersInEvent).')</strong>
                                </div>
                                <div class="card-body">
                                    <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable">
                                        <thead class="text-info">
                                            <tr>
                                                <th>No</th>
                                                <th>Nama</th>
                                                <th>Registrasi ID</th>
                                                <th>Files</th>
                                                <th>Status</th>
                                                <th>Sertifikat</th>
                                                <th>Tgl Registrasi</th>                                               
                                            </tr>
                                        </thead>
                                        <tbody class="text-crimson">';
                                        $i = 0;
                                        foreach ($usersInEvent as $user) {
                                            $registrationData = $user;
                                            $userData = $user["userData"];
                                            $i ++;
                                            echo '
                                            <input class="hidden" id="i-am-here-'.$registrationData["registrationCode"].'" value="'.$registrationData["registrationCode"].'">
                                            <tr>
                                                <td>'.$i.'</td>
                                                <td class="data-user-name">'.$userData["name"].'</td>
                                                <td>
                                                    <button id="click-me-'.$registrationData["registrationCode"].'" class="btn btn-outline-primary btn-pill btn-xs" style="margin-bottom:4px;"><span class="icon icon-copy"></span> copy
                                                    </button>
                                                    <label class="registrationCode hidden">'.$registrationData["registrationCode"].'</label>
                                                </td>
                                                <td>
                                                    <button class="event-file-global-button-trigger btn btn-outline-primary btn-pill btn-xs" style="margin-bottom:4px;">
                                                        <span class="icon icon-file"></span> Open
                                                    </button>
                                                </td>
                                                <td>';
                                                if($registrationData["absentStatus"] == 0){
                                                    echo '<span class="label label-outline-default">Belum hadir</span>';
                                                    $absent = "Belum hadir";
                                                }else if($registrationData["absentStatus"] == 1){
                                                    echo '<span class="label label-outline-success">Hadir</span>';
                                                }else{
                                                    echo '<span class="label label-outline-danger">Tidak hadir</span>';
                                                }
                                                echo '
                                                </td>
                                                <td>
                                                    <form action="" class="form-send-certificate-'.$userData["userID"].'-'.$userData["nip"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                        <input type="hidden" name="sendCertificate" value="">
                                                        <input type="hidden" name="sentBy" value="'.$_SESSION["username"].'">
                                                        <input type="hidden" name="code-send" value="'.$_SESSION["code"].'">
                                                        <input type="hidden" name="eventID" value="'.$event["eventID"].'">
                                                        <input type="hidden" name="username" value="'.$registrationData["username"].'">
                                                        <input type="hidden" name="registrationCode" value="'.$registrationData["registrationCode"].'">
                                                        <input type="hidden" name="nip" value="'.$userData["nip"].'">
                                                        <button type="submit" id="send-certificate-'.$userData["userID"].'-'.$userData["nip"].'-submit-button" class="btn btn-outline-info btn-xs">Send</button>
                                                        <a href="/dashboard/event/event-member-certificate.php?eventID='.$event["eventID"].'&registrationCode='.$registrationData["registrationCode"].'" class="btn btn-outline-info btn-xs"><span class="icon icon-search"></span></a>
                                                    </form>
                                                    
                                                </td>
                                                <td>'.date_formating($registrationData["dateCreated"]).'</td>
                                                
                                            </tr>
                                            ';
                                        }

                                        echo '
                                        </tbody>
                                    </table>
                                </div>
                                <div class="card-footer">
                                    <a href="/dashboard/event/event-detail-members.php?event='.$event["eventID"].'" class="pull-right btn btn-outline-info btn-pill"><span class="icon icon-plus-circle"></span> Tambahkan anggota</a>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="pop-up-absent-user" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header bg-info">
                            <h4 class="modal-title text-center">absensi
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">
                            <form action="" class="form-sign-in-event" method="post" data-toggle="validator" enctype="multipart/form-data">
                                <input type="hidden" name="signInEvent" value="">
                                <input type="hidden" name="scanedBy" value="'.$_SESSION["username"].'">
                                <input type="hidden" name="code-update" value="'.$_SESSION["code"].'">


                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="title">Registrasi ID<h5 class="text-warning"><span class="icon icon-warning"></span> masukan registrasi id untuk melakukan absent</h5></label>
                                            <input class="form-control" id="inputRegistrationID" type="text" name="registrationCode" spellcheck="false" data-msg-required="masukan registrasi id" required>
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">

                                </div>

                                <div class="form-group row gutter-xs text-right">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                    <button type="submit" id="sign-in-event-submit-button" class="btn btn-info">absent</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="delete-event-'.$event["eventID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content bg-primary">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">
                                <span aria-hidden="true">×</span>
                                <span class="sr-only">Close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="text-center">
                                <form action="" class="form-delete-event" method="post" data-toggle="validator" enctype="multipart/form-data">
                                    <input type="hidden" name="deleteEvent" value="">
                                    <input type="hidden" name="deletedBy" value="'.$_SESSION["username"].'">
                                    <input type="hidden" name="code-delete" value="'.$_SESSION["code"].'">
                                    <input type="hidden" name="eventID" value="'.$event["eventID"].'">
                                    <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                    <h3 class="text-light">Hapus Event? ('.$event["eventName"].')</h3>
                                    <div class="m-t-lg">

                                        <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                        <button type="submit" id="delete-single-event-submit-button" class="btn btn-danger">Hapus</button>

                                    </div>
                                </form>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="modal fade" id="edit-event-'.$event["eventID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header bg-info">
                            <h4 class="modal-title">Edit event ('.$event["eventName"].')
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">
                            <form action="" class="form-edit-single-event" id="demo-inputmask" method="post" data-toggle="validator" enctype="multipart/form-data">
                                <input type="hidden" name="updateEvent" value="">
                                <input type="hidden" name="updatedBy" value="'.$_SESSION["username"].'">
                                <input type="hidden" name="code-update" value="'.$_SESSION["code"].'">
                                <input type="hidden" name="eventID" value="'.$event["eventID"].'">
                                <input type="hidden" name="thumbnailText" value=".......">
                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="title">Ganti Nama Event</label>
                                            <input class="form-control" type="text" name="eventName" spellcheck="false" data-msg-required="masukan nama event" required value="'.$event["eventName"].'">
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="">Ganti Institusi</label>
                                            <input class="form-control" type="text" name="institution" spellcheck="false" data-msg-required="masukan nama event" required value="'.$event["institution"].'">
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <h5 class="text-warning"><span class="icon icon-warning"></span> hari/bulan/tahun jam:menit</h5>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="form-control-4">Event Dimulai</label>
                                            <input id="form-control-4" name="eventStart" class="form-control" type="text" data-inputmask="\'alias\': \'datetime\'" value="'.formating_date_event_to_input($event["eventStart"]).'">
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="form-control-4">Event Berakhir</label>
                                            <input id="form-control-4" name="eventEnd" class="form-control" type="text" data-inputmask="\'alias\': \'datetime\'" value="'.formating_date_event_to_input($event["eventEnd"]).'">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group row gutter-xs">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                    <button type="submit" id="edit-single-event-submit-button" class="btn btn-info">Update</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="event-file-global-pop-up" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header bg-info">
                            <h4 class="modal-title"><strong id="user-name"></strong>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body" id="table-file-global">
                            
                        </div>
                    </div>
                </div>
            </div>';
            

            true_false_popup();

            echo '
        </div>
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>
        <script src="/template/js/jav-adm-data-sendget.js"></script>
        <script>
            $(document).ready(function(){';
                foreach ($usersInEvent as $user) {
                    $registrationData = $user;
                    $userData = $user["userData"];
                    echo '
                        $(".form-send-certificate-'.$userData["userID"].'-'.$userData["nip"].'").on("submit", function(e) {
                            e.preventDefault();
                            $("#send-certificate-'.$userData["userID"].'-'.$userData["nip"].'-submit-button").prop("disabled", true);
                            $("#send-certificate-'.$userData["userID"].'-'.$userData["nip"].'-submit-button").html("mengirim <span class=\'spinner spinner-danger\'></span>");
                            var formData = new FormData(this);
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_event.php",
                                data: formData,
                                success: function (data) {
                                    var result = $.parseJSON(data);
                                    if(result.info != "success"){
                                        $("#failedMessage").html(result.info);
                                        $("#failed").modal("show");
                                        $("#send-certificate-'.$userData["userID"].'-'.$userData["nip"].'-submit-button").prop("disabled", false);
                                        $("#send-certificate-'.$userData["userID"].'-'.$userData["nip"].'-submit-button").html("Send");
                                    }else{
                                        $(".modal").modal("hide");
                                        $("#send-certificate-'.$userData["userID"].'-'.$userData["nip"].'-submit-button").prop("disabled", false);
                                        $("#send-certificate-'.$userData["userID"].'-'.$userData["nip"].'-submit-button").html("Send");
                                        $("#successMessage").html("Berhasil dikirim");
                                        $("#success").modal("show");
                                        
                                    }
                                },error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });

                        $("#click-me-'.$registrationData["registrationCode"].'").on("click", function(e) {
                            var copyText = document.getElementById("i-am-here-'.$registrationData["registrationCode"].'")
                            copyText.select();
                            copyText.setSelectionRange(0, 99999);
                            document.execCommand("copy");
                            alert("Copied The Registration-ID: " + copyText.value);

                        });
                    ';
                }


                echo '
            });
        </script>
    </body>


    ';
}

function Template_Event_Detail_Members_Admin($title1, $title2, $data){
    $event = $data["event"];
    $usersInEvent = $data["usersInEvent"];
    echo '

    <body class="layout layout-header-fixed layout-sidebar-fixed">
        <div class="layout-header">';
        nav_bar($title1, $title2);
        echo '

        </div>
        <div class="layout-main">';
        sidebar();
            echo '
            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <a href="/dashboard/event"><button class="btn btn-pill btn-lg btn-outline-info"><span class="icon icon-arrow-circle-left"></span> back to Event</button></a>
                                <a href="/dashboard/event/event-detail.php?event='.$event["eventID"].'"><button class="btn btn-pill btn-lg btn-outline-info"><span class="icon icon-arrow-circle-left"></span> back to '.$event["eventName"].'</button></a>
                                
                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header text-info">
                                    <div class="card-actions">
                                        <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                        <button type="button" class="card-action card-remove" title="Remove"></button>
                                    </div>
                                    <strong>
                                        <h3 class="text-danger"><span class="icon icon-calendar"></span> ('.$event["eventName"].')
                                            <h5>'.superNiceDateFormat($event["eventStart"]).' - '.superNiceDateFormat($event["eventEnd"]);
                                                if($event["eventStatus"] == 1){
                                                    echo ' <label class="text-left text-success">(ONGOING)</label>';
                                                }else if($event["eventStatus"] == 0){
                                                    echo ' <label class="text-left text-warning">(WAITING)</label>';
                                                }else if($event["eventStatus"] == 2){
                                                    echo ' <label class="text-left text-danger">(EXPIRED)</label>';
                                                }
                                                echo '
                                            </h5>
                                            <h5>
                                                <a class="label label-outline-info label-pill" href="#" data-toggle="modal" data-target="#add-user-for-event"><span class="icon icon-plus-circle icon-lg text-crimson"></span> 
                                                Daftar Anggota ('.sizeof($usersInEvent).') / Tambah 
                                                </a>    
                                            </h5>
                                            <h5>
                                                <a class="label label-outline-warning label-pill" href="#" data-toggle="modal" data-target="#tutorial-excel"><span class="icon icon-exclamation-circle icon-lg text-crimson"></span> Tutorial registrasi melalui upload Excel
                                                </a>    
                                            </h5>
                                        </h3>
                                    </strong>
                                </div>

                                <div class="card-body">
                                    <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%">
                                        <thead class="text-info">
                                            <tr>
                                                <th>No</th>
                                                <th>NIP</th>
                                                <th>Nama</th>
                                                <th>Username</th>
                                                <th>Golongan</th>
                                                <th>Jabatan</th>
                                                <th>Unit Kerja</th>
                                                <th>Instansi</th>
                                                <th>profile</th>
                                                <th class="text-center">Delete</th>
                                            </tr>
                                        </thead>
                                        <tbody class="text-crimson">';
                                            $i = 0;
                                            foreach ($usersInEvent as $user) {
                                                $i++;
                                                echo '
                                                <tr>
                                                    <td>'.$i.'</td>
                                                    <td>'.$user["nip"].'</td>
                                                    <td><a href="/dashboard/users/?username='.$user["username"].'">'.$user['name'].'</a></td>
                                                    <td><a href="/dashboard/users/?username='.$user["username"].'">'.$user['username'].'</a></td>
                                                    <td>'.$user["golongan"].'</td>
                                                    <td>'.$user["jabatan"].'</td>
                                                    <td>'.$user["unitKerja"].'</td>
                                                    <td>'.$user["instansi"].'</td>
                                                    <td>
                                                        <a href="" data-toggle="modal" data-target="#show-more-of-'.$user["username"].'-'.$user["userID"].'"><span class="icon icon-search-plus icon-lg text-info"></span>
                                                        </a>
                                                    </td>
                                                    <td>
                                                        <span data-toggle="modal" data-target="#delete-user-from-event-'.$user["userGlobalID"].'" class="icon icon-trash icon-md text-danger"></span>
                                                    </td>
                                                </tr>
                                                ';
                                            }

                                            echo '
                                        </tbody>

                                    </table>
                                </div>
                                <div class="card-footer">
                                    <form action="/handler/handler_ajax_event.php" id="demo-inputmask" style="color:blue" method="post" data-toggle="validator" enctype="multipart/form-data">
                                        <input type="hidden" name="downloadExcelUsersEvent">
                                        <input type="hidden" name="eventID" value="'.$event["eventID"].'">
                                        <input type="hidden" name="downloadedBy" value="'.$_SESSION["username"].'">
                                        <input type="hidden" name="code-download" value="'.$_SESSION["code"].'">
                                        <button type="submit" id="download-excel-usersEvent-submit-button" class="pull-right btn btn-outline-info btn-pill">get excel <span class="icon icon-print"></span></button>

                                    </form>
                                    <a href="/dashboard/display/?eventID='.$event["eventID"].'" class="pull-right btn btn-outline-info btn-pill">get pdf <span class="icon icon-print"></span></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

            <div class="modal fade" id="tutorial-excel" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content ">
                        <div class="modal-header">
                            <h4 class="modal-title text-center">Tambah pegawai ke event
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-lg-10 col-lg-push-1">
                                    <div class="row gutter-xs">
                                        <label>Download Example</label> <a href="/dashboard/drive/drive-event/event-important-files/template.xlsx"><span class="icon text-warning icon-download"></span></a>
                                    </div>
                                    <div class="row gutter-xs"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="add-user-for-event" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content ">
                        <div class="modal-header">
                            <h4 class="modal-title text-center">Tambah pegawai ke event
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-lg-10 col-lg-push-1">
                                    <div class="demo-form-wrapper">
                                        <div class="row gutter-xs nav nav-tabs text-center">
                                            <a href="#tab-1" data-toggle="tab">
                                                <span class="step-icon icon icon-user bg-success"></span>
                                            </a>
                                            <a href="#tab-2" data-toggle="tab">
                                                <span class="step-icon icon icon-qrcode bg-crimson"></span>
                                            </a>
                                            <a href="#tab-3" data-toggle="tab">
                                                <span class="step-icon icon icon-users bg-warning"></span>
                                            </a>
                                        </div>
                                        <div class="tab-content" style="max-height:800px; overflow-y:scroll">
                                            <div id="tab-1" class="tab-pane active">
                                                <div class="card">
                                                    <div class="card-header">
                                                        <h4 class="text-center m-y-md text-warning">
                                                            <span class="icon icon-exclamation-triangle"></span> Register untuk User & Event (belum mempunyai account)
                                                        </h4>
                                                    </div>
                                                    <div class="card-body">
                                                        <form action="" id="demo-inputmask" style="color:blue" class="form-add-new-user-to-event" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                            <input type="hidden" name="addNewUserToEvent" value="">
                                                            <input type="hidden" name="addedBy" value="'.$_SESSION["username"].'">
                                                            <input type="hidden" name="code-add" value="'.$_SESSION["code"].'">
                                                            <input type="hidden" name="eventID" value="'.$event["eventID"].'">

                                                            <div class="row gutter-xs">
                                                                <div class="form-group text-center">
                                                                    <label id="button-switch-image" class="file-upload-btn btn btn-outline-info">
                                                                        <span class="icon icon-image"></span> Upload Image
                                                                        <input type="file" class="file-upload-input edit-file" id="file" name="image" accept="image/*">
                                                                    </label>
                                                                    <div id="image-preview-div">
                                                                        <strong><div id="image-message">No file chosen</div></strong>
                                                                        <img id="preview-img" class="timeline-media img-rounded resize-img2" style="object-fit: cover;"
                                                                        src="/dashboard/drive/drive-user/user-images/default.jpg">
                                                                    </div>
                                                                    <div id="message"></div>
                                                                </div>
                                                            </div>
                                                            <div class="row gutter-xs divider">
                                                                <div class="col-sm-10 col-sm-push-1">
                                                                    <div class="form-group text-center">
                                                                        <label for="title">NIP</label>
                                                                        <input value="" class="form-control" type="text" name="nip" spellcheck="false" data-msg-required="Masukan nip!" required>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="row gutter-xs">
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="title">Username</label>
                                                                        <input value="" class="form-control" type="text" name="username" spellcheck="false" data-msg-required="Masukan username!" required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row gutter-xs">
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="title">Password</label>
                                                                        <input value="" class="form-control" type="text" name="password" spellcheck="false" data-msg-required="Masukan password!" required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row gutter-xs">
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="title">Email</label>
                                                                        <input id="form-control-9" class="form-control" type="email" name="email" data-inputmask="\'alias\': \'email\'" data-msg-required="Masukan email!" required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row gutter-xs">
                                                                <div class="col-sm-6">
                                                                    <div class="form-group">
                                                                        <label for="title">Nama depan</label>
                                                                        <input value="" class="form-control" type="text" name="firstName" spellcheck="false" data-msg-required="Masukan nama depan!" required>
                                                                    </div>
                                                                </div>
                                                                <div class="col-sm-6">
                                                                    <div class="form-group">
                                                                        <label for="title">Nama belakang</label>
                                                                        <input value="" class="form-control" type="text" name="lastName" spellcheck="false" data-msg-required="Masukan nama belakang!" required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row gutter-xs">
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="tempat">Tempat Kelahiran</label>
                                                                        <input value="" class="form-control" type="text" name="tempat" spellcheck="false" data-msg-required="Masukan tempat kelahiran!" required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row gutter-xs">
                                                                <div class="form-group">
                                                                    <label for="birth-month">Tanggal Lahir</label>
                                                                    <div class="row gutter-xs">
                                                                        <div class="col-xs-6">
                                                                            <div class="form-group">
                                                                                <select id="birth-month" class="custom-select" name="birthMonth" data-msg-required="Please enter your birthday." required="" aria-required="true">
                                                                                    <option value="" disabled="disabled" selected="selected">Month</option>
                                                                                    <option value="01">January</option>
                                                                                    <option value="02">February</option>
                                                                                    <option value="03">March</option>
                                                                                    <option value="04">April</option>
                                                                                    <option value="05">May</option>
                                                                                    <option value="06">June</option>
                                                                                    <option value="07">July</option>
                                                                                    <option value="08">August</option>
                                                                                    <option value="09">September</option>
                                                                                    <option value="10">October</option>
                                                                                    <option value="11">November</option>
                                                                                    <option value="12">December</option>
                                                                                </select>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-xs-3">
                                                                            <div class="form-group">
                                                                                <input id="birth-day" class="form-control" type="number" name="birthDay" placeholder="Day" min="1" max="31" data-msg-min="Please enter a valid day of the month." data-msg-max="Please enter a valid day of the month." data-msg-required="Please enter your birthday." required="" aria-required="true">
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-xs-3">
                                                                            <div class="form-group">
                                                                                <input id="birth-year" class="form-control" type="number" name="birthYear" placeholder="Year" min="1900" max="2030" data-msg-min="Please enter a valid year." data-msg-max="Please enter a valid year." data-msg-required="Please enter your birthday." required="" aria-required="true">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row gutter-xs">
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="title">Phone</label>
                                                                        <input value="" class="form-control" type="text" name="phone" spellcheck="false" data-msg-required="Masukan nomor hp!" required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row gutter-xs">
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="title">Gender</label>
                                                                        <select class="custom-select" name="gender" data-msg-required="Masukan dengan benar!" required="" aria-required="true">
                                                                            <option value="" disabled="disabled" selected="selected">Gender</option>
                                                                            <option value="Laki-Laki">Laki-Laki</option>
                                                                            <option value="Perempuan">Perempuan</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="row gutter-xs">
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="title">Golongan</label>
                                                                        <input value="" class="form-control" type="text" name="golongan" spellcheck="false" data-msg-required="Masukan golongan" required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row gutter-xs">
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="title">Jabatan</label>
                                                                        <input value="" class="form-control" type="text" name="jabatan" spellcheck="false" data-msg-required="Masukan jabatan" required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row gutter-xs">
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="title">Unit kerja</label>
                                                                        <input value="" class="form-control" type="text" name="unitKerja" spellcheck="false" data-msg-required="Masukan unit kerja" required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row gutter-xs">
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="title">Instansi</label>
                                                                        <input value="" class="form-control" type="text" name="instansi" spellcheck="false" data-msg-required="Masukan instansi" required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row gutter-xs">
                                                                <div class="col-sm-12">
                                                                    <div class="form-group">
                                                                        <label for="title">Nomor whatsapp</label>
                                                                        <input value="" class="form-control" type="text" name="smWA" spellcheck="false" data-msg-required="Masukan nomor whatsapp" required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row gutter-xs">
                                                                <button type="submit" id="add-new-user-to-event-submit-button" class="btn pull-right btn-outline-info btn-pill">Tambah</button>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>

                                            <div id="tab-2" class="tab-pane">
                                                <div class="card">
                                                    <div class="card-header">

                                                        <h4 class="text-center m-y-md text-warning">
                                                            <span class="icon icon-exclamation-triangle"></span> Register untuk Event (sudah mempunyai akses/account)
                                                        </h4>
                                                    </div>
                                                    <div class="card-body">
                                                        <form action="" id="demo-inputmask" class="form-add-user-to-event" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                            <input type="hidden" name="addUserToEvent" value="">
                                                            <input type="hidden" name="addedBy" value="'.$_SESSION["username"].'">
                                                            <input type="hidden" name="code-add" value="'.$_SESSION["code"].'">
                                                            <input type="hidden" name="eventID" value="'.$event["eventID"].'">
                                                            <div class="row gutter-xs">
                                                                <div class="col-sm-10 col-sm-push-1">
                                                                    <div class="form-group text-center text-primary">
                                                                        <label for="title">NIP</label>
                                                                        <input value="N-i-P" class="form-control" type="text" name="nip" spellcheck="false" data-msg-required="Masukan nip!" required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row gutter-xs">
                                                                <button type="submit" id="add-user-to-event-submit-button" class="btn pull-right btn-outline-info btn-pill">Tambah</button>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>

                                            <div id="tab-3" class="tab-pane">
                                                <div class="card">
                                                    <div class="card-header">
                                                        <h4 class="text-center m-y-md text-warning">
                                                            <span class="icon icon-exclamation-triangle"></span> Register Members <br> (upload data pegawai melalui file excel)
                                                        </h4>
                                                    </div>
                                                    <div class="card-body">
                                                        <form action="" id="demo-inputmask" class="form-add-new-user-from-excel-to-event" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                            <input type="hidden" name="addNewUserFromExcelToEvent" value="">
                                                            <input type="hidden" name="addedBy" value="'.$_SESSION["username"].'">
                                                            <input type="hidden" name="code-add" value="'.$_SESSION["code"].'">
                                                            <input type="hidden" name="eventID" value="'.$event["eventID"].'">
                                                            <div class="row gutter-xs">
                                                                <div class="col-sm-6">
                                                                    <div class="form-group">
                                                                        <label id="button-switch-xls" class="file-upload-btn btn btn-outline-success">
                                                                            <span class="icon icon-works">&#97;</span> Upload Excel
                                                                            <input type="file" class="file-upload-input" id="xls-file" name="dataExcel" accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
                                                                        </label>
                                                                        
                                                                    </div>
                                                                    <strong><div id="file-message" style="color:black">No file chosen</div></strong>
                                                                </div>
                                                            </div>
                                                            <div class="row gutter-xs">
                                                                <button type="submit" id="add-user-from-excel-to-event-submit-button" class="btn pull-right btn-outline-info btn-pill">Tambah</button>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        ';

        foreach ($usersInEvent as $user) {
            echo '
            <div class="modal fade" id="show-more-of-'.$user["username"].'-'.$user["userID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">
                            <div class="card text-center">
                                <div class="card-image">
                                    <a class="card-link" href="#">
                                        <img class="card-img-top img-responsive" src="/dashboard/drive/important-images/banner.jpg" alt="Capriasca, Switzerland">
                                    </a>
                                </div>
                                <div class="card-avatar">
                                    <a class="card-thumbnail rounded sq-100" href="#" style="margin-bottom:20px">
                                        <img id="preview-img" class="timeline-media img-responsive img-rounded" style="width:130px; height:120px;object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$user["image"].'">
                                    </a>
                                </div>
                                <div class="card-body">
                                    <h3 class="card-title">'.$user["name"].'</h3>
                                    <h6 class="card-subtitle"><span class="icon icon-fa"></span> '.$user["tempat"].' / '.date_formating($user["birthDate"]).'</h6>
                                    <h6 class="card-subtitle"><span class="icon icon-qrcode"></span> '.$user["nip"].'</h6>
                                    <h6 class="card-subtitle"><span class="icon icon-envelope"></span> '.$user["email"].'</h6>
                                    <h6 class="card-subtitle"><span class="icon icon-phone"></span> '.$user["whatsapp"].'</h6>

                                    <ul class="list-inline m-a-0">

                                        <li>
                                            <a class="link-muted" href="#">
                                                <span class="icon icon-whatsapp icon-2x text-success"></span>
                                            </a>
                                        </li>

                                    </ul>
                                    <div class="row">
                                        <div class="col-md-push-2 col-md-8">
                                            <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable">

                                                <tbody class="text-crimson">
                                                    <tr>
                                                        <th>Jabatan</th>
                                                        <td>'.$user["jabatan"].'</td>
                                                    </tr>
                                                    <tr>
                                                        <th>Golongan</th>
                                                        <td>'.$user["golongan"].'</td>
                                                    </tr>
                                                    <tr>
                                                        <th>Unit Kerja</th>
                                                        <td>'.$user["unitKerja"].'</td>
                                                    </tr>
                                                    <tr>
                                                        <th>Instansi</th>
                                                        <td>'.$user["instansi"].'</td>
                                                    </tr>
                                                </tbody>

                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>



                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="delete-user-from-event-'.$user["userGlobalID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content bg-primary">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">
                                <span aria-hidden="true">×</span>
                                <span class="sr-only">Close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="text-center">
                                <form action="" class="form-delete-user-from-event-'.$user["userGlobalID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                    <input type="hidden" name="deleteUserFromEvent" value="">
                                    <input type="hidden" name="deletedBy" value="'.$_SESSION["username"].'">
                                    <input type="hidden" name="code-delete" value="'.$_SESSION["code"].'">
                                    <input type="hidden" name="eventID" value="'.$event["eventID"].'">
                                    <input type="hidden" name="nip" value="'.$user["nip"].'">
                                    <input type="hidden" name="registrationCode" value="'.$user["registrationCode"].'">
                                    <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                    <h3 class="text-light">Hapus? ('.$user["name"].' / '.$user["nip"].') dari event</h3>
                                    <h5><span class="icon icon-exclamation-triangle">menghapus pegawai dari event tidak menghapus akun pegawai</span></h5>
                                    <div class="m-t-lg">

                                        <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                        <button type="submit" id="delete-user-from-event-submit-button-'.$user["userGlobalID"].'" class="btn btn-danger">Delete</button>

                                    </div>
                                </form>

                            </div>
                        </div>

                    </div>
                </div>
            </div>
            ';
        }


        true_false_popup();
        echo '
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>
        <script>
            $(document).ready(function(){';
                foreach ($usersInEvent as $user) {
                    echo '
                        $(".form-delete-user-from-event-'.$user["userGlobalID"].'").on("submit", function(e) {
                            e.preventDefault();
                            $("#delete-user-from-event-submit-button-'.$user["userGlobalID"].'").prop("disabled", true);
                            $("#delete-user-from-event-submit-button-'.$user["userGlobalID"].'").html("menunggu <span class=\'spinner spinner-danger\'></span>");
                            var formData = new FormData(this);
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_event.php",
                                data: formData,
                                success: function (data) {
                                    var result = $.parseJSON(data);
                                    if(result.info != "success"){
                                        $("#failedMessage").html(result.info);
                                        $("#failed").modal("show");
                                        $("#delete-user-from-event-submit-button-'.$user["userGlobalID"].'").prop("disabled", false);
                                        $("#delete-user-from-event-submit-button-'.$user["userGlobalID"].'").html("Delete");
                                    }else{
                                        $(".modal").modal("hide");
                                        $("#successMessage").html("Berhasil dihapus");
                                        $("#success").modal("show");
                                        $("#success").on("hidden.bs.modal", function(){
                                            location.reload();
                                        });
                                    }
                                },error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });
                    ';
                }echo '
            });
        </script>
    </body>


    ';
}

function Template_Event_Edit_Certificate_Member_Admin($title1, $title2, $data){
    $event = $data["event"];
    $certificateTemplate = $data["certificateTemplate"];

    echo '
    <body class="layout layout-header-fixed layout-sidebar-fixed">
        <div class="layout-header">';
            nav_bar($title1, $title2); echo '
        </div>
        <div class="layout-main">';
        sidebar();
            echo '
            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <a href="/dashboard/event"><button class="btn btn-pill btn-lg btn-outline-info"><span class="icon icon-arrow-circle-left"></span> back to Event</button></a>
                                <a href="/dashboard/event/event-detail.php?event='.$event["eventID"].'"><button class="btn btn-pill btn-lg btn-outline-info"><span class="icon icon-arrow-circle-left"></span> back to '.$event["eventName"].'</button></a>
                                <h4 class="pull-right text-info" style="margin-top:4px"><label id="">'.date_formating(date("Y-m-d H:i:s")).'</label></h4><br>
                                <h5 class="pull-right text-info" style="margin-top:-10px; margin-bottom:-9px"><label id="realtimeTime">00:00:00 PM</label></h5>

                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">
                        <form action="" data-toggle="validator" id="form-edit-certificate-event">
                            <input type="hidden" name="edit-certificate-event">
                            <input type="hidden" name="eventID" value="'.$event["eventID"].'">
                            <input type="hidden" name="certificateTemplateID" value="'.$certificateTemplate["certificateTemplateID"].'">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label id="button-switch-image" class="file-upload-btn btn btn-outline-primary">

                                        <span class="icon icon-image"></span> Upload background
                                        <input type="file" class="file-upload-input edit-file" id="file" name="backgroundImage" accept="image/*">
                                    </label>
                                    <div id="image-preview-div">
                                        <strong><div id="image-message">No file chosen</div></strong>';
                                        if(strlen($certificateTemplate["backgroundImage"]) > 4){
                                            echo '<img id="preview-img" class="timeline-media img-rounded resize-img3" style="object-fit: cover;"
                                        src="/dashboard/drive/drive-event/event-certificate-background/'.$certificateTemplate["backgroundImage"].'">';
                                        }else{


                                        echo '
                                        <img id="preview-img" class="timeline-media img-rounded resize-img3" style="object-fit: cover;"
                                        src="/dashboard/drive/images/default.jpg">';
                                        }echo
                                        '
                                    </div>
                                    <div id="message"></div>
                                </div>
                            </div>';
                                $n = 1;
                                unset($certificateTemplate["backgroundImage"], $certificateTemplate["certificateTemplateID"]);
                                foreach ($certificateTemplate as $x) {
                                    echo '
                            <div class="row gutter-xs">
                                <div class="col-sm-7">
                                    <div class="form-group">
                                        <label for="">text-'.$n.'</label>
                                        <textarea id="biography-1" class="form-control" name="x'.$n.'" rows="3" required="" aria-required="true">'.$x.'</textarea>

                                    </div>
                                </div>
                            </div>'; $n++;
                                }echo '
                            <div class="row gutter-xs">

                                <div class="col-sm-7">
                                    <a href="/dashboard/event/event-member-certificate.php?eventID='.$event["eventID"].'&preview" class="btn btn-outline-danger btn-xs btn-labeled pull-right" type="button">
                                        preview
                                        <span class="btn-label btn-label-right">
                                            <span class="icon icon-search icon-lg icon-fw"></span>
                                        </span>
                                    </a>

                                    <span class="pull-right">&nbsp;&nbsp;&nbsp;&nbsp;</span>

                                    <button class="btn btn-outline-danger btn-xs btn-labeled pull-right" type="submit" id="edit-certificate-event-submit-button">

                                        save
                                        <span class="btn-label btn-label-right">
                                            <span class="icon icon-save icon-lg icon-fw"></span>
                                            <span class="spinner spinner-danger spinner-xs icon-fw hidden" id="save-icon"></span>
                                        </span>
                                    </button>

                                </div>
                            </div>
                        </form>


                    </div>
                </div>
            </div>
        </div>
    </body>
    <script src="/template_vendor/js/vendor.min.js"></script>
    <script src="/template_vendor/js/elephant.min.js"></script>
    <script src="/template_vendor/js/application.min.js"></script>
    <script src="/template_vendor/js/demo.min.js"></script>
    <script src="/template_vendor/js/image-upload.js"></script>
    <script src="/template/js/richeese.js"></script>';
    true_false_popup();    
}

function Template_Member_Admin($title1, $title2, $data){ 
    $members = $data["members"];
    echo '


    <body class="layout layout-header-fixed layout-sidebar-fixed">
        <div class="layout-header">';
        nav_bar($title1, $title2);
        echo '

        </div>
        <div class="layout-main">';
            sidebar();


            echo '

            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <button class="btn btn-pill btn-lg btn-outline-info" data-toggle="modal" data-target="#add-user-global">Register New Member</button>
                                <h4 class="pull-right text-info" style="margin-top:4px"><label id="">'.date_formating(date("Y-m-d H:i:s")).'</label></h4><br>
                                <h5 class="pull-right text-info" style="margin-top:-10px; margin-bottom:-9px"><label id="realtimeTime">00:00:00 PM</label></h5>

                            </div>
                        </div>

                    </div>
                    <div class="row gutter-xs">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header text-info">
                                    <div class="card-actions">
                                        <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                        <button type="button" class="card-action card-reload" title="Reload"></button>
                                        <button type="button" class="card-action card-remove" title="Remove"></button>
                                    </div>
                                    <strong>
                                        <h3 class="text-danger"><span class="icon icon-calendar"></span> (List anggota)

                                        </h3>
                                    </strong>
                                </div>

                                <div class="card-body">
                                    <table id="demo-datatables-scroller-1" class="table table-striped   table-nowrap dataTable" cellspacing="0" width="100%">
                                        <thead class="text-info">
                                            <tr>
                                                <th>NIP</th>
                                                <th>Nama</th>
                                                <th>Golongan</th>
                                                <th>Jabatan</th>
                                                <th>Unit Kerja</th>
                                                <th>Instansi</th>
                                                <th>profile</th>
                                                <th class="text-center">Edit</th>
                                                <th class="text-center">Delete</th>
                                            </tr>
                                        </thead>
                                        <tbody>';

                                            foreach ($members as $user) {
                                                echo '
                                                <tr>
                                                    <td>'.$user["nip"].'</td>
                                                    <td>'.$user["name"].'</td>
                                                    <td>'.$user["golongan"].'</td>
                                                    <td>'.$user["jabatan"].'</td>
                                                    <td>'.$user["unitKerja"].'</td>
                                                    <td>'.$user["instansi"].'</td>
                                                    <td>
                                                        <a href="" data-toggle="modal" data-target="#show-more-of-'.$user["username"].'-'.$user["userID"].'"><span class="icon icon-search-plus icon-lg text-info"></span>
                                                        </a>
                                                    </td>
                                                    <td>
                                                        <span data-toggle="modal" data-target="#edit-user-global-'.$user["username"].'-'.$user["userID"].'" class="icon icon-edit icon-md text-warning"></span>
                                                    </td>
                                                    <td>
                                                        <span data-toggle="modal" data-target="#delete-user-global-'.$user["userID"].'" class="icon icon-trash icon-md text-danger"></span>
                                                    </td>
                                                </tr>
                                                ';
                                            }

                                            echo '
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>





                </div>
            </div>


            ';

        foreach ($members as $user) {
            echo '

            <div class="modal fade" id="show-more-of-'.$user["username"].'-'.$user["userID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">

                            <div class="card text-center">
                                <div class="card-image">
                                    <a class="card-link" href="#">
                                        <img class="card-img-top img-responsive" src="/drive/images/test-image.png" alt="Capriasca, Switzerland">
                                    </a>
                                </div>
                                <div class="card-avatar">
                                    <a class="card-thumbnail rounded sq-100" href="#" style="margin-bottom:20px">
                                        <img class="timeline-media img-responsive img-rounded" style="width:130px; height:120px;object-fit: cover;" src="/drive/drive-user/user-images/'.$user["image"].'">
                                    </a>
                                </div>
                                <div class="card-body">

                                    <h3 class="card-title">'.$user["name"].'</h3>
                                    <h6 class="card-subtitle"><span class="icon icon-fa"></span> '.$user["tempat"].' / '.date_formating($user["birthDate"]).'</h6>
                                    <h6 class="card-subtitle"><span class="icon icon-qrcode"></span> '.$user["nip"].'</h6>
                                    <h6 class="card-subtitle"><span class="icon icon-envelope"></span> '.$user["email"].'</h6>
                                    <h6 class="card-subtitle"><span class="icon icon-phone"></span> '.$user["phone"].'</h6>

                                    <ul class="list-inline m-a-0">

                                        <li>
                                            <a class="link-muted" href="#">
                                                <span class="icon icon-whatsapp icon-2x text-success"></span>
                                            </a>
                                        </li>

                                    </ul>
                                    <div class="row">
                                        <div class="card">
                                            <div class="card-header">
                                                <div class="card-actions">
                                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                                </div>
                                                <strong>Data event diikuti </strong>
                                            </div>
                                            <div class="card-body">';
                                            if(sizeof($user["followedEvents"]) == 0){
                                                echo '<div class="alert alert-info">Tidak ada event diikuti</div>';
                                            }else{
                                            echo '
                                                <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%">
                                                    <thead>
                                                        <tr>
                                                            <th class="text-left">No</th>
                                                            <th class="text-left">Event</th>
                                                            <th class="text-left">Status</th>
                                                            <th class="text-left">Event Status</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="text-crimson">';
                                                        $i=0;
                                                        foreach ($user["followedEvents"] as $event) {
                                                            $i++;
                                                            echo '
                                                            <tr>
                                                                <td class="text-left">'.$i.'</td>
                                                                <td class="text-left"><a href="/dashboard/event/event-detail.php?event='.$event["eventID"].'"><span class="icon icon-calendar"></span> '.$event["eventName"].'</a></td>
                                                                <td class="text-left">';
                                                                        if($event["absentStatus"] == 0){
                                                                            echo '<span class="label label-outline-default">Belum hadir</span>';
                                                                        }else if($event["absentStatus"] == 1){
                                                                            echo '<span class="label label-outline-success">Hadir</span>';
                                                                        }else{
                                                                            echo '<span class="label label-outline-danger">Tidak hadir</span>';
                                                                        }echo '
                                                                </td>
                                                                <td class="text-left">';
                                                    if($event["eventStatus"] == 1){
                                                        echo '<span class="label label-outline-success">ONGOING</span>';
                                                    }else if($event["eventStatus"] == 0){
                                                        echo '<span class="label label-outline-warning">WAITING</span>';
                                                    }else if($event["eventStatus"] == 2){
                                                        echo '<span class="label label-outline-danger">EXPIRED</span>';
                                                    }
                                                    echo '      </td>
                                                            </tr>
                                                            ';
                                                        }

                                                        echo '
                                                    </tbody>

                                                </table>';

                                            }
                                                echo '
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>



                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="edit-user-global-'.$user["username"].'-'.$user["userID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">
                            <div class="card">
                                <div class="card-header bg-info">
                                    <h4 class="text-center m-y-md" style="color:white;">
                                        <span class="icon icon-edit"></span> Edit User
                                    </h4>
                                </div>
                                <div class="card-body" style="max-height:500px; overflow-y:scroll">
                                    <form action="" id="demo-inputmask" style="color:blue" class="edit-user-global-'.$user["userID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                        <input type="hidden" name="editUserGlobal" value="">
                                        <input type="hidden" name="editedBy" value="'.$_SESSION["username"].'">
                                        <input type="hidden" name="code-edit" value="'.$_SESSION["code"].'">
                                        <input type="hidden" name="userID" value="'.$user["userID"].'">
                                        <input type="hidden" name="userGlobalID" value="'.$user["userGlobalID"].'">

                                        <div class="row gutter-xs">
                                            <div class="form-group text-center">
                                                <label id="button-switch-image-'.$user["userID"].'" class="file-upload-btn btn btn-outline-info">
                                                    <span class="icon icon-image"></span> Upload Image
                                                    <input type="file" class="file-upload-input edit-file" id="file-'.$user["userID"].'" name="image" accept="image/*">
                                                </label>
                                                <div id="image-preview-div">
                                                    <strong><div id="image-message-'.$user["userID"].'">No file chosen</div></strong>
                                                    <img id="preview-img-'.$user["userID"].'" class="timeline-media img-rounded resize-img2" style="object-fit: cover;"
                                                    src="/drive/drive-user/user-images/'.$user["image"].'">
                                                </div>
                                                <div id="message"></div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-10 col-sm-push-1">
                                                <div class="form-group text-center">
                                                    <label for="nip">NIP</label>
                                                    <input value="'.$user["nip"].'" class="form-control" type="text" name="nip" spellcheck="false" data-msg-required="Masukan nip!" required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="username">Username</label>
                                                    <input value="'.$user["username"].'" class="form-control" type="text" name="username" spellcheck="false" data-msg-required="Masukan username!" required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="password">Password</label>
                                                    <input value="'.$user["password"].'" class="form-control" type="text" name="password" spellcheck="false" data-msg-required="Masukan password!" required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="email">Email</label>
                                                    <input value="'.$user["email"].'" id="form-control-9" class="form-control" type="email" name="email" data-inputmask="\'alias\': \'email\'" data-msg-required="Masukan email!" required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <label for="firstName">Nama depan</label>
                                                    <input value="'.$user["firstName"].'" class="form-control" type="text" name="firstName" spellcheck="false" data-msg-required="Masukan nama depan!" required>
                                                </div>
                                            </div>
                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <label for="lastName">Nama belakang</label>
                                                    <input value="LaststName" class="form-control" type="text" name="lastName" spellcheck="false" data-msg-required="Masukan nama belakang!" required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="tempat">Tempat Kelahiran</label>
                                                    <input value="'.$user["tempat"].'" class="form-control" type="text" name="tempat" spellcheck="false" data-msg-required="Masukan tempat kelahiran!" required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="form-group">
                                                <label for="birth-month">Tanggal Lahir</label>
                                                <div class="row gutter-xs">
                                                    <div class="col-xs-6">
                                                        <div class="form-group">
                                                            <select id="birth-month" class="custom-select" name="birthMonth" data-msg-required="Please enter your birthday." required="" aria-required="true">';
                                                                    foreach (birthMonth() as $n => $month) {
                                                                        $temp = int_to_month($user["birthMonth"]);
                                                                        if($temp == $month){
                                                                            echo '<option value="'.$n.'" selected>'.$month.'</option>';
                                                                        }else{
                                                                            echo '<option value="'.$n.'">'.$month.'</option>';
                                                                        }

                                                                    }

                                                                echo '
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-3">
                                                        <div class="form-group">
                                                            <input id="birth-day" class="form-control" type="number" name="birthDay" placeholder="Day" min="1" max="31" data-msg-min="Please enter a valid day of the month." data-msg-max="Please enter a valid day of the month." data-msg-required="Please enter your birthday." required="" aria-required="true" value="'.$user["birthDay"].'">
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-3">
                                                        <div class="form-group">
                                                            <input id="birth-year" class="form-control" type="number" name="birthYear" placeholder="Year" min="1900" max="2030" data-msg-min="Please enter a valid year." data-msg-max="Please enter a valid year." data-msg-required="Please enter your birthday." required="" aria-required="true" value="'.$user["birthYear"].'">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="phone">Phone</label>
                                                    <input value="'.$user["phone"].'" class="form-control" type="text" name="phone" spellcheck="false" data-msg-required="Masukan nomor hp!" required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="gender">Gender</label>
                                                    <select class="custom-select" name="gender" data-msg-required="Please indicate your gender." required>';
                                                        if($user["gender"] == "Laki-Laki"){
                                                            echo '
                                                            <option value="Laki-Laki" selected="selected">Laki-Laki</option>
                                                            <option value="Perempuan">Perempuan</option>';
                                                        }else if($user["gender"] == "Perempuan"){
                                                            echo '
                                                            <option value="Laki-Laki">Laki-Laki</option>
                                                            <option value="Perempuan" selected="selected">Perempuan</option>
                                                            ';
                                                        }echo '

                                                    </select>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="golongan">Golongan</label>
                                                    <input value="'.$user["golongan"].'" class="form-control" type="text" name="golongan" spellcheck="false" data-msg-required="Masukan golongan" required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="jabatan">Jabatan</label>
                                                    <input value="'.$user["jabatan"].'" class="form-control" type="text" name="jabatan" spellcheck="false" data-msg-required="Masukan jabatan" required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="unitKerja">Unit kerja</label>
                                                    <input value="'.$user["unitKerja"].'" class="form-control" type="text" name="unitKerja" spellcheck="false" data-msg-required="Masukan unit kerja" required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="instansi">Instansi</label>
                                                    <input value="'.$user["instansi"].'" class="form-control" type="text" name="instansi" spellcheck="false" data-msg-required="Masukan instansi" required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="smWA">Nomor whatsapp</label>
                                                    <input value="'.$user["smWA"].'" class="form-control" type="text" name="smWA" spellcheck="false" data-msg-required="Masukan nomor whatsapp" required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <button type="submit" id="edit-user-global-submit-button-'.$user["userID"].'" class="btn pull-right btn-outline-info btn-pill">Update</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="delete-user-global-'.$user["userID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content bg-primary">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">
                                <span aria-hidden="true">×</span>
                                <span class="sr-only">Close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="text-center">
                                <form action="" class="form-delete-user-'.$user["userID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                    <input type="hidden" name="deleteUserGlobal" value="">
                                    <input type="hidden" name="deletedBy" value="'.$_SESSION["username"].'">
                                    <input type="hidden" name="code-delete" value="'.$_SESSION["code"].'">
                                    <input type="hidden" name="nip" value="'.$user["nip"].'">
                                    <input type="hidden" name="username" value="'.$user["username"].'">
                                    <input type="hidden" name="userID" value="'.$user["userID"].'">

                                    <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                    <h3 class="text-light">Hapus? ('.$user["name"].' / '.$user["nip"].')</h3>

                                    <div class="m-t-lg">

                                        <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                        <button type="submit" id="delete-user-submit-button-'.$user["userGlobalID"].'" class="btn btn-danger">Delete</button>

                                    </div>
                                </form>

                            </div>
                        </div>

                    </div>
                </div>
            </div>


            ';
        }

        echo '

        <div class="modal fade" id="add-user-global" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content bg-info">
                        <div class="modal-header">
                            <h4 class="modal-title text-center">Tambah User Baru
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">

                            <div class="row">
                                <div class="col-lg-10 col-lg-push-1">
                                    <div class="demo-form-wrapper">


                                            <ul class="steps">
                                                <li class="step col-xs-4 active">
                                                    <a class="step-segment" href="#tab-1" data-toggle="tab">
                                                        <span class="step-icon icon icon-user"></span>
                                                    </a>
                                                    <div class="step-content" style="color:white;">
                                                        <strong class="hidden-xs">( Register A )</strong><br>Register New User
                                                    </div>
                                                </li>
                                            </ul>
                                            <div class="tab-content" style="max-height:500px; overflow-y:scroll">
                                                <div id="tab-1" class="tab-pane active">
                                                    <div class="card">
                                                        <div class="card-header">
                                                            <h4 class="text-center m-y-md text-warning">
                                                                <span class="icon icon-sign-in"></span> Register New User
                                                            </h4>
                                                        </div>
                                                        <div class="card-body">
                                                            <form action="" id="demo-inputmask" style="color:blue" class="form-add-new-user-global" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                                <input type="hidden" name="addNewUserGlobal" value="">
                                                                <input type="hidden" name="addedBy" value="'.$_SESSION["username"].'">
                                                                <input type="hidden" name="code-add" value="'.$_SESSION["code"].'">

                                                                <div class="row gutter-xs">
                                                                    <div class="form-group text-center">
                                                                        <label id="button-switch-image" class="file-upload-btn btn btn-outline-info">
                                                                            <span class="icon icon-image"></span> Upload Image
                                                                            <input type="file" class="file-upload-input edit-file" id="file" name="image" accept="image/*">
                                                                        </label>
                                                                        <div id="image-preview-div">
                                                                            <strong><div id="image-message">No file chosen</div></strong>
                                                                            <img id="preview-img" class="timeline-media img-rounded resize-img2" style="object-fit: cover;"
                                                                            src="/drive/drive-user/user-images/default.jpg">
                                                                        </div>
                                                                        <div id="message"></div>
                                                                    </div>
                                                                </div>
                                                                <div class="row gutter-xs">
                                                                    <div class="col-sm-10 col-sm-push-1">
                                                                        <div class="form-group text-center">
                                                                            <label for="title">NIP</label>
                                                                            <input value="" class="form-control" type="text" name="nip" spellcheck="false" data-msg-required="Masukan nip!" required>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row gutter-xs">
                                                                    <div class="col-sm-12">
                                                                        <div class="form-group">
                                                                            <label for="title">Username</label>
                                                                            <input value="" class="form-control" type="text" name="username" spellcheck="false" data-msg-required="Masukan username!" required>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row gutter-xs">
                                                                    <div class="col-sm-12">
                                                                        <div class="form-group">
                                                                            <label for="title">Password</label>
                                                                            <input value="" class="form-control" type="text" name="password" spellcheck="false" data-msg-required="Masukan password!" required>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row gutter-xs">
                                                                    <div class="col-sm-12">
                                                                        <div class="form-group">
                                                                            <label for="title">Email</label>
                                                                            <input id="form-control-9" class="form-control" type="email" name="email" data-inputmask="\'alias\': \'email\'" data-msg-required="Masukan email!" required>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row gutter-xs">
                                                                    <div class="col-sm-6">
                                                                        <div class="form-group">
                                                                            <label for="title">Nama depan</label>
                                                                            <input value="" class="form-control" type="text" name="firstName" spellcheck="false" data-msg-required="Masukan nama depan!" required>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-sm-6">
                                                                        <div class="form-group">
                                                                            <label for="title">Nama belakang</label>
                                                                            <input value="" class="form-control" type="text" name="lastName" spellcheck="false" data-msg-required="Masukan nama belakang!" required>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row gutter-xs">
                                                                    <div class="col-sm-12">
                                                                        <div class="form-group">
                                                                            <label for="tempat">Tempat Kelahiran</label>
                                                                            <input value="" class="form-control" type="text" name="tempat" spellcheck="false" data-msg-required="Masukan tempat kelahiran!" required>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row gutter-xs">
                                                                    <div class="form-group">
                                                                        <label for="birth-month">Tanggal Lahir</label>
                                                                        <div class="row gutter-xs">
                                                                            <div class="col-xs-6">
                                                                                <div class="form-group">
                                                                                    <select id="birth-month" class="custom-select" name="birthMonth" data-msg-required="Please enter your birthday." required="" aria-required="true">
                                                                                        <option value="" disabled="disabled" selected="selected">Month</option>
                                                                                        <option value="01">January</option>
                                                                                        <option value="02">February</option>
                                                                                        <option value="03">March</option>
                                                                                        <option value="04">April</option>
                                                                                        <option value="05">May</option>
                                                                                        <option value="06">June</option>
                                                                                        <option value="07">July</option>
                                                                                        <option value="08">August</option>
                                                                                        <option value="09">September</option>
                                                                                        <option value="10">October</option>
                                                                                        <option value="11">November</option>
                                                                                        <option value="12">December</option>
                                                                                    </select>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-xs-3">
                                                                                <div class="form-group">
                                                                                    <input id="birth-day" class="form-control" type="number" name="birthDay" placeholder="Day" min="1" max="31" data-msg-min="Please enter a valid day of the month." data-msg-max="Please enter a valid day of the month." data-msg-required="Please enter your birthday." required="" aria-required="true">
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-xs-3">
                                                                                <div class="form-group">
                                                                                    <input id="birth-year" class="form-control" type="number" name="birthYear" placeholder="Year" min="1900" max="2030" data-msg-min="Please enter a valid year." data-msg-max="Please enter a valid year." data-msg-required="Please enter your birthday." required="" aria-required="true">
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row gutter-xs">
                                                                    <div class="col-sm-12">
                                                                        <div class="form-group">
                                                                            <label for="title">Phone</label>
                                                                            <input value="" class="form-control" type="text" name="phone" spellcheck="false" data-msg-required="Masukan nomor hp!" required>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row gutter-xs">
                                                                    <div class="col-sm-12">
                                                                        <div class="form-group">
                                                                            <label for="title">Gender</label>
                                                                            <select class="custom-select" name="gender" data-msg-required="Masukan dengan benar!" required="" aria-required="true">
                                                                                <option value="" disabled="disabled" selected="selected">Gender</option>
                                                                                <option value="Laki-Laki">Laki-Laki</option>
                                                                                <option value="Perempuan">Perempuan</option>
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <div class="row gutter-xs">
                                                                    <div class="col-sm-12">
                                                                        <div class="form-group">
                                                                            <label for="title">Golongan</label>
                                                                            <input value="" class="form-control" type="text" name="golongan" spellcheck="false" data-msg-required="Masukan golongan" required>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row gutter-xs">
                                                                    <div class="col-sm-12">
                                                                        <div class="form-group">
                                                                            <label for="title">Jabatan</label>
                                                                            <input value="" class="form-control" type="text" name="jabatan" spellcheck="false" data-msg-required="Masukan jabatan" required>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row gutter-xs">
                                                                    <div class="col-sm-12">
                                                                        <div class="form-group">
                                                                            <label for="title">Unit kerja</label>
                                                                            <input value="" class="form-control" type="text" name="unitKerja" spellcheck="false" data-msg-required="Masukan unit kerja" required>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row gutter-xs">
                                                                    <div class="col-sm-12">
                                                                        <div class="form-group">
                                                                            <label for="title">Instansi</label>
                                                                            <input value="" class="form-control" type="text" name="instansi" spellcheck="false" data-msg-required="Masukan instansi" required>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row gutter-xs">
                                                                    <div class="col-sm-12">
                                                                        <div class="form-group">
                                                                            <label for="title">Nomor whatsapp</label>
                                                                            <input value="" class="form-control" type="text" name="smWA" spellcheck="false" data-msg-required="Masukan nomor whatsapp" required>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row gutter-xs">
                                                                    <button type="submit" id="add-new-user-global-submit-button" class="btn pull-right btn-outline-info btn-pill">Tambah</button>
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div id="tab-3" class="tab-pane">



                                                </div>
                                            </div>


                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>
            </div>



        ';

            true_false_popup();
            echo '

        </div>
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>

        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>
        <script>
            $(document).ready(function(){';

                foreach ($members as $user) {
                    echo '

                        $(".edit-user-global-'.$user["userID"].'").on("submit", function(e) {
                            e.preventDefault();
                            $("#edit-user-global-submit-button-'.$user["userID"].'").prop("disabled", true);
                            $("#edit-user-global-submit-button-'.$user["userID"].'").html(\'menunggu <span class="spinner spinner-danger"></span>\');
                            var formData = new FormData(this);
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_user.php",
                                data: formData,
                                success: function (data) {
                                    var result = $.parseJSON(data);
                                    if(result.info != "success"){
                                        $("#failedMessage").html(result.info);
                                        $("#failed").modal("show");
                                        $("#edit-user-global-submit-button-'.$user["userID"].'").prop("disabled", false);
                                        $("#edit-user-global-submit-button-'.$user["userID"].'").html("Update");
                                    }else{
                                        $(".modal").modal("hide");
                                        $("#successMessage").html("Berhasil diupdate");
                                        $("#success").modal("show");
                                        $("#success").on("hidden.bs.modal", function(){
                                            location.reload();
                                        });
                                    }
                                },error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });
                        $(".form-delete-user-'.$user["userID"].'").on("submit", function(e) {
                            e.preventDefault();
                            $("#delete-user-submit-button-'.$user["userGlobalID"].'").prop("disabled", true);
                            $("#delete-user-submit-button-'.$user["userGlobalID"].'").html(\'menunggu <span class="spinner spinner-danger"></span>\');
                            var formData = new FormData(this);
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_user.php",
                                data: formData,
                                success: function (data) {
                                    var result = $.parseJSON(data);
                                    if(result.info != "success"){
                                        $("#failedMessage").html(result.info);
                                        $("#failed").modal("show");
                                        $("#delete-user-submit-button-'.$user["userGlobalID"].'").prop("disabled", false);
                                        $("#delete-user-submit-button-'.$user["userGlobalID"].'").html("Delete");
                                    }else{
                                        $(".modal").modal("hide");
                                        $("#successMessage").html("Berhasil dihapus");
                                        $("#success").modal("show");
                                        $("#success").on("hidden.bs.modal", function(){
                                            location.reload();
                                        });
                                    }
                                },error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });

                        function selectImage(e) {

                            $("#preview-img-'.$user["userID"].'").attr("src", e.target.result);

                        }


                        $("#file-'.$user["userID"].'").change(function() {
                            var file = this.files[0];
                            if(typeof(file) !== "undefined"){
                                var extension = file.name.split(".").pop().toLowerCase();
                                if(jQuery.inArray(extension, ["png", "jpg", "jpeg"]) === -1){
                                    $("#image-message-'.$user["userID"].'").html("No file chosen");
                                    $("#button-switch-image-'.$user["userID"].'").removeClass("btn-info").addClass("btn-outline-info");
                                    $("#preview-img-'.$user["userID"].'").attr("src", "/drive/drive-user/user-images/'.$user["image"].'");
                                }else{
                                    $("#button-switch-image-'.$user["userID"].'").removeClass("btn-outline-info").addClass("btn-info");
                                    var reader = new FileReader();
                                    reader.onload = selectImage;
                                    reader.readAsDataURL(this.files[0]);

                                    var filename;
                                    if(file.name.length > 16){
                                        filename = file.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file.name;
                                    }
                                    $("#image-message-'.$user["userID"].'").html(filename);
                                }
                            }else{
                                $("#image-message-'.$user["userID"].'").html("No file chosen");
                                $("#preview-img-'.$user["userID"].'").attr("src", "/drive/drive-user/user-images/'.$user["image"].'");
                                $("#button-switch-image-'.$user["userID"].'").removeClass("btn-info").addClass("btn-outline-info");
                            }
                        });

                    ';
                }
                echo '
            });
        </script>
    </body>

    ';
}

function Template_Carousel_Admin($title1, $title2, $data){
    $carouselList = $data["carouselList"];
    $carouselVideo = $carouselList["carouselVideo"];
    $carouselImage = $carouselList["carouselImage"];

    echo '

    <body class="layout layout-header-fixed layout-sidebar-fixed">

        <div class="layout-header">';nav_bar($title1, $title2);echo'</div>
        <div class="layout-main">';sidebar(); echo '
            <div class="layout-content">
                <div class="layout-content-body">
                    
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header" style="background-color:#DEB887">
                                <strong>Upload Files</strong>
                            </div>
                            <div class="card-body">
                                <div class="col-md-4">
                                    <form action="" id="form-add-carousel" method="post" data-toggle="validator" enctype="multipart/form-data">
                                        <input type="hidden" name="addedBy" value="'.$_SESSION["username"].'">
                                        <input type="hidden" name="code-add" value="'.$_SESSION["code"].'">
                                        <input type="hidden" name="addCarousel" value="">
                                        <div class="row gutter-xs">
                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <label id="button-switch-image" class="file-upload-btn btn btn-outline-primary">
                                                        <span class="icon icon-image"></span> Upload Image/Gif
                                                        <input type="file" class="file-upload-input edit-file" id="file" name="carouselImage" accept="image/*">
                                                    </label>
                                                    <div id="image-preview-div">
                                                        <strong><div id="image-message">No file chosen</div></strong>
                                                        <img id="preview-img" class="timeline-media img-rounded" width="220" height="80" style="object-fit: cover;"
                                                        src="/dashboard/drive/images/default.jpg">
                                                    </div>
                                                    <div id="message"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <button type="submit" id="add-carousel-submit-button" class="btn btn-success">Tambah</button>
                                        </div>
                                    </form>
                                </div>
                                <div class="col-md-4">
                                    <form action="" id="form-add-video-carousel" method="post" data-toggle="validator" enctype="multipart/form-data">
                                        <input type="hidden" name="addedBy" value="'.$_SESSION["username"].'">
                                        <input type="hidden" name="code-add" value="'.$_SESSION["code"].'">
                                        <input type="hidden" name="addVideoCarousel" value="">
                                        <div class="row gutter-xs">
                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <label id="button-switch-vid" class="file-upload-btn btn btn-outline-success">
                                                        <span class="icon icon-works">&#97;</span> Upload video
                                                        <input type="file" class="file-upload-input" id="vid-file" name="carouselVideo" accept="video/mp4, video/x-m4v, video/*">
                                                    </label>
                                                    <strong><div id="video-message">No file chosen</div></strong>
                                                </div>
                                                
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <button type="submit" id="add-video-carousel-submit-button" class="btn btn-success">Tambah</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header" style="background-color:#DEB887">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-reload" title="Reload"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <strong>List Gallery</strong>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">';
                                        
                                        foreach ($carouselImage as $carousel) {
                                            echo '
                                        <div class="col-md-6">
                                            <div class="card">
                                                <div class="card-header" style="background-color:#DEB887">'.substr($carousel["imageFileName"], 0, 20).'...'.substr($carousel["imageName"], -3).'</div>
                                                <div class="card-image">
                                                    <img class="img-responsive resize-img2" src="/dashboard/drive/drive-carousel/carousel-images/'.$carousel["imageName"].'" alt="'.$carousel["imageFileName"].'" style="width:100%;">
                                                </div>
                                                <div class="card-body">

                                                    <button type="submit" id="add-carousel-submit-button" data-toggle="modal" data-target="#pop-up-delete-carousel-'.$carousel["carouselID"].'" class="btn btn-primary">Delete</button>
                                                </div>
                                            </div>
                                        </div>';
                                        }echo'
                                    </div>
                                    <div class="col-md-6">
                                        <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%">
                                            <thead>
                                            <tr>
                                                <th>No</th>
                                                <th>Slide Video</th>
                                                <th>Hapus</th>
                                            </tr>
                                            </thead>
                                            <tbody>';



                                    
                                        $c = 0;
                                        foreach ($carouselVideo as $carousel) {
                                            $c++;
                                            echo '
                                            <td>'.$c.'</td>
                                            <td><a href="/dashboard/drive/drive-carousel/carousel-videos/'.$carousel["videoName"].'">'.substr($carousel["videoFileName"], 0, 15).'...'.substr($carousel["videoFileName"], -3).'</a></td>
                                            <td><button type="submit" class="btn-link" id="add-carousel-submit-button" data-toggle="modal" data-target="#pop-up-delete-carousel-'.$carousel["carouselID"].'">Delete</button></td>
                                            ';

                                        }
                                        echo'
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>

        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>';


        foreach ($carouselList as $carouselType) {
            foreach($carouselType as $carousel){


            echo '

            <div id="pop-up-delete-carousel-'.$carousel["carouselID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                <div class="modal-dialog">
                    <div class="modal-content bg-primary">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">
                                <span aria-hidden="true">×</span>
                                <span class="sr-only">Close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form action="" id="form-delete-carousel-'.$carousel["carouselID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                <input type="hidden" name="deleteCarousel" value="">
                                <input type="hidden" name="carouselID" value="'.$carousel["carouselID"].'">
                                <input type="hidden" name="deletedBy" value="'.$_SESSION["username"].'">
                                <input type="hidden" name="code-delete" value="'.$_SESSION["code"].'">
                                <div class="text-center">
                                    <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                    <h3 class="text-light">Hapus Slide? <br>'.$carousel["imageName"].$carousel["videoName"].'</h3>
                                    <div class="m-t-lg">
                                        <button class="btn btn-danger" id="delete-carousel-'.$carousel["carouselID"].'" type="submit">Hapus</button>

                                        <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer"></div>
                    </div>
                </div>
            </div>

            <script>
                $(document).ready(function(){
                    $("#form-delete-carousel-'.$carousel["carouselID"].'").on("submit", function(e) {
                        e.preventDefault();
                        $("#delete-carousel-'.$carousel["carouselID"].'").prop("disabled", true);
                        $("#delete-carousel-'.$carousel["carouselID"].'").html(\'menunggu <span class="spinner spinner-danger"></span>\');
                        var formData = new FormData(this);
                        $.ajax({
                              type: "POST",
                              processData: false,
                              contentType: false,
                              enctype: "multipart/form-data",
                              url: "/handler/handler_ajax_carousel.php",
                              data: formData,
                              success: function (data) {
                                var result = $.parseJSON(data);
                                if(result.info != "success"){
                                    $("#failedMessage").html(result.info);
                                    $("#failed").modal("show");
                                    $("#delete-carousel-'.$carousel["carouselID"].'").prop("disabled", true);
                                    $("#delete-carousel-'.$carousel["carouselID"].'").html("Hapus");
                                }else{
                                  $(".modal").modal("hide");
                                  $("#successMessage").html("Image berhasil dihapus");
                                  $("#success").modal("show");
                                  $("#success").on("hidden.bs.modal", function(){
                                      location.reload();
                                  });
                                }
                              },
                              error: function(){
                                alert("error in ajax form submission");
                              }
                        });
                    });
                });
            </script>

            ';
            }
        }



        true_false_popup();
        echo '

    </body>



    ';
}

function Template_Information_Admin($title1, $title2, $data){
    $informationList = $data["informationList"];
 
        echo '

    <body class="layout layout-header-fixed layout-sidebar-fixed">

        <div class="layout-header">';nav_bar($title1, $title2);echo'</div>
        <div class="layout-main">';sidebar(); echo '
            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header" style="background-color:#DEB887">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-reload" title="Reload"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <button class="btn btn-pill btn-lg" style="color:black;background-color:white" data-toggle="modal" data-target="#add-Information"><span class="icon icon-bookmark"></span> Tambah Informasi</button>
                                
                            </div>
                            <div class="card-body">';
                            Layout_information($informationList);

                            echo '
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="add-Information" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header " style="background-color:#DEB887;color:black">
                        <h4 class="modal-title">Tambah Informasi
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </h4>
                    </div>
                    <div class="modal-body">
                        <form action="" class="form-add-information" id="demo-inputmask" method="post" data-toggle="validator" enctype="multipart/form-data">
                            <input type="hidden" name="addInformation" value="">
                            <input type="hidden" name="addedBy" value="'.$_SESSION["username"].'">
                            <input type="hidden" name="code-add" value="'.$_SESSION["code"].'">
                            <input type="hidden" name="thumbnailText" value=".......">
                            
                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="title">Masukan Judul</label>
                                        <input class="form-control" type="text" name="informationTitle" spellcheck="false" data-msg-required="masukan judul" required>
                                    </div>
                                </div>
                            </div>

                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="">Masukan Deskripsi</label>
                                        <textarea class="form-control" name="informationDescription" required></textarea>
                                    </div>
                                </div>
                            </div>

                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="">Masukan Url</label>
                                        <input class="form-control" type="text" name="informationUrl" spellcheck="false" data-msg-required="masukan judul" required>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group row gutter-xs">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                <button type="submit" id="add-information-submit-button" style="background-color:#DEB887;color:black" class="btn btn-info">Tambah</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>


        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>

        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>';

            foreach ($informationList as $information) {
                echo '

                <div id="delete-information-'.$information["informationID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                    <div class="modal-dialog">
                        <div class="modal-content bg-primary">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">×</span>
                                    <span class="sr-only">Close</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="text-center">
                                    <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                    <h3 class="text-light">Hapus materi? ('.$information["informationTitle"].')</h3>
                                    <div class="m-t-lg">
                                        <button class="btn btn-danger" data-dismiss="modal" id="deleteinformation-'.$information["informationID"].'" type="button">Hapus</button>
                                        
                                        <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer"></div>
                        </div>
                    </div>
                </div>


                <div class="modal fade" id="edit-information-'.$information["informationID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header" style="background-color:#DEB887">
                                <h4 class="modal-title">Edit <strong>('.$information["informationTitle"].')</strong>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </h4>
                            </div>
                            <div class="modal-body">
                                
                                <form action="" class="form-edit-information-'.$information["informationID"].'" id="demo-inputmask" method="post" data-toggle="validator" enctype="multipart/form-data">
                                    <input type="hidden" name="editInformation" value="">
                                    <input type="hidden" name="informationID" value="'.$information["informationID"].'">
                                    <input type="hidden" name="editedBy" value="'.$_SESSION["username"].'">
                                    <input type="hidden" name="code-edit" value="'.$_SESSION["code"].'">
                                    
                                    <div class="row gutter-xs">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label for="title">Judul</label>
                                                <input class="form-control" type="text" name="informationTitle" spellcheck="false" data-msg-required="masukan judul" required value="'.$information["informationTitle"].'">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row gutter-xs">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label for="short-text">Text Deskripsi</label>
                                                <textarea name="informationDescription" class="form-control">'.nl2br($information["informationDescription"]).'</textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row gutter-xs">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label for="">Masukan Url</label>
                                                <input class="form-control" type="text" name="informationUrl" spellcheck="false" data-msg-required="masukan judul" required value="'.$information["informationUrl"].'">
                                            </div>
                                        </div>
                                    </div>


                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                        <button type="submit" id="edit-information-'.$information["informationID"].'-submit-button" name="addAdmin" class="btn" style="background-color:#DEB887">Update</button>
                                    </div>
                                </form>

                                
                            </div>
                        </div>
                    </div>
                </div>

                <script>
                    $(document).ready(function(){
                        $("#deleteinformation-'.$information["informationID"].'").on("click", function(e) {
                            e.preventDefault();
                            $("#deleteinformation-'.$information["informationID"].'").prop("disabled", true);
                            $("#deleteinformation-'.$information["informationID"].'").html(\'menunggu <span class="spinner spinner-danger"></span>\');
                            var informationID = '.$information["informationID"].';
                            var formData = new FormData();
                            formData.append("deleteinformation", informationID);
                            formData.append("deletedBy", "'.$_SESSION['username'].'");
                            formData.append("code-delete", "'.$_SESSION['code'].'");

                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_information.php",
                                data: formData,
                                success: function (data) {
                                    var result = $.parseJSON(data);
                                    if(result.info != "success"){
                                        $("#failedMessage").html(result.info);
                                        $("#failed").modal("show");
                                        $("#deleteinformation-'.$information["informationID"].'").prop("disabled", false);
                                        $("#deleteinformation-'.$information["informationID"].'").html(\'Hapus\');
                                    }else{
                                        $(".modal").modal("hide");
                                        $("#successMessage").html("'.$title1.' berhasil dihapus");
                                        $("#success").modal("show");
                                        $("#success").on("hidden.bs.modal", function(){
                                            location.reload();
                                      });
                                    }
                                },
                                error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });
                        $(".form-edit-information-'.$information["informationID"].'").on("submit", function (e) {
                            e.preventDefault();
                            $("#edit-information-'.$information["informationID"].'-submit-button").prop("disabled", true);
                            $("#edit-information-'.$information["informationID"].'-submit-button").html("menunggu <span class=\"spinner spinner-danger\"></span>");
                            var formData = new FormData(this);
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_information.php",
                                data: formData,
                                success: function (data) {
                                    var result = $.parseJSON(data);
                                    if(result.info != "success"){
                                        $("#failedMessage").html(result.info);
                                        $("#failed").modal("show");
                                        $("#edit-information-'.$information["informationID"].'-submit-button").prop("disabled", false);
                                        $("#edit-information-'.$information["informationID"].'-submit-button").html("Update");
                                    }else{
                                        $(".modal").modal("hide");
                                        $("#successMessage").html("Berhasil di update");
                                        $("#success").modal("show");
                                        $("#success").on("hidden.bs.modal", function(){
                                            location.reload();
                                        });
                                    }
                                },
                                error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });
                    });
                </script>

                ';
            }
       

        true_false_popup();
        echo '

    </body>



    ';
}

function Template_Course_Admin_L1($title1, $title2, $data){
    $courses = $data["courses"];
    echo '
    <body class="layout layout-header-fixed layout-sidebar-fixed">

        <div class="layout-header">';
             nav_bar($title1, $title2); echo '
        </div>
        <div class="layout-main">';
             sidebar(); echo '
            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-reload" title="Reload"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>

                                <button class="btn btn-link" type="button" data-toggle="modal" data-target="#pop-up-add-mcourse">
                                    <strong><h3 class="text-primary"><span class="icon icon-plus-circle"></span> Materi</h3></strong>
                                </button>

                                <div class="card bg-primary">
                                    <div class="card-body">
                                      <div class="media">
                                        <div class="media-middle media-left">
                                          <span class="bg-primary-inverse circle sq-48">
                                            <span class="icon icon-file-text"></span>
                                          </span>
                                        </div>
                                        <div class="media-middle media-body">
                                          <h6 class="media-heading">Total Materi</h6>
                                          <h3 class="media-heading">
                                            <span class="fw-l">'.$data["totalSUbjectInCourses"].'</span>
                                          </h3>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                            </div>
                            <div class="card-body">';
                                mcourseTable($courses); echo '
                            </div>

                            <div class="card-body">';
                                mcourseList($courses); echo '
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="pop-up-add-mcourse" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-primary">
                        <h4 class="modal-title">Tambah '.$title1.'
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </h4>
                    </div>
                    <div class="modal-body">
                        <div class="signup">
                            <div class="signup-body">
                                <div class="signup-form">
                                    <form action="" id="form-add-mcourse" method="post" data-toggle="validator" enctype="multipart/form-data">
                                        <div class="row gutter-xs">
                                            <input type="hidden" name="addMCourse">
                                            <input type="hidden" name="username" value="'.$_SESSION["username"].'">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label id="button-switch-image" class="file-upload-btn btn btn-outline-primary">
                                                        <span class="icon icon-image"></span> Upload thumbnail
                                                        <input type="file" class="file-upload-input edit-file" id="file" name="thumbnailImage" accept="image/*">
                                                    </label>
                                                    <div id="image-preview-div">
                                                        <strong><div id="image-message">No file chosen</div></strong>
                                                        <img id="preview-img" class="timeline-media img-rounded" width="220" height="140" style="object-fit: cover;"
                                                        src="/dashboard/drive/drive-course/course-important-files/subject-image-default.jpg">
                                                    </div>
                                                    <div id="message"></div>
                                                </div>
                                            </div>

                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="title">Judul</label>
                                                    <input class="form-control" type="text" name="mcourseName" spellcheck="false" data-msg-required="masukan judul materi" required value="">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                            <button type="submit" id="add-mcourse-submit-button" name="addAdmin" class="btn btn-primary">Tambah</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>';

            foreach ($courses as $mcourse) {
                echo '

                <div id="delete-'.$mcourse["mcourseID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                    <div class="modal-dialog">
                        <div class="modal-content bg-primary">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">×</span>
                                    <span class="sr-only">Close</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="text-center">
                                    <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                    <h3 class="text-light">Hapus Kategori? ('.$mcourse["mcourseName"].')</h3>
                                    <div class="m-t-lg">
                                        <button class="btn btn-danger" data-dismiss="modal" id="deleteMCourse-'.$mcourse["mcourseID"].'" type="button">Hapus</button>
                                        <script>
                                          $(document).ready(function(){
                                            $("#deleteMCourse-'.$mcourse["mcourseID"].'").on("click", function(e) {
                                                var mcourseID = '.$mcourse["mcourseID"].';
                                                var formData = new FormData();
                                                formData.append("deleteMCourse", mcourseID);
                                                formData.append("deleteBy", "'.$_SESSION["username"].'");

                                                $.ajax({
                                                      type: "POST",
                                                      processData: false,
                                                      contentType: false,
                                                      enctype: "multipart/form-data",
                                                      url: "/handler/handler_ajax_course.php",
                                                      data: formData,
                                                      success: function (data) {
                                                        var result = $.parseJSON(data);
                                                        if(result.info != "success"){
                                                          $(".modal").modal("hide");
                                                          $("#failedMessage").html(result.info);
                                                          $("#failed").modal("show");
                                                        }else{
                                                          $(".modal").modal("hide");
                                                          $("#successMessage").html("'.$title1.' berhasil dihapus");
                                                          $("#success").modal("show");
                                                          $("#success").on("hidden.bs.modal", function(){
                                                              location.reload();
                                                          });
                                                        }
                                                      },
                                                      error: function(){
                                                        alert("error in ajax form submission");
                                                      }
                                                  });
                                            });
                                          });
                                        </script>
                                        <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer"></div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="edit-'.$mcourse["mcourseID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-primary">
                                <h4 class="modal-title">Edit <strong>('.$mcourse["mcourseName"].')</strong>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </h4>
                            </div>
                            <div class="modal-body">
                                <div class="signup">
                                    <div class="signup-body">
                                        <div class="signup-form">
                                            <form action="" id="editMCourse-'.$mcourse["mcourseID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                <div class="row gutter-xs">
                                                    <input type="hidden" name="editMCourse" value="'.$mcourse["mcourseID"].'">
                                                    <input type="hidden" name="editBy" value="'.$_SESSION["username"].'">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label id="button-switch-image-'.$mcourse["mcourseID"].'" class="file-upload-btn btn btn-outline-primary">
                                                                <span class="icon icon-image"></span> Upload thumbnail
                                                                <input type="file" class="file-upload-input thumbnail-image-'.$mcourse["mcourseID"].'" name="thumbnailImage" accept="image/*">
                                                            </label>
                                                            <div id="image-preview-div">
                                                                <strong><div id="image-message-'.$mcourse["mcourseID"].'">No file chosen</div></strong>
                                                                <img id="preview-img-'.$mcourse["mcourseID"].'" class="timeline-media img-rounded" width="220" height="80" style="object-fit: cover;"
                                                                src="/dashboard/drive/images/'.$mcourse["thumbnailImage"].'">
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Judul</label>
                                                            <input class="form-control" type="text" name="mcourseName" spellcheck="false" data-msg-required="masukan judul materi" value="'.$mcourse["mcourseName"].'">
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <button type="submit" name="addAdmin" class="btn btn-primary">Save</button>
                                                </div>
                                            </form>
                                            <script>
                                                $(document).ready(function(){
                                                    $("#editMCourse-'.$mcourse["mcourseID"].'").on("submit", function(e) {
                                                        e.preventDefault();
                                                        var formData = new FormData(this);
                                                        $.ajax({
                                                            type: "POST",
                                                            processData: false,
                                                            contentType: false,
                                                            enctype: "multipart/form-data",
                                                            url: "/handler/handler_ajax_course.php",
                                                            data: formData,
                                                            success: function (data) {

                                                                var result = $.parseJSON(data);
                                                                if(result.info != "success"){
                                                                    $("#failedMessage").html(result.info);
                                                                    $("#failed").modal("show");
                                                                }else{
                                                                    $(".modal").modal("hide");
                                                                    $("#successMessage").html("'.$title1.' berhasil diupdate");
                                                                    $("#success").modal("show");
                                                                    $("#success").on("hidden.bs.modal", function(){
                                                                        location.reload();
                                                                    });
                                                                }
                                                            },
                                                            error: function(){
                                                                alert("error in ajax form submission");
                                                            }
                                                        });
                                                    });
                                                });
                                            </script>


                                            <script>
                                                    $(document).ready(function(){


                                                        $("#pdf-file-'.$mcourse["mcourseID"].'").change(function() {
                                                            var file = this.files[0];
                                                            if(typeof(file) !== "undefined"){
                                                                var extension = file.name.split(".").pop().toLowerCase();
                                                                if(extension == "pdf"){
                                                                    $("#button-switch-pdf-'.$mcourse["mcourseID"].'").removeClass("btn-outline-success").addClass("btn-success");
                                                                    var filename;
                                                                    if(file.name.length > 16){
                                                                        filename = file.name.slice(0, 16) + "...";
                                                                    }else{
                                                                        filename = file.name;
                                                                    }
                                                                    $("#file-message-'.$mcourse["mcourseID"].'").html(filename);
                                                                }else{
                                                                    $("#button-switch-pdf-'.$mcourse["mcourseID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                                                    $("#file-message").html("No file chosen");
                                                                    alert("pdf file!");
                                                                }
                                                            }else{
                                                                $("#button-switch-pdf-'.$mcourse["mcourseID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                                                $("#file-message-'.$mcourse["mcourseID"].'").html("No file chosen");
                                                            }
                                                        });
                                                        function readURL(input) {
                                                            if (input.files && input.files[0]) {
                                                                var reader = new FileReader();

                                                                reader.onload = function (e) {
                                                                    $("#preview-img-'.$mcourse["mcourseID"].'").attr("src", e.target.result);
                                                                }

                                                                reader.readAsDataURL(input.files[0]);
                                                            }
                                                        }

                                                        $(".thumbnail-image-'.$mcourse["mcourseID"].'").change(function() {
                                                            var file = this.files[0];
                                                            if(typeof(file) !== "undefined"){
                                                                var extension = file.name.split(".").pop().toLowerCase();
                                                                if(jQuery.inArray(extension, ["png", "jpg", "jpeg"]) === -1){
                                                                    $("#button-switch-image-'.$mcourse["mcourseID"].'").removeClass("btn-primary").addClass("btn-outline-primary");
                                                                    $("#image-message-'.$mcourse["mcourseID"].'").html("No file chosen");
                                                                    alert("pdf file!");
                                                                }else{
                                                                    $("#button-switch-image-'.$mcourse["mcourseID"].'").removeClass("btn-outline-primary").addClass("btn-primary");
                                                                    var filename;
                                                                    if(file.name.length > 16){
                                                                        filename = file.name.slice(0, 16) + "...";
                                                                    }else{
                                                                        filename = file.name;
                                                                    }
                                                                    readURL(this);
                                                                    $("#image-message-'.$mcourse["mcourseID"].'").html(filename);
                                                                }
                                                            }else{
                                                                $("#button-switch-image-'.$mcourse["mcourseID"].'").removeClass("btn-primary").addClass("btn-outline-primary");
                                                                $("#image-message-'.$mcourse["mcourseID"].'").html("No file chosen");
                                                            }
                                                        });

                                                    });
                                                </script>




                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                ';
            }

            true_false_popup();
        echo '
    </body>

    ';
}

function Template_Course_Admin_L2($title1, $title2, $data){
    $mcourseID = $data["mcourseID"];
    $courseList = $data["courseList"];
    $totalSUbjectInCourseList = $data["totalSUbjectInCourseList"];

    echo '
    <body class="layout layout-header-fixed layout-sidebar-fixed">

        <div class="layout-header">';
             nav_bar($title1, $title2); echo '
        </div>
        <div class="layout-main">';
             sidebar(); echo '
            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-reload" title="Reload"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>

                                <a href="/dashboard/materi" class="btn btn-link">
                                    <strong><h3 class="text-info"><span class="icon icon-arrow-circle-left"></span> Materi</h3></strong>
                                </a>

                                <button class="btn btn-link" type="button" data-toggle="modal" data-target="#pop-up-add-course">
                                    <strong><h3 class="text-primary"><span class="icon icon-plus-circle"></span> Kategori</h3></strong>
                                </button>
                                <div class="card my-color">
                                    <div class="card-body">
                                      <div class="media">
                                        <div class="media-middle media-left">
                                          <span class="bg-danger-inverse circle sq-48">
                                            <span class="icon icon-file-text"></span>
                                          </span>
                                        </div>
                                        <div class="media-middle media-body">
                                          <h6 class="media-heading">Total Materi</h6>
                                          <h3 class="media-heading">
                                            <span class="fw-l">'.$totalSUbjectInCourseList.'</span>
                                          </h3>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                            </div>
                            <div class="card-body">';
                                courseTable($courseList);
                            echo '
                            </div>

                        </div>
                    </div>
                    <div class="row gutter-xs">';
                                courseList($courseList); 
                                echo '

                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="pop-up-add-course" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-primary">
                        <h4 class="modal-title">Tambah Kategori
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </h4>
                    </div>
                    <div class="modal-body">
                        <div class="signup">
                            <div class="signup-body">
                                <div class="signup-form">
                                    <form action="" id="form-add-course" method="post" data-toggle="validator" enctype="multipart/form-data">
                                        <div class="row gutter-xs">
                                            <input type="hidden" name="addCourse">
                                            <input type="hidden" name="mcourseID" value="'.$mcourseID.'">
                                            <input type="hidden" name="username" value="'.$_SESSION["username"].'">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label id="button-switch-image" class="file-upload-btn btn btn-outline-primary">
                                                        <span class="icon icon-image"></span> Upload thumbnail
                                                        <input type="file" class="file-upload-input edit-file" id="file" name="thumbnailImage" accept="image/*">
                                                    </label>
                                                    <div id="image-preview-div">
                                                        <strong><div id="image-message">No file chosen</div></strong>
                                                        <img id="preview-img" class="timeline-media img-rounded" width="220" height="80" style="object-fit: cover;"
                                                        src="/dashboard/drive/images/default.jpg">
                                                    </div>
                                                    <div id="message"></div>
                                                </div>
                                            </div>

                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="title">Judul</label>
                                                    <input class="form-control" type="text" name="courseName" spellcheck="false" data-msg-required="masukan judul materi" required value="">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                            <button type="submit" name="addAdmin" id="add-course-submit-button" class="btn btn-primary">Tambah</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>';

            foreach ($courseList as $course) {
                echo '

                <div id="delete-'.$course["courseID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                    <div class="modal-dialog">
                        <div class="modal-content bg-primary">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">×</span>
                                    <span class="sr-only">Close</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="text-center">
                                    <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                    <h3 class="text-light">Hapus Kategori? ('.$course["courseName"].')</h3>
                                    <div class="m-t-lg">
                                        <button class="btn btn-danger" data-dismiss="modal" id="deleteCourse-'.$course["courseID"].'" type="button">Hapus</button>
                                        <script>
                                          $(document).ready(function(){
                                            $("#deleteCourse-'.$course["courseID"].'").on("click", function(e) {
                                                var courseID = '.$course["courseID"].';
                                                var formData = new FormData();
                                                formData.append("deleteCourse", courseID);
                                                formData.append("deleteBy", "'.$_SESSION["username"].'");

                                                $.ajax({
                                                      type: "POST",
                                                      processData: false,
                                                      contentType: false,
                                                      enctype: "multipart/form-data",
                                                      url: "/handler/handler_ajax_course.php",
                                                      data: formData,
                                                      success: function (data) {
                                                        var result = $.parseJSON(data);
                                                        if(result.info != "success"){
                                                          $(".modal").modal("hide");
                                                          $("#failedMessage").html(result.info);
                                                          $("#failed").modal("show");
                                                        }else{
                                                          $(".modal").modal("hide");
                                                          $("#successMessage").html("'.$title1.' berhasil dihapus");
                                                          $("#success").modal("show");
                                                          $("#success").on("hidden.bs.modal", function(){
                                                              location.reload();
                                                          });
                                                        }
                                                      },
                                                      error: function(){
                                                        alert("error in ajax form submission");
                                                      }
                                                  });
                                            });
                                          });
                                        </script>
                                        <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer"></div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="edit-'.$course["courseID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-primary">
                                <h4 class="modal-title">Edit <strong>('.$course["courseName"].')</strong>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </h4>
                            </div>
                            <div class="modal-body">
                                <div class="signup">
                                    <div class="signup-body">
                                        <div class="signup-form">
                                            <form action="" id="editCourse-'.$course["courseID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                <div class="row gutter-xs">

                                                    <input type="hidden" name="mcourseID" value="'.$course["mcourseID"].'">
                                                    <input type="hidden" name="editCourse" value="'.$course["courseID"].'">
                                                    <input type="hidden" name="editBy" value="'.$_SESSION["username"].'">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label id="button-switch-image-'.$course["courseID"].'" class="file-upload-btn btn btn-outline-primary">
                                                                <span class="icon icon-image"></span> Upload thumbnail
                                                                <input type="file" class="file-upload-input thumbnail-image-'.$course["courseID"].'" name="thumbnailImage" accept="image/*">
                                                            </label>
                                                            <div id="image-preview-div">
                                                                <strong><div id="image-message-'.$course["courseID"].'">No file chosen</div></strong>
                                                                <img id="preview-img-'.$course["courseID"].'" class="timeline-media img-rounded" width="220" height="80" style="object-fit: cover;"
                                                                src="/dashboard/drive/images/'.$course["thumbnailImage"].'">
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Judul</label>
                                                            <input class="form-control" type="text" name="courseName" spellcheck="false" data-msg-required="masukan judul materi" value="'.$course["courseName"].'">
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <button type="submit" name="addAdmin" class="btn btn-primary">Save</button>
                                                </div>
                                            </form>
                                            <script>
                                                $(document).ready(function(){
                                                    $("#editCourse-'.$course["courseID"].'").on("submit", function(e) {
                                                        e.preventDefault();
                                                        var formData = new FormData(this);
                                                        $.ajax({
                                                            type: "POST",
                                                            processData: false,
                                                            contentType: false,
                                                            enctype: "multipart/form-data",
                                                            url: "/handler/handler_ajax_course.php",
                                                            data: formData,
                                                            success: function (data) {
                                                                alert(data);
                                                                var result = $.parseJSON(data);
                                                                if(result.info != "success"){
                                                                    $("#failedMessage").html(result.info);
                                                                    $("#failed").modal("show");
                                                                }else{
                                                                    $(".modal").modal("hide");
                                                                    $("#successMessage").html("<h4>'.$title1.' berhasil diupdate</h4>");
                                                                    $("#success").modal("show");
                                                                    $("#success").on("hidden.bs.modal", function(){
                                                                        location.reload();
                                                                    });
                                                                }
                                                            },
                                                            error: function(){
                                                                alert("error in ajax form submission");
                                                            }
                                                        });
                                                    });
                                                });
                                            </script>


                                            <script>
                                                $(document).ready(function(){


                                                    $("#pdf-file-'.$course["courseID"].'").change(function() {
                                                        var file = this.files[0];
                                                        if(typeof(file) !== "undefined"){
                                                            var extension = file.name.split(".").pop().toLowerCase();
                                                            if(extension == "pdf"){
                                                                $("#button-switch-pdf-'.$course["courseID"].'").removeClass("btn-outline-success").addClass("btn-success");
                                                                var filename;
                                                                if(file.name.length > 16){
                                                                    filename = file.name.slice(0, 16) + "...";
                                                                }else{
                                                                    filename = file.name;
                                                                }
                                                                $("#file-message-'.$course["courseID"].'").html(filename);
                                                            }else{
                                                                $("#button-switch-pdf-'.$course["courseID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                                                $("#file-message").html("No file chosen");
                                                                alert("pdf file!");
                                                            }
                                                        }else{
                                                            $("#button-switch-pdf-'.$course["courseID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                                            $("#file-message-'.$course["courseID"].'").html("No file chosen");
                                                        }
                                                    });
                                                    function readURL(input) {
                                                        if (input.files && input.files[0]) {
                                                            var reader = new FileReader();

                                                            reader.onload = function (e) {

                                                                $("#preview-img-'.$course["courseID"].'").attr("src", e.target.result);
                                                            }

                                                            reader.readAsDataURL(input.files[0]);
                                                        }
                                                    }

                                                    $(".thumbnail-image-'.$course["courseID"].'").change(function() {
                                                        var file = this.files[0];
                                                        if(typeof(file) !== "undefined"){
                                                            var extension = file.name.split(".").pop().toLowerCase();
                                                            if(jQuery.inArray(extension, ["png", "jpg", "jpeg"]) === -1){
                                                                $("#button-switch-image-'.$course["courseID"].'").removeClass("btn-primary").addClass("btn-outline-primary");
                                                                $("#image-message-'.$course["courseID"].'").html("No file chosen");
                                                                alert("pdf file!");
                                                            }else{
                                                                $("#button-switch-image-'.$course["courseID"].'").removeClass("btn-outline-primary").addClass("btn-primary");
                                                                var filename;
                                                                if(file.name.length > 16){
                                                                    filename = file.name.slice(0, 16) + "...";
                                                                }else{
                                                                    filename = file.name;
                                                                }
                                                                readURL(this);
                                                                $("#image-message-'.$course["courseID"].'").html(filename);
                                                            }
                                                        }else{
                                                            $("#button-switch-image-'.$course["courseID"].'").removeClass("btn-primary").addClass("btn-outline-primary");
                                                            $("#image-message-'.$course["courseID"].'").html("No file chosen");
                                                        }
                                                    });

                                                });
                                            </script>




                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                ';
            }

            true_false_popup();
        echo '
    </body>

    ';
}

function Template_Course_Admin_L3($title1, $title2, $data){
    $course = $data["course"];
    $mcourseID = $data["mcourseID"];
    $listSubject = $data["listSubject"];
    // $listFocusCategory = $data["listFocusCategory"];
    $listCategory = $data["listCategory"];
    $listAllShelter = $data["listAllShelter"];
    echo '

    <body class="layout layout-header-fixed layout-sidebar-fixed">

        <div class="layout-header">';nav_bar($title1, $title2);echo'</div>
        <div class="layout-main">';sidebar(); echo '
            <div class="layout-content">
                <div class="layout-content-body">

                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-reload" title="Reload"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>

                                <a href="/dashboard/materi" class="btn btn-link">
                                    <strong><h3 class="text-info"><span class="icon icon-arrow-circle-left"></span> Materi</h3></strong>
                                </a>

                                <a href="/dashboard/materi/course_sub.php?mcourse=&id='.$mcourseID.'" class="btn btn-link">
                                    <strong><h3 class="text-info"><span class="icon icon-arrow-circle-left"></span> Kategori</h3></strong>
                                </a>
                                <button class="btn btn-link" type="button" data-toggle="modal" data-target="#pop-up-add-subject">
                                    <strong><h3 class="text-primary"><span class="icon icon-plus-circle"></span> Bab</h3></strong>
                                </button>
                            </div>
                            <div class="card-body">';
                                subjectTable($listSubject); echo '
                            </div>
                        </div>
                    </div>
                    
                    <div class="row gutter-xs">';
                        subjectCard($listSubject); 
                        echo '
                    </div>
                </div>
            </div>
        </div>


        <div class="modal fade" id="pop-up-add-subject" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-primary">
                        <h4 class="modal-title">Tambah '.$title1.'
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </h4>
                    </div>
                    <div class="modal-body">
                        <div class="signup">
                            <div class="signup-body">
                                <div class="signup-form">
                                    <form action="" id="form-add-subject" method="post" data-toggle="validator" enctype="multipart/form-data">
                                        <input type="hidden" name="courseID" value="'.$course["courseID"].'">
                                        <input type="hidden" name="username" value="'.$_SESSION["username"].'">
                                        <input type="hidden" name="addSubject" value="">
                                        <div class="row gutter-xs">

                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <label id="button-switch-image" class="file-upload-btn btn btn-outline-primary">
                                                        <span class="icon icon-image"></span> Upload thumbnail
                                                        <input type="file" class="file-upload-input edit-file" id="file" name="thumbnailImage" accept="image/*">
                                                    </label>
                                                    <div id="image-preview-div">
                                                        <strong><div id="image-message">No file chosen</div></strong>
                                                        <img id="preview-img" class="timeline-media img-rounded" width="220" height="140" style="object-fit: cover;"
                                                        src="/dashboard/drive/drive-course/course-important-files/subject-image-default.jpg">
                                                    </div>
                                                    <div id="message"></div>
                                                </div>
                                            </div>

                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <label id="button-switch-pdf" class="file-upload-btn btn btn-outline-success">
                                                        <span class="icon icon-works">&#97;</span> Upload materi
                                                        <input type="file" class="file-upload-input" id="pdf-file" name="subjectFile" accept="application/pdf">
                                                    </label>
                                                    <strong><div id="file-message">No file chosen</div></strong>
                                                </div>
                                                <div class="form-group">
                                                    <label id="button-switch-vid" class="file-upload-btn btn btn-outline-success">
                                                        <span class="icon icon-works">&#97;</span> Upload video
                                                        <input type="file" class="file-upload-input" id="vid-file" name="subjectVideo" accept="video/mp4, video/x-m4v, video/*">
                                                    </label>
                                                    <strong><div id="video-message">No file chosen</div></strong>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="title">Masukan Judul Materi</label>
                                                    <input class="form-control" type="text" name="title" spellcheck="false" data-msg-required="masukan judul materi" required value="">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="title">Pilih point</label>
                                                    <select name="point" id="demo-select2-3" class="form-control select2-hidden-accessible" tabindex="-1" aria-hidden="true">
                                                        <option value="900">15 menit</option>
                                                        <option value="1800">30 menit</option>
                                                        <option value="2700">45 menit</option>                                          
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="title">Pilih Bidang</label>
                                                    <select id="form-control-6" class="form-control" name="category">';
                                                    foreach ($listCategory as $c) {
                                                        echo '
                                                            <option value="'.$c["categoryID"].'">'.$c["categoryName"].'</option>
                                                        ';
                                                    }
                                                    echo '
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="title">Pilih Fokus Jabatan</label>
                                                    <select id="form-control-6" class="form-control" name="shelterID">';

                                                    foreach ($listAllShelter as $sh) {

                                                        
                                                            echo '<option value="'.$sh["shelterID"].'">'.$sh["shelterName"].'</option>';
                                                    }
                                                    echo '

                                                    </select>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="short-text">Text thumbnail</label>
                                                    <textarea name="thumbnailText" class="form-control" placeholder="short text"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="progress">
                                                <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                            <button type="submit" id="add-subject-submit-button" class="btn btn-primary">Tambah</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>


        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>';

            // displaying popup subjectCard setting
            foreach ($listSubject as $subject) {


                echo '

                <div id="delete-'.$subject["subjectID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                    <div class="modal-dialog">
                        <div class="modal-content bg-primary">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">×</span>
                                    <span class="sr-only">Close</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="text-center">
                                    <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                    <h3 class="text-light">Hapus materi? ('.$subject["subjectName"].')</h3>
                                    <div class="m-t-lg">
                                        <button class="btn btn-danger" data-dismiss="modal" id="deleteSubject-'.$subject["subjectID"].'" type="button">Hapus</button>
                                        <script>
                                          $(document).ready(function(){
                                            $("#deleteSubject-'.$subject["subjectID"].'").on("click", function(e) {
                                                var subjectID = '.$subject["subjectID"].';
                                                var formData = new FormData();
                                                formData.append("deleteSubject", subjectID);
                                                formData.append("deletedBy", "'.$_SESSION['username'].'");
                                                formData.append("code-delete", "'.$_SESSION['code'].'");

                                                $.ajax({
                                                      type: "POST",
                                                      processData: false,
                                                      contentType: false,
                                                      enctype: "multipart/form-data",
                                                      url: "/handler/handler_ajax_course.php",
                                                      data: formData,
                                                      success: function (data) {
                                                        var result = $.parseJSON(data);
                                                        if(result.info != "success"){
                                                          $(".modal").modal("hide");
                                                          $("#failedMessage").html(result.info);
                                                          $("#failed").modal("show");
                                                        }else{
                                                          $(".modal").modal("hide");
                                                          $("#successMessage").html("'.$title1.' berhasil dihapus");
                                                          $("#success").modal("show");
                                                          $("#success").on("hidden.bs.modal", function(){
                                                              location.reload();
                                                          });
                                                        }
                                                      },
                                                      error: function(){
                                                        alert("error in ajax form submission");
                                                      }
                                                  });
                                            });
                                          });
                                        </script>
                                        <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer"></div>
                        </div>
                    </div>
                </div>';

                $x = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
                if(!file_exists($_SERVER['DOCUMENT_ROOT'].$x)){
                    $subject["thumbnailImage"] = "/dashboard/drive/images/".$subject["thumbnailImage"];
                }else{
                    $subject["thumbnailImage"] = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
                }
                echo '
                <div class="modal fade" id="edit-'.$subject["subjectID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-primary">
                                <h4 class="modal-title">Edit <strong>('.$subject["subjectName"].')</strong>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </h4>
                            </div>
                            <div class="modal-body">
                                <div class="signup">
                                    <div class="signup-body">
                                        <div class="signup-form">
                                            <form action="" id="form-edit-subject-'.$subject["subjectID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                <input type="hidden" name="editSubject" value="">
                                                <input type="hidden" name="courseID" value="'.$course["courseID"].'">
                                                <input type="hidden" name="editedBy" value="'.$_SESSION["username"].'">
                                                <input type="hidden" name="code-edit" value="'.$_SESSION["code"].'">
                                                <input type="hidden" name="subjectID" value="'.$subject["subjectID"].'">
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label id="button-switch-image-'.$subject["subjectID"].'" class="file-upload-btn btn btn-outline-primary">
                                                                <span class="icon icon-image"></span> Upload thumbnail
                                                                <input type="file" class="file-upload-input thumbnail-image-'.$subject["subjectID"].'" id="file" name="thumbnailImage" accept="image/*">
                                                            </label>
                                                            <div id="image-preview-div">
                                                                <strong><div id="image-message-'.$subject["subjectID"].'">No file chosen</div></strong>
                                                                <img id="preview-img-'.$subject["subjectID"].'" class="timeline-media img-rounded" width="220" height="80" style="object-fit: cover;"
                                                                src="'.$subject["thumbnailImage"].'">
                                                            </div>
                                                            <div id="message"></div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label id="button-switch-pdf-'.$subject["subjectID"].'" class="file-upload-btn btn btn-outline-success">
                                                                <span class="icon icon-works">&#97;</span> Upload materi
                                                                <input type="file" class="file-upload-input" id="pdf-file-'.$subject["subjectID"].'" name="subjectFile" accept="application/pdf">
                                                            </label>
                                                            <strong><div id="file-message-'.$subject["subjectID"].'">No file chosen</div></strong>
                                                        </div>
                                                        <div class="form-group">
                                                            <label id="button-switch-vid-'.$subject["subjectID"].'" class="file-upload-btn btn btn-outline-success">
                                                                <span class="icon icon-works">&#97;</span> Upload video
                                                                <input type="file" class="file-upload-input" id="vid-file-'.$subject["subjectID"].'" name="subjectVideo" accept="video/mp4, video/x-m4v, video/*">
                                                            </label>
                                                            <strong><div id="video-message-'.$subject["subjectID"].'">No file chosen</div></strong>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Judul</label>
                                                            <input class="form-control" type="text" name="subjectName" spellcheck="false" data-msg-required="masukan judul materi" required value="'.$subject["subjectName"].'">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Pilih point</label>
                                                            <select id="form-control-6" class="form-control" name="point">';

                                                                pointSelectOption($subject["point"]);
                                                                echo '
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Pilih Bidang</label>
                                                            <select id="form-control-6" class="form-control" name="categoryID">';

                                                            foreach ($listCategory as $c) {

                                                                if ($c["categoryID"] == $subject["categoryID"]){
                                                                    echo '<option value="'.$c["categoryID"].'" selected>'.$c["categoryName"].'</option>';
                                                                }else{
                                                                    echo '<option value="'.$c["categoryID"].'">'.$c["categoryName"].'</option>';
                                                                }
                                                            }
                                                            echo '

                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Pilih Jabatan / Kompetensi</label>
                                                            <select id="form-control-6" class="form-control" name="shelterID">';

                                                            foreach ($listAllShelter as $shelter) {

                                                                if ($shelter["shelterID"] == $subject["shelterID"]){
                                                                    echo '<option value="'.$shelter["shelterID"].'" selected>'.$shelter["shelterName"].'</option>';
                                                                }else{
                                                                    echo '<option value="'.$shelter["shelterID"].'">'.$shelter["shelterName"].'</option>';
                                                                }
                                                            }
                                                            echo '

                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="short-text">Text thumbnail</label>
                                                            <textarea name="thumbnailText" class="form-control">'.nl2br($subject["thumbnailText"]).'</textarea>
                                                        </div>
                                                    </div>
                                                </div>


                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <button type="submit" id="edit-subject-'.$subject["subjectID"].'-submit-button" name="addAdmin" class="btn btn-primary">Update</button>
                                                </div>
                                            </form>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="add-quest-'.$subject["subjectID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-primary">
                                <h4 class="modal-title">Tambah pertanyaan untuk <strong>('.$subject["subjectName"].')</strong>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </h4>
                            </div>
                            <div class="modal-body">
                                <div class="signup">
                                    <div class="signup-body">
                                        <div class="signup-form">
                                            <form action="" id="add-quest-form-'.$subject["subjectID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                <div class="row gutter-xs">
                                                    <h5 class="text-warning"><span class="icon icon-warning"></span> Masukan pertanyaan</h5>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">

                                                            <input type="hidden" name="addQQuest" value="">
                                                            <input type="hidden" name="subjectID" value="'.$subject["subjectID"].'">
                                                            <input type="hidden" name="" value="'.$_SESSION["username"].'">

                                                            <textarea class="form-control" type="text" name="question" data-msg-required="masukan pertanyaan" required placeholder=""></textarea>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <h5 class="text-warning"><span class="icon icon-warning"></span> Pilih option yang akan digunakan sebagai kunci jawaban</h5>
                                                </div>

                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="a">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                a
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionA" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="b">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                b
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionB" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="c">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                c
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionC" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="d">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                d
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionD" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <button type="submit" id="add-quest-button-submit-'.$subject["subjectID"].'" class="btn btn-primary">Update</button>
                                                </div>
                                            </form>
                                                <script>
                                                    $(document).ready(function(){
                                                        $("#add-quest-form-'.$subject["subjectID"].'").on("submit", function (e) {
                                                            e.preventDefault();
                                                            $("#add-quest-button-submit-'.$subject["subjectID"].'").prop("disabled", true);
                                                            var formData = new FormData(this);
                                                            $.ajax({
                                                                type: "POST",
                                                                processData: false,
                                                                contentType: false,
                                                                enctype: "multipart/form-data",
                                                                url: "/handler/handler_ajax_course.php",
                                                                data: formData,
                                                                success: function (data) {
                                                                  var result = $.parseJSON(data);
                                                                  if(result.info != "success"){
                                                                    $("#failedMessage").html(result.info);
                                                                    $("#failed").modal("show");
                                                                    $("#add-quest-button-submit-'.$subject["subjectID"].'").prop("disabled", false);
                                                                  }else{
                                                                    $(".modal").modal("hide");
                                                                    $("#successMessage").html("Berhasil di update");
                                                                    $("#success").modal("show");
                                                                    $("#success").on("hidden.bs.modal", function(){
                                                                        location.reload();
                                                                    });
                                                                  }
                                                                },
                                                                error: function(){
                                                                  alert("error in ajax form submission");
                                                                }
                                                            });
                                                        });
                                                    });
                                                </script>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <script>
                    $(document).ready(function(){
                        $("#form-edit-subject-'.$subject["subjectID"].'").on("submit", function (e) {
                            e.preventDefault();
                            $("#edit-subject-'.$subject["subjectID"].'-submit-button").prop("disabled", true);
                            $("#edit-subject-'.$subject["subjectID"].'-submit-button").html("menunggu <span class=\"spinner spinner-danger\"></span>");
                            var formData = new FormData(this);
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_course.php",
                                data: formData,
                                success: function (data) {
                                    var result = $.parseJSON(data);
                                    if(result.info != "success"){
                                        $("#failedMessage").html(result.info);
                                        $("#failed").modal("show");
                                        $("#edit-subject-'.$subject["subjectID"].'-submit-button").prop("disabled", false);
                                        $("#edit-subject-'.$subject["subjectID"].'-submit-button").html("Update");
                                    }else{
                                        $(".modal").modal("hide");
                                        $("#successMessage").html("Berhasil di update");
                                        $("#success").modal("show");
                                        $("#success").on("hidden.bs.modal", function(){
                                            location.reload();
                                        });
                                    }
                                },
                                error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });

                        $("#pdf-file-'.$subject["subjectID"].'").change(function() {
                            var file = this.files[0];
                            if(typeof(file) !== "undefined"){
                                var extension = file.name.split(".").pop().toLowerCase();
                                if(extension == "pdf"){
                                    $("#button-switch-pdf-'.$subject["subjectID"].'").removeClass("btn-outline-success").addClass("btn-success");
                                    var filename;
                                    if(file.name.length > 16){
                                        filename = file.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file.name;
                                    }
                                    $("#file-message-'.$subject["subjectID"].'").html(filename);
                                }else{
                                    $("#button-switch-pdf-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                    $("#file-message-'.$subject["subjectID"].'").html("No file chosen");
                                    alert("pdf file!");
                                }
                            }else{
                                $("#button-switch-pdf-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                $("#file-message-'.$subject["subjectID"].'").html("No file chosen");
                            }
                        });
                        $("#vid-file-'.$subject["subjectID"].'").change(function() {
                            var file2 = this.files[0];

                            if(typeof(file2) !== "undefined"){
                                var extension = file2.name.split(".").pop().toLowerCase();
                                if(extension == "mp4" || extension == "3gp" || extension == "mov" || extension == "m4v"){
                                    $("#button-switch-vid-'.$subject["subjectID"].'").removeClass("btn-outline-success").addClass("btn-success");
                                    var filename;
                                    if(file2.name.length > 16){
                                        filename = file2.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file2.name;
                                    }
                                    $("#video-message-'.$subject["subjectID"].'").html(filename);
                                }else{
                                    $("#button-switch-vid-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                    $("#video-message-'.$subject["subjectID"].'").html("No file chosen");
                                }
                            }else{
                                $("#button-switch-vid-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                $("#video-message-'.$subject["subjectID"].'").html("No file chosen");
                            }
                        });
                        function readURL(input) {
                            if (input.files && input.files[0]) {
                                var reader = new FileReader();

                                reader.onload = function (e) {
                                    $("#preview-img-'.$subject["subjectID"].'").attr("src", e.target.result);
                                }

                                reader.readAsDataURL(input.files[0]);
                            }
                        }
                        $(".thumbnail-image-'.$subject["subjectID"].'").change(function() {
                            var file = this.files[0];
                            if(typeof(file) !== "undefined"){
                                var extension = file.name.split(".").pop().toLowerCase();
                                if(jQuery.inArray(extension, ["png", "jpg", "jpeg"]) === -1){
                                    $("#button-switch-image-'.$subject["subjectID"].'").removeClass("btn-primary").addClass("btn-outline-primary");
                                    $("#image-message-'.$subject["subjectID"].'").html("No file chosen");
                                }else{
                                    $("#button-switch-image-'.$subject["subjectID"].'").removeClass("btn-outline-primary").addClass("btn-primary");
                                    var filename;
                                    if(file.name.length > 16){
                                        filename = file.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file.name;
                                    }
                                    readURL(this);
                                    $("#image-message-'.$subject["subjectID"].'").html(filename);
                                }
                            }else{
                                $("#button-switch-image-'.$subject["subjectID"].'").removeClass("btn-primary").addClass("btn-outline-primary");
                                $("#image-message-'.$subject["subjectID"].'").html("No file chosen");
                            }
                        });




                        $(".download-'.$subject["subjectID"].'").on("click", function(){
                            var link = this;
                            link.disabled = true;
                            $("#download-label-'.$subject["subjectID"].'").html("Downloading");
                            var formData = new FormData();
                            formData.append("download", "'.$subject["subjectID"].'");
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_course.php",
                                data: formData,
                                success: function (data) {
                                    link.disabled = false;
                                    $("#download-label-'.$subject["subjectID"].'").html("Download");
                                    $("#total-downloader-'.$subject["subjectID"].'").load("/handler/handler_jquery_course.php", {totalDownloader:'.$subject["subjectID"].'});
                            },
                            error: function(){
                                alert("error in ajax form submission");
                            }
                          });
                       });
                    });

                </script>


                ';
            }



        true_false_popup();
        echo '
    </body>

    ';
}

function Template_Shelter_Admin_L1($title1, $title2, $data){
    $listMShelter = $data["listMShelter"];
    echo '
    <body class="layout layout-header-fixed layout-sidebar-fixed">

        <div class="layout-header">';
             nav_bar($title1, $title2); echo '
        </div>
        <div class="layout-main">';
             sidebar(); echo '
            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-reload" title="Reload"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>

                                <button class="btn btn-link" type="button" data-toggle="modal" data-target="#pop-up-add-mshelter">
                                    <strong><h3 class="text-info"><span class="icon icon-plus-circle"></span> Fokus Jabatan</h3></strong>
                                </button>

                                <div class="card bg-primary">
                                    <div class="card-body">
                                        <div class="media">
                                            <div class="media-middle media-left">
                                                <span class="bg-primary-inverse circle sq-48">
                                                    <span class="icon icon-file-text"></span>
                                                </span>
                                            </div>
                                            <div class="media-middle media-body">
                                                <h6 class="media-heading">Total Fokus Jabatan</h6>
                                                <h3 class="media-heading">
                                                    <span class="fw-l">'.sizeof($listMShelter).'</span>
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">

                                <div class="card">
                                    <div class="card-body">
                                        <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%">
                                            <thead>
                                            <tr>
                                                <th>Fokus Jabatan</th>
                                                <th>Ditampilkan</th>
                                                <th>Tanggal Dibuat</th>
                                                <th>Dibuat</th>
                                                <th>Edit</th>
                                                <th>Hapus</th>
                                            </tr>
                                            </thead>
                                            <tbody>';

                                            $i = 0;
                                            foreach ($listMShelter as $mshelter) {
                                                $i++;
                                                echo '
                                                <tr>
                                                    <td><a href="/dashboard/materi/shelter/?mshelterID='.$mshelter["mshelterID"].'">'.$mshelter["mshelterName"].'</a></td>';

                                                    if($mshelter["showMShelter"] == 1){
                                                        echo '<td><span class="icon icon-check-square-o"></span></td>';
                                                    }else{
                                                        echo '<td><span class="icon icon-uncheck"></span></td>';
                                                    }
                                                    echo '
                                                    <td>'.$mshelter["dateCreated"].'</td>
                                                    <td>'.$mshelter["createdBy"].'</td>
                                                    <td>
                                                      <span class="text-success icon icon-cog fa-lg" data-toggle="modal" data-target="#pop-up-edit-mshelter-'.$mshelter["mshelterID"].'"></span>
                                                    </td>
                                                    <td><span class="text-danger icon icon-trash icon-lg" data-toggle="modal" data-target="#pop-up-delete-mshelter-'.$mshelter["mshelterID"].'"></span>
                                                    </td>
                                                </tr>
                                                ';
                                            }
                                            echo '

                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="modal fade" id="pop-up-add-mshelter" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-primary">
                        <h4 class="modal-title">Tambah Fokus Jabatan
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </h4>
                    </div>
                    <div class="modal-body">
                        <div class="signup">
                            <div class="signup-body">
                                <div class="signup-form">
                                    <form action="" id="form-add-mshelter" method="post" data-toggle="validator" enctype="multipart/form-data">
                                        <input type="hidden" name="addMShelter" value="">
                                        <input type="hidden" name="addedBy" value="'.$_SESSION["username"].'">
                                        <input type="hidden" name="code-add" value="'.$_SESSION["code"].'">
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="title">Masukan nama fokus jabatan</label>
                                                    <input class="form-control" type="text" name="mshelterName" spellcheck="false" data-msg-required="masukan nama bidang!" required value="">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                            <button type="submit" id="add-mshelter-submit-button" class="btn btn-primary">Tambah</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>';

        foreach ($listMShelter as $mshelter) {
            echo '

            <div id="pop-up-delete-mshelter-'.$mshelter["mshelterID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                <div class="modal-dialog">
                    <div class="modal-content bg-primary">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">
                                <span aria-hidden="true">×</span>
                                <span class="sr-only">Close</span>
                            </button>
                        </div>
                        <div class="modal-body">

                            <form action="" id="form-delete-mshelter-'.$mshelter["mshelterID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                    <input type="hidden" name="deleteMShelter" value="">
                                    <input type="hidden" name="mshelterID" value="'.$mshelter["mshelterID"].'">
                                    <input type="hidden" name="deletedBy" value="'.$_SESSION["username"].'">
                                    <input type="hidden" name="code-delete" value="'.$_SESSION["code"].'">

                                    <div class="text-center">
                                        <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                        <h3 class="text-light">Hapus Fokus Jabatan? ('.$mshelter["mshelterName"].')</h3>
                                        <div class="m-t-lg">
                                            <button class="btn btn-danger" id="delete-mshelter-'.$mshelter["mshelterID"].'-submit-button" type="submit">Delete</button>

                                            <button class="btn btn-default" data-dismiss="modal" type="button">Cancel</button>
                                        </div>
                                    </div>

                            </form>


                        </div>
                    </div>
                </div>
            </div>

            <div id="pop-up-edit-mshelter-'.$mshelter["mshelterID"].'" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header bg-primary">
                            <h4 class="modal-title">Edit <strong>('.$mshelter["mshelterName"].')</strong>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">
                            <div class="signup">
                                <div class="signup-body">
                                    <div class="signup-form">
                                        <form action="" id="form-edit-mshelter-'.$mshelter["mshelterID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                            <input type="hidden" name="editMShelter" value="">
                                            <input type="hidden" name="mshelterID" value="'.$mshelter["mshelterID"].'">
                                            <input type="hidden" name="editedBy" value="'.$_SESSION["username"].'">
                                            <input type="hidden" name="code-edit" value="'.$_SESSION["code"].'">

                                            <div class="checkbox">
                                                <label>';
                                                if($mshelter["showMShelter"] != 1){
                                                    echo '
                                                    <input type="checkbox" name="showMShelter" value="1"> Ditampilkan di halaman pegawai
                                                    ';
                                                }else{
                                                    echo '
                                                    <input type="checkbox" name="showMShelter" value="1" checked="checked"> Ditampilkan di halaman pegawai
                                                    ';
                                                }


                                                    echo '
                                                </label>
                                            </div>

                                            <div class="row gutter-xs">
                                                <div class="form-group">
                                                    <label for="mshelterName">Masukan nama focus jabatan</label>
                                                    <input class="form-control" type="text" name="mshelterName" spellcheck="false" data-msg-required="masukan nama fokus jabatan" required value="'.$mshelter["mshelterName"].'">
                                                </div>

                                            </div>


                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                <button type="submit" id="edit-mshelter-'.$mshelter["mshelterID"].'-submit-button" class="btn btn-primary">Update</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>';

        }

        true_false_popup();

        echo '


        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>
        <script>
            $(document).ready(function(){';

            foreach ($listMShelter as $mshelter) {

                echo '

                $("#form-delete-mshelter-'.$mshelter["mshelterID"].'").on("submit", function (e) {
                    e.preventDefault();
                    $("#delete-mshelter-'.$mshelter["mshelterID"].'-submit-button").prop("disabled", true);
                    $("#delete-mshelter-'.$mshelter["mshelterID"].'-submit-button").html(\'menunggu <span class="spinner spinner-danger"></span>\');
                    var formData = new FormData(this);
                    $.ajax({
                        type: "POST",
                        processData: false,
                        contentType: false,
                        enctype: "multipart/form-data",
                        url: "/handler/handler_ajax_course.php",
                        data: formData,
                        success: function (data) {
                          var result = $.parseJSON(data);
                          if(result.info != "success"){
                            $("#failedMessage").html(result.info);
                            $("#failed").modal("show");
                            $("#delete-mshelter-'.$mshelter["mshelterID"].'-submit-button").prop("disabled", false);
                            $("#delete-mshelter-'.$mshelter["mshelterID"].'-submit-button").html("Delete");
                          }else{
                            $(".modal").modal("hide");
                            $("#successMessage").html("Berhasil di delete");
                            $("#success").modal("show");
                            $("#success").on("hidden.bs.modal", function(){
                                location.reload();
                            });
                          }
                        },
                        error: function(){
                          alert("error in ajax form submission");
                        }
                    });
                });


                $("#form-edit-mshelter-'.$mshelter["mshelterID"].'").on("submit", function (e) {
                    e.preventDefault();
                    $("#edit-mshelter-'.$mshelter["mshelterID"].'-submit-button").prop("disabled", true);
                    $("#edit-mshelter-'.$mshelter["mshelterID"].'-submit-button").html(\'menunggu <span class="spinner spinner-danger"></span>\');
                    var formData = new FormData(this);
                    $.ajax({
                        type: "POST",
                        processData: false,
                        contentType: false,
                        enctype: "multipart/form-data",
                        url: "/handler/handler_ajax_course.php",
                        data: formData,
                        success: function (data) {
                          var result = $.parseJSON(data);
                          if(result.info != "success"){
                            $("#failedMessage").html(result.info);
                            $("#failed").modal("show");
                            $("#edit-mshelter-'.$mshelter["mshelterID"].'-submit-button").prop("disabled", false);
                            $("#edit-mshelter-'.$mshelter["mshelterID"].'-submit-button").html("Update");
                          }else{
                            $(".modal").modal("hide");
                            $("#successMessage").html("Berhasil di update");
                            $("#success").modal("show");
                            $("#success").on("hidden.bs.modal", function(){
                                location.reload();
                            });
                          }
                        },
                        error: function(){
                          alert("error in ajax form submission");
                        }
                    });
                });


                ';
            }


            echo '
            });
        </script>
    </body>

    ';
}

function Template_Shelter_Admin_L2($title1, $title2, $data){
    $mshelter = $data["mshelter"];
    $listShelter = $data["listShelter"];
        echo '
    <body class="layout layout-header-fixed layout-sidebar-fixed">

        <div class="layout-header">';
             nav_bar($title1, $title2); echo '
        </div>
        <div class="layout-main">';
             sidebar(); echo '
            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-reload" title="Reload"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <a href="/dashboard/materi/shelter" class="btn btn-link">
                                    <strong><h3 class="text-primary"><span class="icon icon-arrow-circle-left"></span> Fokus Jabatan</h3></strong>
                                </a>

                                <button class="btn btn-link" type="button" data-toggle="modal" data-target="#pop-up-add-shelter">
                                    <strong><h3 class="text-info"><span class="icon icon-plus-circle"></span> Jabatan / Kompetensi</h3></strong>
                                </button>

                                <div class="card bg-primary">
                                    <div class="card-body">
                                        <div class="media">
                                            <div class="media-middle media-left">
                                                <span class="bg-primary-inverse circle sq-48">
                                                    <span class="icon icon-file-text"></span>
                                                </span>
                                            </div>
                                            <div class="media-middle media-body">
                                                <h6 class="media-heading">Total Materi <strong> ( '.$mshelter["mshelterName"].' ) </strong></h6>
                                                <h3 class="media-heading">
                                                    <span class="fw-l">'.sizeof($listShelter).'</span>
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">

                                <div class="card">
                                    <div class="card-body">
                                        <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%">
                                            <thead>
                                            <tr>
                                                <th>Fokus Jabatan</th>
                                                <th>Ditampilkan</th>
                                                <th>Tanggal Dibuat</th>
                                                <th>Dibuat</th>
                                                <th>Edit</th>
                                                <th>Hapus</th>
                                            </tr>
                                            </thead>

                                            <tbody>';

                                            $i = 0;
                                            foreach ($listShelter as $shelter) {
                                                $i++;
                                                echo '
                                                <tr>
                                                    <td><a href="/dashboard/materi/shelter/?mshelterID='.$mshelter["mshelterID"].'&shelterID='.$shelter["shelterID"].'">'.$shelter["shelterName"].'</a></td>';

                                                    if($shelter["showShelter"] == 1){
                                                        echo '<td><span class="icon icon-check-square-o"></span></td>';
                                                    }else{
                                                        echo '<td><span class="icon icon-uncheck"></span></td>';
                                                    }
                                                    echo '
                                                    <td>'.$shelter["dateCreated"].'</td>
                                                    <td>'.$shelter["createdBy"].'</td>
                                                    <td>
                                                      <span class="text-success icon icon-cog fa-lg" data-toggle="modal" data-target="#pop-up-edit-shelter-'.$shelter["shelterID"].'"></span>
                                                    </td>
                                                    <td><span class="text-danger icon icon-trash icon-lg" data-toggle="modal" data-target="#pop-up-delete-shelter-'.$shelter["shelterID"].'"></span>
                                                    </td>
                                                </tr>
                                                ';
                                            }
                                            echo '

                                            </tbody>

                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="modal fade" id="pop-up-add-shelter" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-primary">
                        <h4 class="modal-title">Tambah Fokus Jabatan / Kompeteni
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </h4>
                    </div>
                    <div class="modal-body">
                        <div class="signup">
                            <div class="signup-body">
                                <div class="signup-form">
                                    <form action="" id="form-add-shelter" method="post" data-toggle="validator" enctype="multipart/form-data">
                                        <input type="hidden" name="addShelter" value="">
                                        <input type="hidden" name="mshelterID" value="'.$mshelter['mshelterID'].'">
                                        <input type="hidden" name="addedBy" value="'.$_SESSION["username"].'">
                                        <input type="hidden" name="code-add" value="'.$_SESSION["code"].'">
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="title">Masukan nama jabatan / kompetensi</label>
                                                    <input class="form-control" type="text" name="shelterName" spellcheck="false" data-msg-required="masukan jabatan / kateogori!" required value="">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                            <button type="submit" id="add-shelter-submit-button" class="btn btn-primary">Tambah</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>';

        foreach ($listShelter as $shelter) {
            echo '

            <div id="pop-up-delete-shelter-'.$shelter["shelterID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                <div class="modal-dialog">
                    <div class="modal-content bg-primary">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">
                                <span aria-hidden="true">×</span>
                                <span class="sr-only">Close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form action="" id="form-delete-shelter-'.$shelter["shelterID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                <input type="hidden" name="deleteShelter" value="">
                                <input type="hidden" name="shelterID" value="'.$shelter["shelterID"].'">
                                <input type="hidden" name="deletedBy" value="'.$_SESSION["username"].'">
                                <input type="hidden" name="code-delete" value="'.$_SESSION["code"].'">

                                <div class="text-center">
                                    <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                    <h3 class="text-light">Hapus Jabatan / kompetensi? ('.$shelter["shelterName"].')</h3>
                                    <div class="m-t-lg">
                                        <button class="btn btn-danger" id="delete-shelter-'.$shelter["shelterID"].'-submit-button" type="submit">Delete</button>
                                        <button class="btn btn-default" data-dismiss="modal" type="button">Cancel</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div id="pop-up-edit-shelter-'.$shelter["shelterID"].'" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header bg-primary">
                            <h4 class="modal-title">Edit <strong>('.$shelter["shelterName"].')</strong>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">
                            <div class="signup">
                                <div class="signup-body">
                                    <div class="signup-form">
                                        <form action="" id="form-edit-shelter-'.$shelter["shelterID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                            <input type="hidden" name="editShelter" value="">
                                            <input type="hidden" name="shelterID" value="'.$shelter["shelterID"].'">
                                            <input type="hidden" name="mshelterID" value="'.$shelter["mshelterID"].'">
                                            <input type="hidden" name="editedBy" value="'.$_SESSION["username"].'">
                                            <input type="hidden" name="code-edit" value="'.$_SESSION["code"].'">

                                            <div class="checkbox">
                                                <label>';
                                                if($shelter["showShelter"] != 1){
                                                    echo '
                                                    <input type="checkbox" name="showShelter" value="1"> Ditampilkan di halaman pegawai
                                                    ';
                                                }else{
                                                    echo '
                                                    <input type="checkbox" name="showShelter" value="1" checked="checked"> Ditampilkan di halaman pegawai
                                                    ';
                                                }


                                                    echo '
                                                </label>
                                            </div>

                                            <div class="row gutter-xs">
                                                <div class="form-group">
                                                    <label for="shelterName">Masukan nama  jabatan/kompetensi</label>
                                                    <input class="form-control" type="text" name="shelterName" spellcheck="false" data-msg-required="masukan nama fokus jabatan" required value="'.$shelter["shelterName"].'">
                                                </div>

                                            </div>


                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                <button type="submit" id="edit-shelter-'.$shelter["shelterID"].'-submit-button" class="btn btn-primary">Update</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>';

        }


        true_false_popup();

        echo '


        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>
        <script>
            $(document).ready(function(){';

            foreach ($listShelter as $shelter) {

                echo '

                $("#form-delete-shelter-'.$shelter["shelterID"].'").on("submit", function (e) {
                    e.preventDefault();
                    $("#delete-shelter-'.$shelter["shelterID"].'-submit-button").prop("disabled", true);
                    $("#delete-shelter-'.$shelter["shelterID"].'-submit-button").html(\'menunggu <span class="spinner spinner-danger"></span>\');
                    var formData = new FormData(this);
                    $.ajax({
                        type: "POST",
                        processData: false,
                        contentType: false,
                        enctype: "multipart/form-data",
                        url: "/handler/handler_ajax_course.php",
                        data: formData,
                        success: function (data) {
                          var result = $.parseJSON(data);
                          if(result.info != "success"){
                            $("#failedMessage").html(result.info);
                            $("#failed").modal("show");
                            $("#delete-shelter-'.$shelter["shelterID"].'-submit-button").prop("disabled", false);
                            $("#delete-shelter-'.$shelter["shelterID"].'-submit-button").html("Delete");
                          }else{
                            $(".modal").modal("hide");
                            $("#successMessage").html("Berhasil di hapus");
                            $("#success").modal("show");
                            $("#success").on("hidden.bs.modal", function(){
                                location.reload();
                            });
                          }
                        },
                        error: function(){
                          alert("error in ajax form submission");
                        }
                    });
                });


                $("#form-edit-shelter-'.$shelter["shelterID"].'").on("submit", function (e) {
                    e.preventDefault();
                    $("#edit-shelter-'.$shelter["shelterID"].'-submit-button").prop("disabled", true);
                    $("#edit-shelter-'.$shelter["shelterID"].'-submit-button").html(\'menunggu <span class="spinner spinner-danger"></span>\');
                    var formData = new FormData(this);
                    $.ajax({
                        type: "POST",
                        processData: false,
                        contentType: false,
                        enctype: "multipart/form-data",
                        url: "/handler/handler_ajax_course.php",
                        data: formData,
                        success: function (data) {
                          var result = $.parseJSON(data);
                          if(result.info != "success"){
                            $("#failedMessage").html(result.info);
                            $("#failed").modal("show");
                            $("#edit-shelter-'.$shelter["shelterID"].'-submit-button").prop("disabled", false);
                            $("#edit-shelter-'.$shelter["shelterID"].'-submit-button").html("Update");
                          }else{
                            $(".modal").modal("hide");
                            $("#successMessage").html("Berhasil di update");
                            $("#success").modal("show");
                            $("#success").on("hidden.bs.modal", function(){
                                location.reload();
                            });
                          }
                        },
                        error: function(){
                          alert("error in ajax form submission");
                        }
                    });
                });


                ';
            }


            echo '
            });
        </script>
    </body>

    ';
}

function Template_Shelter_Admin_L3($title1, $title2, $data){
    $mshelter = $data["mshelter"];
    $shelter = $data["shelter"];
    $listSubject = $shelter["listSubject"];
    $listCategory = $data["listCategory"];
    $listAllShelter = $data["listAllShelter"];
    // $listFocusCategory = $data["listFocusCategory"];
    echo '

    <body class="layout layout-header-fixed layout-sidebar-fixed">

        <div class="layout-header">';nav_bar($title1, $title2);echo'</div>
        <div class="layout-main">';sidebar(); echo '
            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <a href="/dashboard/materi/shelter/" class="btn btn-link">
                                    <strong><h3 class="text-primary"><span class="icon icon-arrow-circle-left"></span> Fokus Jabatan</h3></strong>
                                </a>
                                <a href="/dashboard/materi/shelter/?mshelterID='.$mshelter["mshelterID"].'" class="btn btn-link">
                                    <strong><h3 class="text-primary"><span class="icon icon-arrow-circle-left"></span> '.$mshelter["mshelterName"].'</h3></strong>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header bg-danger">
                            <div class="media">
                                <div class="media-middle media-left">
                                    <span class="my-color circle sq-48">
                                        <span class="icon icon-book"></span>
                                    </span>
                                </div>
                                <div class="media-middle media-body">
                                    <h4 class="media-heading">
                                        <a href="/dashboard/materi/shelter/?mshelter='.$mshelter["mshelterID"].'" style="color:white">
                                            <span class="icon icon-location-arrow"></span> '.$shelter["shelterName"].'
                                        </a>
                                    </h4>

                                    <h5 class="media-heading">
                                        <span class="">'.sizeof($listSubject).'</span> Materi
                                    </h5>
                                </div>
                                <div class="media-right">';

                                if($shelter["showShelter"] == 1){
                                    echo '
                                        <button class="btn btn-primary btn-xs btn-labeled pull-right" type="button">
                                            <span class="btn-label arrow-right arrow-outline-danger">
                                                <span class="icon icon-check"></span>
                                            </span>Ditampilkan
                                        </button>
                                    ';
                                }

                                echo '

                                    <span id="my-icon" class="bg-info circle sq-24 pull-right" data-toggle="modal" data-target="#pop-up-edit-shelter-'.$shelter["shelterID"].'">
                                          <span class="icon icon-edit"></span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row gutter-xs">';
                    subjectCard($listSubject);
                        echo '
                    </div>

                </div>
            </div>
        </div>


        <div id="pop-up-edit-shelter-'.$shelter["shelterID"].'" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-primary">
                        <h4 class="modal-title">Edit <strong>('.$shelter["shelterName"].')</strong>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </h4>
                    </div>
                    <div class="modal-body">
                        <div class="signup">
                            <div class="signup-body">
                                <div class="signup-form">
                                    <form action="" id="form-edit-shelter-'.$shelter["shelterID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                        <input type="hidden" name="editShelter" value="">
                                        <input type="hidden" name="shelterID" value="'.$shelter["shelterID"].'">
                                        <input type="hidden" name="mshelterID" value="'.$shelter["mshelterID"].'">
                                        <input type="hidden" name="editedBy" value="'.$_SESSION["username"].'">
                                        <input type="hidden" name="code-edit" value="'.$_SESSION["code"].'">

                                        <div class="checkbox">
                                            <label>';
                                            if($shelter["showShelter"] != 1){
                                                echo '
                                                <input type="checkbox" name="showShelter" value="1"> Ditampilkan di halaman pegawai
                                                ';
                                            }else{
                                                echo '
                                                <input type="checkbox" name="showShelter" value="1" checked="checked"> Ditampilkan di halaman pegawai
                                                ';
                                            }


                                                echo '
                                            </label>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="form-group">
                                                <label for="shelterName">Masukan nama  jabatan/kompetensi</label>
                                                <input class="form-control" type="text" name="shelterName" spellcheck="false" data-msg-required="masukan nama fokus jabatan" required value="'.$shelter["shelterName"].'">
                                            </div>

                                        </div>


                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                            <button type="submit" id="edit-shelter-'.$shelter["shelterID"].'-submit-button" class="btn btn-primary">Update</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>

        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>';


                    // displaying popup subjectCard setting
            foreach ($listSubject as $subject) {


                echo '

                <div id="delete-'.$subject["subjectID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                    <div class="modal-dialog">
                        <div class="modal-content bg-primary">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">×</span>
                                    <span class="sr-only">Close</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="text-center">
                                    <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                    <h3 class="text-light">Hapus materi? ('.$subject["subjectName"].')</h3>
                                    <div class="m-t-lg">
                                        <button class="btn btn-danger" data-dismiss="modal" id="deleteSubject-'.$subject["subjectID"].'" type="button">Hapus</button>
                                        <script>
                                          $(document).ready(function(){
                                            $("#deleteSubject-'.$subject["subjectID"].'").on("click", function(e) {
                                                var subjectID = '.$subject["subjectID"].';
                                                var formData = new FormData();
                                                formData.append("deleteSubject", subjectID);

                                                $.ajax({
                                                      type: "POST",
                                                      processData: false,
                                                      contentType: false,
                                                      enctype: "multipart/form-data",
                                                      url: "/handler/handler_ajax_course.php",
                                                      data: formData,
                                                      success: function (data) {
                                                        var result = $.parseJSON(data);
                                                        if(result.info != "success"){
                                                          $(".modal").modal("hide");
                                                          $("#failedMessage").html(result.info);
                                                          $("#failed").modal("show");
                                                        }else{
                                                          $(".modal").modal("hide");
                                                          $("#successMessage").html("'.$title1.' berhasil dihapus");
                                                          $("#success").modal("show");
                                                          $("#success").on("hidden.bs.modal", function(){
                                                              location.reload();
                                                          });
                                                        }
                                                      },
                                                      error: function(){
                                                        alert("error in ajax form submission");
                                                      }
                                                  });
                                            });
                                          });
                                        </script>
                                        <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer"></div>
                        </div>
                    </div>
                </div>';

                $x = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
                if(!file_exists($_SERVER['DOCUMENT_ROOT'].$x)){
                    $subject["thumbnailImage"] = "/dashboard/drive/images/".$subject["thumbnailImage"];
                }else{
                    $subject["thumbnailImage"] = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
                }
                echo '
                <div class="modal fade" id="edit-'.$subject["subjectID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-primary">
                                <h4 class="modal-title">Edit <strong>('.$subject["subjectName"].')</strong>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </h4>
                            </div>
                            <div class="modal-body">
                                <div class="signup">
                                    <div class="signup-body">
                                        <div class="signup-form">
                                            <form action="" id="form-edit-subject-'.$subject["subjectID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                <input type="hidden" name="editSubject" value="">
                                                <input type="hidden" name="courseID" value="'.$subject["courseID"].'">
                                                <input type="hidden" name="editedBy" value="'.$_SESSION["username"].'">
                                                <input type="hidden" name="code-edit" value="'.$_SESSION["code"].'">
                                                <input type="hidden" name="subjectID" value="'.$subject["subjectID"].'">
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label id="button-switch-image-'.$subject["subjectID"].'" class="file-upload-btn btn btn-outline-primary">
                                                                <span class="icon icon-image"></span> Upload thumbnail
                                                                <input type="file" class="file-upload-input thumbnail-image-'.$subject["subjectID"].'" id="file" name="thumbnailImage" accept="image/*">
                                                            </label>
                                                            <div id="image-preview-div">
                                                                <strong><div id="image-message-'.$subject["subjectID"].'">No file chosen</div></strong>
                                                                <img id="preview-img-'.$subject["subjectID"].'" class="timeline-media img-rounded" width="220" height="80" style="object-fit: cover;"
                                                                src="'.$subject["thumbnailImage"].'">
                                                            </div>
                                                            <div id="message"></div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label id="button-switch-pdf-'.$subject["subjectID"].'" class="file-upload-btn btn btn-outline-success">
                                                                <span class="icon icon-works">&#97;</span> Upload materi
                                                                <input type="file" class="file-upload-input" id="pdf-file-'.$subject["subjectID"].'" name="subjectFile" accept="application/pdf">
                                                            </label>
                                                            <strong><div id="file-message-'.$subject["subjectID"].'">No file chosen</div></strong>
                                                        </div>
                                                        <div class="form-group">
                                                            <label id="button-switch-vid-'.$subject["subjectID"].'" class="file-upload-btn btn btn-outline-success">
                                                                <span class="icon icon-works">&#97;</span> Upload video
                                                                <input type="file" class="file-upload-input" id="vid-file-'.$subject["subjectID"].'" name="subjectVideo" accept="video/mp4, video/x-m4v, video/*">
                                                            </label>
                                                            <strong><div id="video-message-'.$subject["subjectID"].'">No file chosen</div></strong>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Judul</label>
                                                            <input class="form-control" type="text" name="subjectName" spellcheck="false" data-msg-required="masukan judul materi" required value="'.$subject["subjectName"].'">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Pilih point</label>
                                                            <select id="form-control-6" class="form-control" name="point">';

                                                                pointSelectOption($subject["point"]);
                                                                echo '
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Pilih Bidang</label>
                                                            <select id="form-control-6" class="form-control" name="categoryID">';

                                                            foreach ($listCategory as $c) {

                                                                if ($c["categoryID"] == $subject["categoryID"]){
                                                                    echo '<option value="'.$c["categoryID"].'" selected>'.$c["categoryName"].'</option>';
                                                                }else{
                                                                    echo '<option value="'.$c["categoryID"].'">'.$c["categoryName"].'</option>';
                                                                }
                                                            }
                                                            echo '

                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Pilih Jabatan / Kompetensi</label>
                                                            <select id="form-control-6" class="form-control" name="shelterID">';

                                                            foreach ($listAllShelter as $shelter) {

                                                                if ($shelter["shelterID"] == $subject["shelterID"]){
                                                                    echo '<option value="'.$shelter["shelterID"].'" selected>'.$shelter["shelterName"].'</option>';
                                                                }else{
                                                                    echo '<option value="'.$shelter["shelterID"].'">'.$shelter["shelterName"].'</option>';
                                                                }
                                                            }
                                                            echo '

                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="short-text">Text thumbnail</label>
                                                            <textarea name="thumbnailText" class="form-control">'.nl2br($subject["thumbnailText"]).'</textarea>
                                                        </div>
                                                    </div>
                                                </div>


                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <button type="submit" id="edit-subject-'.$subject["subjectID"].'-submit-button" class="btn btn-primary">Update</button>
                                                </div>
                                            </form>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="add-quest-'.$subject["subjectID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-primary">
                                <h4 class="modal-title">Tambah pertanyaan untuk <strong>('.$subject["subjectName"].')</strong>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </h4>
                            </div>
                            <div class="modal-body">
                                <div class="signup">
                                    <div class="signup-body">
                                        <div class="signup-form">
                                            <form action="" id="add-quest-form-'.$subject["subjectID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                <div class="row gutter-xs">
                                                    <h5 class="text-warning"><span class="icon icon-warning"></span> Masukan pertanyaan</h5>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">

                                                            <input type="hidden" name="addQQuest" value="">
                                                            <input type="hidden" name="subjectID" value="'.$subject["subjectID"].'">
                                                            <input type="hidden" name="" value="'.$_SESSION["username"].'">

                                                            <textarea class="form-control" type="text" name="question" data-msg-required="masukan pertanyaan" required placeholder=""></textarea>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <h5 class="text-warning"><span class="icon icon-warning"></span> Pilih option yang akan digunakan sebagai kunci jawaban</h5>
                                                </div>

                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="a">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                a
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionA" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="b">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                b
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionB" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="c">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                c
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionC" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="d">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                d
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionD" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <button type="submit" id="add-quest-button-submit-'.$subject["subjectID"].'" class="btn btn-primary">Update</button>
                                                </div>
                                            </form>
                                                <script>
                                                    $(document).ready(function(){
                                                        $("#add-quest-form-'.$subject["subjectID"].'").on("submit", function (e) {
                                                            e.preventDefault();
                                                            $("#add-quest-button-submit-'.$subject["subjectID"].'").prop("disabled", true);
                                                            var formData = new FormData(this);
                                                            $.ajax({
                                                                type: "POST",
                                                                processData: false,
                                                                contentType: false,
                                                                enctype: "multipart/form-data",
                                                                url: "/handler/handler_ajax_course.php",
                                                                data: formData,
                                                                success: function (data) {
                                                                  var result = $.parseJSON(data);
                                                                  if(result.info != "success"){
                                                                    $("#failedMessage").html(result.info);
                                                                    $("#failed").modal("show");
                                                                    $("#add-quest-button-submit-'.$subject["subjectID"].'").prop("disabled", false);
                                                                  }else{
                                                                    $(".modal").modal("hide");
                                                                    $("#successMessage").html("Berhasil di update");
                                                                    $("#success").modal("show");
                                                                    $("#success").on("hidden.bs.modal", function(){
                                                                        location.reload();
                                                                    });
                                                                  }
                                                                },
                                                                error: function(){
                                                                  alert("error in ajax form submission");
                                                                }
                                                            });
                                                        });
                                                    });
                                                </script>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <script>
                    $(document).ready(function(){
                        $("#form-edit-subject-'.$subject["subjectID"].'").on("submit", function (e) {
                            e.preventDefault();
                            $("#edit-subject-'.$subject["subjectID"].'-submit-button").prop("disabled", true);
                            $("#edit-subject-'.$subject["subjectID"].'-submit-button").html("menunggu <span class=\"spinner spinner-danger\"></span>");
                            var formData = new FormData(this);
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_course.php",
                                data: formData,
                                success: function (data) {
                                    var result = $.parseJSON(data);
                                    if(result.info != "success"){
                                        $("#failedMessage").html(result.info);
                                        $("#failed").modal("show");
                                        $("#edit-subject-'.$subject["subjectID"].'-submit-button").prop("disabled", false);
                                        $("#edit-subject-'.$subject["subjectID"].'-submit-button").html("Update");
                                    }else{
                                        $(".modal").modal("hide");
                                        $("#successMessage").html("Berhasil di update");
                                        $("#success").modal("show");
                                        $("#success").on("hidden.bs.modal", function(){
                                            location.reload();
                                        });
                                    }
                                },
                                error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });

                        $("#pdf-file-'.$subject["subjectID"].'").change(function() {
                            var file = this.files[0];
                            if(typeof(file) !== "undefined"){
                                var extension = file.name.split(".").pop().toLowerCase();
                                if(extension == "pdf"){
                                    $("#button-switch-pdf-'.$subject["subjectID"].'").removeClass("btn-outline-success").addClass("btn-success");
                                    var filename;
                                    if(file.name.length > 16){
                                        filename = file.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file.name;
                                    }
                                    $("#file-message-'.$subject["subjectID"].'").html(filename);
                                }else{
                                    $("#button-switch-pdf-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                    $("#file-message").html("No file chosen");
                                    alert("pdf file!");
                                }
                            }else{
                                $("#button-switch-pdf-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                $("#file-message-'.$subject["subjectID"].'").html("No file chosen");
                            }
                        });
                        function readURL(input) {
                            if (input.files && input.files[0]) {
                                var reader = new FileReader();

                                reader.onload = function (e) {
                                    $("#preview-img-'.$subject["subjectID"].'").attr("src", e.target.result);
                                }

                                reader.readAsDataURL(input.files[0]);
                            }
                        }
                        $(".thumbnail-image-'.$subject["subjectID"].'").change(function() {
                            var file = this.files[0];
                            if(typeof(file) !== "undefined"){
                                var extension = file.name.split(".").pop().toLowerCase();
                                if(jQuery.inArray(extension, ["png", "jpg", "jpeg"]) === -1){
                                    $("#button-switch-image-'.$subject["subjectID"].'").removeClass("btn-primary").addClass("btn-outline-primary");
                                    $("#image-message-'.$subject["subjectID"].'").html("No file chosen");
                                    alert("pdf file!");
                                }else{
                                    $("#button-switch-image-'.$subject["subjectID"].'").removeClass("btn-outline-primary").addClass("btn-primary");
                                    var filename;
                                    if(file.name.length > 16){
                                        filename = file.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file.name;
                                    }
                                    readURL(this);
                                    $("#image-message-'.$subject["subjectID"].'").html(filename);
                                }
                            }else{
                                $("#button-switch-image-'.$subject["subjectID"].'").removeClass("btn-primary").addClass("btn-outline-primary");
                                $("#image-message-'.$subject["subjectID"].'").html("No file chosen");
                            }
                        });
                        $("#vid-file-'.$subject["subjectID"].'").change(function() {
                            var file = this.files[0];
                            if(typeof(file) !== "undefined"){

                                var extension = file.name.split('.').pop().toLowerCase();

                                if(extension == "mp4" || extension == "3gp" || extension == "mov" || extension == "m4v"){

                                    $("#button-switch-vid-'.$subject["subjectID"].'").removeClass("btn-outline-success").addClass("btn-success");
                                    var filename;
                                    if(file.name.length > 16){
                                        filename = file.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file.name;
                                    }
                                    $("#video-message-'.$subject["subjectID"].'").html(filename);
                                }else{
                                    $("#button-switch-vid-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                    $("#video-message-'.$subject["subjectID"].'").html("No file chosen");
                                }
                            }else{

                                $("#button-switch-vid-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                $("#video-message-'.$subject["subjectID"].'").html("No file chosen");
                            }
                        });



                        $(".download-'.$subject["subjectID"].'").on("click", function(){
                            var link = this;
                            link.disabled = true;
                            $("#download-label-'.$subject["subjectID"].'").html("Downloading");
                            var formData = new FormData();
                            formData.append("download", "'.$subject["subjectID"].'");
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_course.php",
                                data: formData,
                                success: function (data) {
                                    link.disabled = false;
                                    $("#download-label-'.$subject["subjectID"].'").html("Download");
                                    $("#total-downloader-'.$subject["subjectID"].'").load("/handler/handler_jquery_course.php", {totalDownloader:'.$subject["subjectID"].'});
                            },
                            error: function(){
                                alert("error in ajax form submission");
                            }
                          });
                       });
                    });

                </script>


                ';
            }



        true_false_popup();
        echo '
        <script>
            $(document).ready(function(){
                $("#form-edit-shelter-'.$shelter["shelterID"].'").on("submit", function (e) {
                    e.preventDefault();
                    $("#edit-shelter-'.$shelter["shelterID"].'-submit-button").prop("disabled", true);
                    $("#edit-shelter-'.$shelter["shelterID"].'-submit-button").html(\'menunggu <span class="spinner spinner-danger"></span>\');
                    var formData = new FormData(this);
                    $.ajax({
                        type: "POST",
                        processData: false,
                        contentType: false,
                        enctype: "multipart/form-data",
                        url: "/handler/handler_ajax_course.php",
                        data: formData,
                        success: function (data) {
                          var result = $.parseJSON(data);
                          if(result.info != "success"){
                            $("#failedMessage").html(result.info);
                            $("#failed").modal("show");
                            $("#edit-shelter-'.$shelter["shelterID"].'-submit-button").prop("disabled", false);
                            $("#edit-shelter-'.$shelter["shelterID"].'-submit-button").html("Update");
                          }else{
                            $(".modal").modal("hide");
                            $("#successMessage").html("Berhasil di update");
                            $("#success").modal("show");
                            $("#success").on("hidden.bs.modal", function(){
                                location.reload();
                            });
                          }
                        },
                        error: function(){
                          alert("error in ajax form submission");
                        }
                    });
                });
            });
        </script>
    </body>



    ';
}

function Template_Read_Course_Admin($title1, $title2, $data){
    $course = $data['course'];
    $subject = $data["subject"];
    $questList = $data["questList"];
    $paperSource = $data["paperSource"];
    $viewer = $subject["seenTotal"];

    $temp = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
    if(!file_exists($_SERVER['DOCUMENT_ROOT'].$temp)){
        $subject["thumbnailImage"] = "/dashboard/drive/images/".$subject["thumbnailImage"];
    }else{
        $subject["thumbnailImage"] = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
    }
    $tempFile = "/dashboard/drive/drive-course/course-files/".$subject["filename"];
    if(!file_exists($_SERVER['DOCUMENT_ROOT'].$tempFile)){
        $subject["filename"] = "/dashboard/drive/courses/".$subject["filename"];
    }else{
        $subject["filename"] = "/dashboard/drive/drive-course/course-files/".$subject["filename"];
    }

    echo '

    <body class="layout layout-header-fixed layout-sidebar-fixed">

        <div class="layout-header">';nav_bar($title1, $title2);echo'</div>
        <div class="layout-main">';sidebar(); echo '
            <div class="layout-content">
                <div class="layout-content-body">

                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <a href="/dashboard/materi" class="btn btn-link">
                                    <strong><h3 class="text-info"><span class="icon icon-arrow-circle-left"></span> Materi</h3></strong>
                                </a>

                                <a href="/dashboard/materi/course_sub.php?mcourseID='.$course["mcourseID"].'" class="btn btn-link">
                                    <strong><h3 class="text-info"><span class="icon icon-arrow-circle-left"></span> Kategori</h3></strong>
                                </a>

                                <a href="/dashboard/materi/course.php?courseID='.$course["courseID"].'" class="btn btn-link">
                                    <strong><h3 class="text-info"><span class="icon icon-arrow-circle-left"></span> Sub Kategori</h3></strong>
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12 col-md-3">
                        <div class="card my-color">
                            <div class="card-image">
                                <img class="img-responsive resize-img2" src="'.$subject["thumbnailImage"].'" alt="'.$subject["subjectName"].'" style="width:100%;">
                            </div>
                            <div class="card-body">
                                <div class="row gutter-xs">
                                    <p class="card-title fw-l" style="word-break:break-all; height:40px; overflow-x:hidden;">
                                        <a class="btn btn-primary btn-pill" href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'"><span class="icon icon-book"></span> '.nl2br($subject["subjectName"]).'</a>
                                    </p>
                                    <h5 style="height:15px">
                                        ';
                                        if (strlen($subject["detail-course"]["courseName"]) < 2){
                                            if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                                echo '
                                                <span class="icon icon-exclamation-circle"></span>
                                                    edit kategori
                                                <span class="icon icon-exclamation-circle"></span>';
                                            }else{
                                                echo '
                                                <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #course</a>';
                                            }
                                        }else{
                                            echo '
                                                <a href="/dashboard/materi/course.php?courseID='.$subject["detail-course"]["courseID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">kategori <span class="icon icon-bookmark-o"></span> '.$subject["detail-course"]["courseName"].'</a>';
                                        }
                                        echo '
                                    </h5>
                                    <h5 style="height:15px">';
                                        if (strlen($subject["detail-category"]["categoryName"]) < 2){
                                            if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                                echo '
                                                <span class="icon icon-exclamation-circle"></span>
                                                    edit bidang
                                                <span class="icon icon-exclamation-circle"></span>';
                                            }else{
                                                echo '
                                                <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #category</a>';
                                            }
                                        }else{
                                            echo '
                                                <a href="/dashboard/materi/bidang/category.php?category='.$subject["categoryID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">bidang <span class="icon icon-bookmark-o"></span> '.$subject["detail-category"]["categoryName"].'</a>';
                                        }
                                        echo '
                                    </h5>
                                    <h5 style="height:15px">';
                                        if (strlen($subject["detail-shelter"]["shelterName"]) < 2){
                                            if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                                echo '
                                                <span class="icon icon-exclamation-circle"></span>
                                                    edit focus bidang
                                                <span class="icon icon-exclamation-circle"></span>';
                                            }else{
                                                echo '
                                                <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #fcategory</a>';
                                            }
                                        }else{
                                            echo '
                                                <a href="/dashboard/materi/shelter/?mshelterID='.$subject["detail-mshelter"]["mshelterID"].'&shelterID='.$subject["detail-shelter"]["shelterID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">fokus jabatan <span class="icon icon-bookmark-o"></span> '.$subject["detail-mshelter"]["mshelterName"].' / '.$subject["detail-shelter"]["shelterName"].'</a>';
                                        }
                                        echo '
                                    </h5>
                                </div>
                                <div class="row gutter-xs">
                                    <p style="word-wrap:break-word; height:80px; overflow-y:hidden;">'.filterUrlString($subject["thumbnailText"]).'</p>
                                </div>
                                <div class="row gutter-xs">
                                    <a href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'" class="btn btn-outline-warning btn-xs btn-labeled pull-right" type="button">Membaca
                                        <span class="btn-label btn-label-right ">
                                            <span class="icon icon-chevron-circle-right icon-lg icon-fw icon-warning"></span>
                                        </span>
                                    </a>
                                </div>
                            </div>

                            <div class="card-footer" style="height:100px">
                                <button class="btn text-crimson btn-sm btn-labeled col-xs-12" type="button">
                                    <span class="btn-label arrow-right arrow-outline-warning" style="min-width:25px">'.$viewer.'</span>
                                    <span class="icon icon-users"></span> ';
                                        echo $viewer == 1 ? "view" : "views";
                                    echo '
                                </button>
                                <br><br>

                                <a href="'.$subject["filename"].'" download class="btn btn-outline-danger btn-download btn-xs my-color btn-labeled download-'.$subject["subjectID"].'" type="button">
                                  <span class="btn-label">
                                    <span class="icon icon-download icon-lg icon-fw"></span>
                                  </span>

                                    <span class="btn-label arrow-left bg-crimson" style="min-width:25px"
                                            id="total-downloader-'.$subject["subjectID"].'">'.$subject["totalDownloader"].'</span>

                                    <span id="download-label-'.$subject["subjectID"].'">Download materi</span>
                                </a>';
                                if (strlen($subject["videoname"]) > 3){
                                    echo '
                                    <a href="/dashboard/drive/drive-course/course-videos/'.$subject["videoname"].'" download class="btn btn-outline-danger btn-download btn-xs my-color btn-labeled download-'.$subject["subjectID"].'" type="button">
                                      <span class="btn-label">
                                        <span class="icon icon-download icon-lg icon-fw"></span>
                                      </span>

                                        <span id="download-label-'.$subject["subjectID"].'">Download video</span>
                                    </a>';
                                }
                                echo '
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-12 col-md-9">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header">
                                    <div class="card-actions">
                                        <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                        <button type="button" class="card-action card-reload" title="Reload"></button>
                                        <button type="button" class="card-action card-remove" title="Remove"></button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%">
                                        <thead>
                                            <tr>
                                                <th>No.</th>
                                                <th>Pertanyaan</th>
                                                <th>Dibuat</th>
                                                <th>Tanggal Dibuat</th>

                                                <th>Edit</th>
                                                <th>Hapus</th>
                                            </tr>
                                        </thead>
                                        <tfoot>
                                            <tr>
                                                <th>No.</th>
                                                <th>Pertanyaan</th>
                                                <th>Dibuat</th>
                                                <th>Tanggal Dibuat</th>

                                                <th>Edit</th>
                                                <th>Hapus</th>
                                            </tr>
                                        </tfoot>
                                        <tbody>';$i = 0;
                                            foreach ($questList as $quest) {
                                                $i++;
                                                    echo '
                                                    <tr>
                                                        <td>'.$i.'</td>
                                                        <td>'.$quest["question"].'</td>
                                                        <td>'.$quest["createdBy"].'</td>
                                                        <td>'.$quest["dateCreated"].'</td>
                                                        <td>
                                                          <span class="text-success icon icon-cog fa-lg" data-toggle="modal" data-target="#edit-quest-'.$i.'"></span>
                                                        </td>

                                                        <td><span class="text-danger icon icon-trash icon-lg" data-toggle="modal" data-target="#delete-quest-'.$i.'"></span>
                                                        </td>
                                                    </tr>
                                                    ';
                                            }echo '
                                        </tbody>
                                    </table>

                                </div>
                            </div>
                        </div>';
                        if (strlen($subject["videoname"]) > 3){
                            echo '
                            <div class="col-md-12">
                                <video width="100%" controls>
                                    <source src="/dashboard/drive/drive-course/course-videos/'.$subject["videoname"].'"/>
                                </video>
                            </div>';
                        } echo'

                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header my-color">
                                    <div class="card-actions">
                                        <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                        <button type="button" class="card-action card-reload" title="Reload"></button>
                                        <button type="button" class="card-action card-remove" title="Remove"></button>
                                    </div>
                                    <strong>'.$subject["subjectName"].'</strong>
                                </div>
                                <div class="card-body">
                                    <iframe src="'.$paperSource.'" style="width:100%; height:800px;" frameborder="0"></iframe>
                                </div>';

                                if($_SESSION["type"] == 4){
                                    echo '<div class="card-footer">
                                    <div class="btn bg-crimson">wes paham</div>
                                    <div class="btn bg-crimson" data-toggle="modal" data-target="#ask-question">ora paham</div>
                                    </div>';
                                }echo '
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>
        ';
        $i = 0;
        // setting quest
        foreach ($questList as $quest) {
            $i ++;
            echo '

            <div class="modal fade" id="edit-quest-'.$i.'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header bg-info">
                            <h4 class="modal-title">Edit <strong>('.$i.')</strong>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">
                            <div class="signup">
                                <div class="signup-body">
                                    <div class="signup-form">
                                        <form action="" id="edit-quest-form-'.$quest["questionID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                            <input type="hidden" name="questionID" value="'.$quest["questionID"].'">
                                            <input type="hidden" name="subjectID" value="'.$quest["subjectID"].'">
                                            <div class="row gutter-xs">
                                                <div class="col-sm-12">
                                                    <div class="form-group">
                                                        <label for="title">masukan pertanyaan</label>
                                                        <input type="hidden" name="editQuest" value="">
                                                        <input type="hidden" name="subjectID" value="'.$quest["subjectID"].'">
                                                        <input type="hidden" name="" value="'.$_SESSION["username"].'">

                                                        <textarea class="form-control" type="text" name="question" data-msg-required="masukan pertanyaan" required>'.$quest["question"].'</textarea>

                                                    </div>
                                                </div>
                                            </div>';

                                            foreach ($quest["optionList"] as $key => $value) {

                                                echo '
                                                    <div class="row gutter-xs">
                                                        <div class="col-sm-6">
                                                            <div class="radio">
                                                                <div class="form-group">
                                                                    <label>
                                                                        <div class="input-group ">';
                                                                        if($quest["trueAnswer"] == $value){
                                                                            echo '<input type="radio" name="option[]" checked value="'.$key.'">';
                                                                        }else{
                                                                            echo '<input type="radio" name="option[]" value="'.$key.'">';
                                                                        }


                                                                            echo '
                                                                            <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                                <button class="btn btn-default" type="button">
                                                                                    '.$key.'
                                                                                </button>
                                                                            </span>
                                                                            <input name="option'.strtoupper($key).'" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" value='.$value.' required>
                                                                        </div>
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                ';
                                            }
                                            echo '

                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                <button type="submit" id="edit-quest-button-submit-'.$quest["questionID"].'" class="btn btn-info">Update</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="delete-quest-'.$i.'" tabindex="-1" role="dialog" class="modal fade delmod">
                <div class="modal-dialog">
                    <div class="modal-content bg-primary">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">
                                <span aria-hidden="true">×</span>
                                <span class="sr-only">Close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="text-center">
                                <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                <h3 class="text-light">Hapus quest? ('.$quest["question"].')</h3>
                                <div class="m-t-lg">
                                    <button class="btn btn-danger" data-dismiss="modal" id="deleteQuest-'.$quest["questionID"].'" type="button">Hapus</button>
                                    <script>
                                      $(document).ready(function(){
                                        $("#deleteQuest-'.$quest["questionID"].'").on("click", function(e) {
                                            var questionID = '.$quest["questionID"].';
                                            var formData = new FormData();
                                            formData.append("deleteQuest", questionID);
                                            formData.append("questionID", questionID);

                                            $.ajax({
                                                  type: "POST",
                                                  processData: false,
                                                  contentType: false,
                                                  enctype: "multipart/form-data",
                                                  url: "/handler/handler_ajax_course.php",
                                                  data: formData,
                                                  success: function (data) {
                                                    var result = $.parseJSON(data);
                                                    if(result.info != "success"){
                                                      $(".modal").modal("hide");
                                                      $("#failedMessage").html(result.info);
                                                      $("#failed").modal("show");
                                                    }else{
                                                      $(".modal").modal("hide");
                                                      $("#successMessage").html("quest berhasil dihapus");
                                                      $("#success").modal("show");
                                                      $("#success").on("hidden.bs.modal", function(){
                                                          location.reload();
                                                      });
                                                    }
                                                  },
                                                  error: function(){
                                                    alert("error in ajax form submission");
                                                  }
                                              });
                                        });
                                      });
                                    </script>
                                    <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer"></div>
                    </div>
                </div>
            </div>



            <script>
                $(document).ready(function(){

                    $("#edit-quest-form-'.$quest["questionID"].'").on("submit", function (e) {
                        e.preventDefault();
                        $("#edit-quest-button-submit-'.$quest["questionID"].'").prop("disabled", true);
                        var formData = new FormData(this);

                        $.ajax({
                            type: "POST",
                            processData: false,
                            contentType: false,
                            enctype: "multipart/form-data",
                            url: "/handler/handler_ajax_course.php",
                            data: formData,
                            success: function (data) {
                              var result = $.parseJSON(data);
                              if(result.info != "success"){
                                $("#failedMessage").html(result.info);
                                $("#failed").modal("show");
                                $("#edit-quest-button-submit-'.$quest["questionID"].'").prop("disabled", false);
                              }else{
                                $(".modal").modal("hide");
                                $("#successMessage").html("Berhasil di update");
                                $("#success").modal("show");
                                $("#success").on("hidden.bs.modal", function(){
                                    location.reload();
                                });
                              }
                            },
                            error: function(){
                              alert("error in ajax form submission");
                            }
                        });
                    });


                });
            </script>


            ';
        }
        true_false_popup();
        echo '


    </body>


    ';
}

function Template_Category_Admin_L1($title1, $title2, $data){
    $listCategory = $data["categoryList"];
    echo '
    <body class="layout layout-header-fixed layout-sidebar-fixed">

        <div class="layout-header">';
             nav_bar($title1, $title2); echo '
        </div>
        <div class="layout-main">';
             sidebar(); echo '
            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-reload" title="Reload"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>

                                <button class="btn btn-link" type="button" data-toggle="modal" data-target="#pop-up-add-category">
                                    <strong><h3 class="text-info"><span class="icon icon-plus-circle"></span> Bidang</h3></strong>
                                </button>

                                <div class="card bg-primary">
                                    <div class="card-body">
                                        <div class="media">
                                            <div class="media-middle media-left">
                                                <span class="bg-primary-inverse circle sq-48">
                                                    <span class="icon icon-file-text"></span>
                                                </span>
                                            </div>
                                            <div class="media-middle media-body">
                                                <h6 class="media-heading">Total Bidang</h6>
                                                <h3 class="media-heading">
                                                    <span class="fw-l">'.sizeof($listCategory).'</span>
                                                </h3>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">

                                <div class="card">
                                    <div class="card-body">
                                        <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%">
                                            <thead>
                                            <tr>
                                                <th>Bidang</th>
                                                <th>Ditampilkan</th>
                                                <th>Tanggal Dibuat</th>
                                                <th>Dibuat</th>
                                                <th>Edit</th>
                                                <th>Hapus</th>
                                            </tr>
                                            </thead>
                                            <tbody>';

                                            $i = 0;
                                            foreach ($listCategory as $category) {
                                                $i++;
                                                echo '
                                                <tr>
                                                    <td><a href="/dashboard/materi/bidang/category.php?category='.$category["categoryID"].'">'.$category["categoryName"].'</a></td>';

                                                    if($category["showCategory"] == 1){
                                                        echo '<td><span class="icon icon-check-square-o"></span></td>';
                                                    }else{
                                                        echo '<td><span class="icon icon-uncheck"></span></td>';
                                                    }
                                                    echo '
                                                    <td>'.$category["dateCreated"].'</td>
                                                    <td>'.$category["createdBy"].'</td>
                                                    <td>
                                                      <span class="text-success icon icon-cog fa-lg" data-toggle="modal" data-target="#pop-up-edit-category-'.$category["categoryID"].'"></span>
                                                    </td>
                                                    <td><span class="text-danger icon icon-trash icon-lg" data-toggle="modal" data-target="#pop-up-delete-category-'.$category["categoryID"].'"></span>
                                                    </td>
                                                </tr>
                                                ';
                                            }
                                            echo '

                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="modal fade" id="pop-up-add-category" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-primary">
                        <h4 class="modal-title">Tambah Bidang
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </h4>
                    </div>
                    <div class="modal-body">    
                        <form action="" id="form-add-category" method="post" data-toggle="validator" enctype="multipart/form-data">
                            <input type="hidden" name="addCategory" value="">
                            <input type="hidden" name="addedBy" value="'.$_SESSION["username"].'">
                            <input type="hidden" name="code-add" value="'.$_SESSION["code"].'">
                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="title">Masukan Bidang</label>
                                        <input class="form-control" type="text" name="categoryName" spellcheck="false" data-msg-required="masukan nama bidang!" required value="">
                                    </div>
                                </div>
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                <button type="submit" id="add-mshelter-submit-button" class="btn btn-primary">Tambah</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>';

        foreach ($listCategory as $category) {
            echo '

            <div id="pop-up-delete-category-'.$category["categoryID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                <div class="modal-dialog">
                    <div class="modal-content bg-primary">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">
                                <span aria-hidden="true">×</span>
                                <span class="sr-only">Close</span>
                            </button>
                        </div>
                        <div class="modal-body">

                            <form action="" id="form-delete-category-'.$category["categoryID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                    <input type="hidden" name="deleteCategory" value="">
                                    <input type="hidden" name="categoryID" value="'.$category["categoryID"].'">
                                    <input type="hidden" name="deletedBy" value="'.$_SESSION["username"].'">
                                    <input type="hidden" name="code-delete" value="'.$_SESSION["code"].'">

                                    <div class="text-center">
                                        <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                        <h3 class="text-light">Hapus Bidang? ('.$category["categoryName"].')</h3>
                                        <div class="m-t-lg">
                                            <button class="btn btn-danger" id="delete-category-'.$category["categoryID"].'-submit-button" type="submit">Delete</button>

                                            <button class="btn btn-default" data-dismiss="modal" type="button">Cancel</button>
                                        </div>
                                    </div>

                            </form>


                        </div>
                    </div>
                </div>
            </div>

            <div id="pop-up-edit-category-'.$category["categoryID"].'" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header bg-primary">
                            <h4 class="modal-title">Edit <strong>('.$category["categoryName"].')</strong>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">
                            <div class="signup">
                                <div class="signup-body">
                                    <div class="signup-form">
                                        <form action="" id="form-edit-category-'.$category["categoryID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                            <input type="hidden" name="editCategory" value="">
                                            <input type="hidden" name="categoryID" value="'.$category["categoryID"].'">
                                            <input type="hidden" name="editedBy" value="'.$_SESSION["username"].'">
                                            <input type="hidden" name="code-edit" value="'.$_SESSION["code"].'">

                                            <div class="checkbox">
                                                <label>';
                                                if($category["showCategory"] != 1){
                                                    echo '
                                                    <input type="checkbox" name="showCategory" value="1"> Ditampilkan di halaman pegawai
                                                    ';
                                                }else{
                                                    echo '
                                                    <input type="checkbox" name="showCategory" value="1" checked="checked"> Ditampilkan di halaman pegawai
                                                    ';
                                                }


                                                    echo '
                                                </label>
                                            </div>

                                            <div class="row gutter-xs">
                                                <div class="form-group">
                                                    <label for="categoryName">Masukan bidang</label>
                                                    <input class="form-control" type="text" name="categoryName" spellcheck="false" data-msg-required="masukan nama bidang" required value="'.$category["categoryName"].'">
                                                </div>

                                            </div>


                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                <button type="submit" id="edit-category-'.$category["categoryID"].'-submit-button" class="btn btn-primary">Update</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>';

        }

        true_false_popup();

        echo '


        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>
        <script>
            $(document).ready(function(){';

            foreach ($listCategory as $category) {

                echo '

                $("#form-delete-category-'.$category["categoryID"].'").on("submit", function (e) {
                    e.preventDefault();
                    $("#delete-category-'.$category["categoryID"].'-submit-button").prop("disabled", true);
                    $("#delete-category-'.$category["categoryID"].'-submit-button").html(\'menunggu <span class="spinner spinner-danger"></span>\');
                    var formData = new FormData(this);
                    $.ajax({
                        type: "POST",
                        processData: false,
                        contentType: false,
                        enctype: "multipart/form-data",
                        url: "/handler/handler_ajax_course.php",
                        data: formData,
                        success: function (data) {
                          var result = $.parseJSON(data);
                          if(result.info != "success"){
                            $("#failedMessage").html(result.info);
                            $("#failed").modal("show");
                            $("#delete-category-'.$category["categoryID"].'-submit-button").prop("disabled", false);
                            $("#delete-category-'.$category["categoryID"].'-submit-button").html("Delete");
                          }else{
                            $(".modal").modal("hide");
                            $("#successMessage").html("Berhasil di delete");
                            $("#success").modal("show");
                            $("#success").on("hidden.bs.modal", function(){
                                location.reload();
                            });
                          }
                        },
                        error: function(){
                          alert("error in ajax form submission");
                        }
                    });
                });


                $("#form-edit-category-'.$category["categoryID"].'").on("submit", function (e) {
                    e.preventDefault();
                    $("#edit-category-'.$category["categoryID"].'-submit-button").prop("disabled", true);
                    $("#edit-category-'.$category["categoryID"].'-submit-button").html(\'menunggu <span class="spinner spinner-danger"></span>\');
                    var formData = new FormData(this);
                    $.ajax({
                        type: "POST",
                        processData: false,
                        contentType: false,
                        enctype: "multipart/form-data",
                        url: "/handler/handler_ajax_course.php",
                        data: formData,
                        success: function (data) {
                          var result = $.parseJSON(data);
                          if(result.info != "success"){
                            $("#failedMessage").html(result.info);
                            $("#failed").modal("show");
                            $("#edit-category-'.$category["categoryID"].'-submit-button").prop("disabled", false);
                            $("#edit-category-'.$category["categoryID"].'-submit-button").html("Update");
                          }else{
                            $(".modal").modal("hide");
                            $("#successMessage").html("Berhasil di update");
                            $("#success").modal("show");
                            $("#success").on("hidden.bs.modal", function(){
                                location.reload();
                            });
                          }
                        },
                        error: function(){
                          alert("error in ajax form submission");
                        }
                    });
                });


                ';
            }


            echo '
            });
        </script>
    </body>

    ';
}

function Template_Category_Admin_l2($title1, $title2, $data){
    $category = $data["category"];
    // $mshelter = $data["mshelter"];
    // $shelter = $data["shelter"];
    $listSubject = $category["listSubject"];
    $listCategory = $data["listCategory"];
    $listAllShelter = $data["listAllShelter"];
    // $listFocusCategory = $data["listFocusCategory"];
    echo '

    <body class="layout layout-header-fixed layout-sidebar-fixed">

        <div class="layout-header">';nav_bar($title1, $title2);echo'</div>
        <div class="layout-main">';sidebar(); echo '
            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <a href="/dashboard/materi/bidang" class="btn btn-link">
                                    <strong><h3 class="text-info"><span class="icon icon-arrow-circle-left"></span> Bidang</h3></strong>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header bg-danger">
                            <div class="media">
                                <div class="media-middle media-left">
                                    <span class="my-color circle sq-48">
                                        <span class="icon icon-book"></span>
                                    </span>
                                </div>
                                <div class="media-middle media-body">
                                    <h4 class="media-heading">
                                        <a href="/dashboard/materi/bidang/category.php?category='.$category["categoryID"].'" style="color:white">
                                            <span class="icon icon-location-arrow"></span> '.$category["categoryName"].'
                                        </a>
                                    </h4>

                                    <h5 class="media-heading">
                                        <span class="">'.sizeof($listSubject).'</span> Materi
                                    </h5>
                                </div>
                                <div class="media-right">';

                                if($category["showCategory"] == 1){
                                    echo '
                                        <button class="btn btn-primary btn-xs btn-labeled pull-right" type="button">
                                            <span class="btn-label arrow-right arrow-outline-danger">
                                                <span class="icon icon-check"></span>
                                            </span>Ditampilkan
                                        </button>
                                    ';
                                }

                                echo '

                                    <span id="my-icon" class="bg-info circle sq-24 pull-right" data-toggle="modal"
                                      data-target="#edit-category-'.$category["categoryID"].'">
                                          <span class="icon icon-edit"></span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row gutter-xs">';
                    subjectCard($listSubject);
                        echo '
                    </div>

                </div>
            </div>
        </div>


        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>

        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>';


                    // displaying popup subjectCard setting
            foreach ($listSubject as $subject) {


                echo '

                <div id="delete-'.$subject["subjectID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                    <div class="modal-dialog">
                        <div class="modal-content bg-primary">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">×</span>
                                    <span class="sr-only">Close</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="text-center">
                                    <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                    <h3 class="text-light">Hapus materi? ('.$subject["subjectName"].')</h3>
                                    <div class="m-t-lg">
                                        <button class="btn btn-danger" data-dismiss="modal" id="deleteSubject-'.$subject["subjectID"].'" type="button">Hapus</button>
                                        <script>
                                          $(document).ready(function(){
                                            $("#deleteSubject-'.$subject["subjectID"].'").on("click", function(e) {
                                                var subjectID = '.$subject["subjectID"].';
                                                var formData = new FormData();
                                                formData.append("deleteSubject", subjectID);

                                                $.ajax({
                                                      type: "POST",
                                                      processData: false,
                                                      contentType: false,
                                                      enctype: "multipart/form-data",
                                                      url: "/handler/handler_ajax_course.php",
                                                      data: formData,
                                                      success: function (data) {
                                                        var result = $.parseJSON(data);
                                                        if(result.info != "success"){
                                                          $(".modal").modal("hide");
                                                          $("#failedMessage").html(result.info);
                                                          $("#failed").modal("show");
                                                        }else{
                                                          $(".modal").modal("hide");
                                                          $("#successMessage").html("'.$title1.' berhasil dihapus");
                                                          $("#success").modal("show");
                                                          $("#success").on("hidden.bs.modal", function(){
                                                              location.reload();
                                                          });
                                                        }
                                                      },
                                                      error: function(){
                                                        alert("error in ajax form submission");
                                                      }
                                                  });
                                            });
                                          });
                                        </script>
                                        <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer"></div>
                        </div>
                    </div>
                </div>';

                $x = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
                if(!file_exists($_SERVER['DOCUMENT_ROOT'].$x)){
                    $subject["thumbnailImage"] = "/dashboard/drive/images/".$subject["thumbnailImage"];
                }else{
                    $subject["thumbnailImage"] = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
                }
                echo '
                <div class="modal fade" id="edit-'.$subject["subjectID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-primary">
                                <h4 class="modal-title">Edit <strong>('.$subject["subjectName"].')</strong>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </h4>
                            </div>
                            <div class="modal-body">
                                <div class="signup">
                                    <div class="signup-body">
                                        <div class="signup-form">
                                            <form action="" id="form-edit-subject-'.$subject["subjectID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                <input type="hidden" name="editSubject" value="">
                                                <input type="hidden" name="courseID" value="'.$subject["courseID"].'">
                                                <input type="hidden" name="editedBy" value="'.$_SESSION["username"].'">
                                                <input type="hidden" name="code-edit" value="'.$_SESSION["code"].'">
                                                <input type="hidden" name="subjectID" value="'.$subject["subjectID"].'">
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label id="button-switch-image-'.$subject["subjectID"].'" class="file-upload-btn btn btn-outline-primary">
                                                                <span class="icon icon-image"></span> Upload thumbnail
                                                                <input type="file" class="file-upload-input thumbnail-image-'.$subject["subjectID"].'" id="file" name="thumbnailImage" accept="image/*">
                                                            </label>
                                                            <div id="image-preview-div">
                                                                <strong><div id="image-message-'.$subject["subjectID"].'">No file chosen</div></strong>
                                                                <img id="preview-img-'.$subject["subjectID"].'" class="timeline-media img-rounded" width="220" height="80" style="object-fit: cover;"
                                                                src="'.$subject["thumbnailImage"].'">
                                                            </div>
                                                            <div id="message"></div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label id="button-switch-pdf-'.$subject["subjectID"].'" class="file-upload-btn btn btn-outline-success">
                                                                <span class="icon icon-works">&#97;</span> Upload materi
                                                                <input type="file" class="file-upload-input" id="pdf-file-'.$subject["subjectID"].'" name="subjectFile" accept="application/pdf">
                                                            </label>
                                                            <strong><div id="file-message-'.$subject["subjectID"].'">No file chosen</div></strong>
                                                        </div>
                                                        <div class="form-group">
                                                            <label id="button-switch-vid-'.$subject["subjectID"].'" class="file-upload-btn btn btn-outline-success">
                                                                <span class="icon icon-works">&#97;</span> Upload video
                                                                <input type="file" class="file-upload-input" id="vid-file-'.$subject["subjectID"].'" name="subjectVideo" accept="video/mp4, video/x-m4v, video/*">
                                                            </label>
                                                            <strong><div id="video-message-'.$subject["subjectID"].'">No file chosen</div></strong>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Judul</label>
                                                            <input class="form-control" type="text" name="subjectName" spellcheck="false" data-msg-required="masukan judul materi" required value="'.$subject["subjectName"].'">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Pilih point</label>
                                                            <select id="form-control-6" class="form-control" name="point">';

                                                                pointSelectOption($subject["point"]);
                                                                echo '
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Pilih Bidang</label>
                                                            <select id="form-control-6" class="form-control" name="categoryID">';

                                                            foreach ($listCategory as $c) {

                                                                if ($c["categoryID"] == $subject["categoryID"]){
                                                                    echo '<option value="'.$c["categoryID"].'" selected>'.$c["categoryName"].'</option>';
                                                                }else{
                                                                    echo '<option value="'.$c["categoryID"].'">'.$c["categoryName"].'</option>';
                                                                }
                                                            }
                                                            echo '

                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Pilih Jabatan / Kompetensi</label>
                                                            <select id="form-control-6" class="form-control" name="shelterID">';

                                                            foreach ($listAllShelter as $shelter) {

                                                                if ($shelter["shelterID"] == $subject["shelterID"]){
                                                                    echo '<option value="'.$shelter["shelterID"].'" selected>'.$shelter["shelterName"].'</option>';
                                                                }else{
                                                                    echo '<option value="'.$shelter["shelterID"].'">'.$shelter["shelterName"].'</option>';
                                                                }
                                                            }
                                                            echo '

                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="short-text">Text thumbnail</label>
                                                            <textarea name="thumbnailText" class="form-control">'.nl2br($subject["thumbnailText"]).'</textarea>
                                                        </div>
                                                    </div>
                                                </div>


                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <button type="submit" id="edit-subject-'.$subject["subjectID"].'-submit-button" class="btn btn-primary">Update</button>
                                                </div>
                                            </form>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="add-quest-'.$subject["subjectID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-primary">
                                <h4 class="modal-title">Tambah pertanyaan untuk <strong>('.$subject["subjectName"].')</strong>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </h4>
                            </div>
                            <div class="modal-body">
                                <div class="signup">
                                    <div class="signup-body">
                                        <div class="signup-form">
                                            <form action="" id="add-quest-form-'.$subject["subjectID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                <div class="row gutter-xs">
                                                    <h5 class="text-warning"><span class="icon icon-warning"></span> Masukan pertanyaan</h5>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">

                                                            <input type="hidden" name="addQQuest" value="">
                                                            <input type="hidden" name="subjectID" value="'.$subject["subjectID"].'">
                                                            <input type="hidden" name="" value="'.$_SESSION["username"].'">

                                                            <textarea class="form-control" type="text" name="question" data-msg-required="masukan pertanyaan" required placeholder=""></textarea>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <h5 class="text-warning"><span class="icon icon-warning"></span> Pilih option yang akan digunakan sebagai kunci jawaban</h5>
                                                </div>

                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="a">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                a
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionA" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="b">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                b
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionB" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="c">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                c
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionC" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="d">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                d
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionD" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <button type="submit" id="add-quest-button-submit-'.$subject["subjectID"].'" class="btn btn-primary">Update</button>
                                                </div>
                                            </form>
                                                <script>
                                                    $(document).ready(function(){
                                                        $("#add-quest-form-'.$subject["subjectID"].'").on("submit", function (e) {
                                                            e.preventDefault();
                                                            $("#add-quest-button-submit-'.$subject["subjectID"].'").prop("disabled", true);
                                                            var formData = new FormData(this);
                                                            $.ajax({
                                                                type: "POST",
                                                                processData: false,
                                                                contentType: false,
                                                                enctype: "multipart/form-data",
                                                                url: "/handler/handler_ajax_course.php",
                                                                data: formData,
                                                                success: function (data) {
                                                                  var result = $.parseJSON(data);
                                                                  if(result.info != "success"){
                                                                    $("#failedMessage").html(result.info);
                                                                    $("#failed").modal("show");
                                                                    $("#add-quest-button-submit-'.$subject["subjectID"].'").prop("disabled", false);
                                                                  }else{
                                                                    $(".modal").modal("hide");
                                                                    $("#successMessage").html("Berhasil di update");
                                                                    $("#success").modal("show");
                                                                    $("#success").on("hidden.bs.modal", function(){
                                                                        location.reload();
                                                                    });
                                                                  }
                                                                },
                                                                error: function(){
                                                                  alert("error in ajax form submission");
                                                                }
                                                            });
                                                        });
                                                    });
                                                </script>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <script>
                    $(document).ready(function(){
                        $("#form-edit-subject-'.$subject["subjectID"].'").on("submit", function (e) {
                            e.preventDefault();
                            $("#edit-subject-'.$subject["subjectID"].'-submit-button").prop("disabled", true);
                            $("#edit-subject-'.$subject["subjectID"].'-submit-button").html("menunggu <span class=\"spinner spinner-danger\"></span>");
                            var formData = new FormData(this);
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_course.php",
                                data: formData,
                                success: function (data) {
                                    var result = $.parseJSON(data);
                                    if(result.info != "success"){
                                        $("#failedMessage").html(result.info);
                                        $("#failed").modal("show");
                                        $("#edit-subject-'.$subject["subjectID"].'-submit-button").prop("disabled", false);
                                        $("#edit-subject-'.$subject["subjectID"].'-submit-button").html("Update");
                                    }else{
                                        $(".modal").modal("hide");
                                        $("#successMessage").html("Berhasil di update");
                                        $("#success").modal("show");
                                        $("#success").on("hidden.bs.modal", function(){
                                            location.reload();
                                        });
                                    }
                                },
                                error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });

                        $("#pdf-file-'.$subject["subjectID"].'").change(function() {
                            var file = this.files[0];
                            if(typeof(file) !== "undefined"){
                                var extension = file.name.split(".").pop().toLowerCase();
                                if(extension == "pdf"){
                                    $("#button-switch-pdf-'.$subject["subjectID"].'").removeClass("btn-outline-success").addClass("btn-success");
                                    var filename;
                                    if(file.name.length > 16){
                                        filename = file.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file.name;
                                    }
                                    $("#file-message-'.$subject["subjectID"].'").html(filename);
                                }else{
                                    $("#button-switch-pdf-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                    $("#file-message").html("No file chosen");
                                    alert("pdf file!");
                                }
                            }else{
                                $("#button-switch-pdf-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                $("#file-message-'.$subject["subjectID"].'").html("No file chosen");
                            }
                        });
                        function readURL(input) {
                            if (input.files && input.files[0]) {
                                var reader = new FileReader();

                                reader.onload = function (e) {
                                    $("#preview-img-'.$subject["subjectID"].'").attr("src", e.target.result);
                                }

                                reader.readAsDataURL(input.files[0]);
                            }
                        }
                        $(".thumbnail-image-'.$subject["subjectID"].'").change(function() {
                            var file = this.files[0];
                            if(typeof(file) !== "undefined"){
                                var extension = file.name.split(".").pop().toLowerCase();
                                if(jQuery.inArray(extension, ["png", "jpg", "jpeg"]) === -1){
                                    $("#button-switch-image-'.$subject["subjectID"].'").removeClass("btn-primary").addClass("btn-outline-primary");
                                    $("#image-message-'.$subject["subjectID"].'").html("No file chosen");
                                    alert("pdf file!");
                                }else{
                                    $("#button-switch-image-'.$subject["subjectID"].'").removeClass("btn-outline-primary").addClass("btn-primary");
                                    var filename;
                                    if(file.name.length > 16){
                                        filename = file.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file.name;
                                    }
                                    readURL(this);
                                    $("#image-message-'.$subject["subjectID"].'").html(filename);
                                }
                            }else{
                                $("#button-switch-image-'.$subject["subjectID"].'").removeClass("btn-primary").addClass("btn-outline-primary");
                                $("#image-message-'.$subject["subjectID"].'").html("No file chosen");
                            }
                        });
                        $("#vid-file-'.$subject["subjectID"].'").change(function() {
                            var file = this.files[0];
                            if(typeof(file) !== "undefined"){

                                var extension = file.name.split('.').pop().toLowerCase();

                                if(extension == "mp4" || extension == "3gp" || extension == "mov" || extension == "m4v"){

                                    $("#button-switch-vid-'.$subject["subjectID"].'").removeClass("btn-outline-success").addClass("btn-success");
                                    var filename;
                                    if(file.name.length > 16){
                                        filename = file.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file.name;
                                    }
                                    $("#video-message-'.$subject["subjectID"].'").html(filename);
                                }else{
                                    $("#button-switch-vid-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                    $("#video-message-'.$subject["subjectID"].'").html("No file chosen");
                                }
                            }else{

                                $("#button-switch-vid-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                $("#video-message-'.$subject["subjectID"].'").html("No file chosen");
                            }
                        });



                        $(".download-'.$subject["subjectID"].'").on("click", function(){
                            var link = this;
                            link.disabled = true;
                            $("#download-label-'.$subject["subjectID"].'").html("Downloading");
                            var formData = new FormData();
                            formData.append("download", "'.$subject["subjectID"].'");
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_course.php",
                                data: formData,
                                success: function (data) {
                                    link.disabled = false;
                                    $("#download-label-'.$subject["subjectID"].'").html("Download");
                                    $("#total-downloader-'.$subject["subjectID"].'").load("/handler/handler_jquery_course.php", {totalDownloader:'.$subject["subjectID"].'});
                            },
                            error: function(){
                                alert("error in ajax form submission");
                            }
                          });
                       });
                    });

                </script>


                ';
            }






        true_false_popup();
        echo '

    </body>



    ';
}

function Template_Focus_Category_Admin($title1, $title2, $data){
    $focusCategory = $data["focusCategory"];
    $listSubject = $focusCategory["subjectList"];
    $listCategory = $data["listCategory"];
    $listFocusCategory = $data["listFocusCategory"];
    echo '

    <body class="layout layout-header-fixed layout-sidebar-fixed">

        <div class="layout-header">';nav_bar($title1, $title2);echo'</div>
        <div class="layout-main">';sidebar(); echo '
            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <a href="/dashboard/materi" class="btn btn-link">
                                    <strong><h3 class="text-info"><span class="icon icon-arrow-circle-left"></span> Materi</h3></strong>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header bg-danger">
                            <div class="media">
                                <div class="media-middle media-left">
                                    <span class="my-color circle sq-48">
                                        <span class="icon icon-book"></span>
                                    </span>
                                </div>
                                <div class="media-middle media-body">
                                    <h4 class="media-heading">
                                        <a href="/dashboard/materi/bidang/category.php?fcategory='.$focusCategory["focusCategoryID"].'" style="color:white">
                                            <span class="icon icon-location-arrow"></span> '.$focusCategory["focusCategoryName"].'
                                        </a>
                                    </h4>

                                    <h5 class="media-heading">
                                        <span class="">'.sizeof($listSubject).'</span> Materi
                                    </h5>
                                </div>
                                <div class="media-right">';

                                if($focusCategory["showFocusCategory"] == 1){
                                    echo '
                                        <button class="btn btn-primary btn-xs btn-labeled pull-right" type="button">
                                            <span class="btn-label arrow-right arrow-outline-danger">
                                                <span class="icon icon-check"></span>
                                            </span>Ditampilkan
                                        </button>
                                    ';
                                }

                                echo '

                                    <span id="my-icon" class="bg-info circle sq-24 pull-right" data-toggle="modal"
                                      data-target="#edit-category-'.$focusCategory["focusCategoryID"].'">
                                          <span class="icon icon-edit"></span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row gutter-xs">';
                    subjectCard($listSubject);
                        echo '
                    </div>

                </div>
            </div>
        </div>


        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>

        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>';


                    // displaying popup subjectCard setting
            foreach ($listSubject as $subject) {


                echo '

                <div id="delete-'.$subject["subjectID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                    <div class="modal-dialog">
                        <div class="modal-content bg-primary">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">×</span>
                                    <span class="sr-only">Close</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="text-center">
                                    <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                    <h3 class="text-light">Hapus materi? ('.$subject["subjectName"].')</h3>
                                    <div class="m-t-lg">
                                        <button class="btn btn-danger" data-dismiss="modal" id="deleteSubject-'.$subject["subjectID"].'" type="button">Hapus</button>
                                        <script>
                                          $(document).ready(function(){
                                            $("#deleteSubject-'.$subject["subjectID"].'").on("click", function(e) {
                                                var subjectID = '.$subject["subjectID"].';
                                                var formData = new FormData();
                                                formData.append("deleteSubject", subjectID);

                                                $.ajax({
                                                      type: "POST",
                                                      processData: false,
                                                      contentType: false,
                                                      enctype: "multipart/form-data",
                                                      url: "/handler/handler_ajax_course.php",
                                                      data: formData,
                                                      success: function (data) {
                                                        var result = $.parseJSON(data);
                                                        if(result.info != "success"){
                                                          $(".modal").modal("hide");
                                                          $("#failedMessage").html(result.info);
                                                          $("#failed").modal("show");
                                                        }else{
                                                          $(".modal").modal("hide");
                                                          $("#successMessage").html("'.$title1.' berhasil dihapus");
                                                          $("#success").modal("show");
                                                          $("#success").on("hidden.bs.modal", function(){
                                                              location.reload();
                                                          });
                                                        }
                                                      },
                                                      error: function(){
                                                        alert("error in ajax form submission");
                                                      }
                                                  });
                                            });
                                          });
                                        </script>
                                        <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer"></div>
                        </div>
                    </div>
                </div>';

                $x = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
                if(!file_exists($_SERVER['DOCUMENT_ROOT'].$x)){
                    $subject["thumbnailImage"] = "/dashboard/drive/images/".$subject["thumbnailImage"];
                }else{
                    $subject["thumbnailImage"] = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
                }
                echo '
                <div class="modal fade" id="edit-'.$subject["subjectID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-primary">
                                <h4 class="modal-title">Edit <strong>('.$subject["subjectName"].')</strong>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </h4>
                            </div>
                            <div class="modal-body">
                                <div class="signup">
                                    <div class="signup-body">
                                        <div class="signup-form">
                                            <form action="" id="form-edit-subject-'.$subject["subjectID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                <input type="hidden" name="editSubject" value="">
                                                <input type="hidden" name="courseID" value="'.$subject["courseID"].'">
                                                <input type="hidden" name="editedBy" value="'.$_SESSION["username"].'">
                                                <input type="hidden" name="code-edit" value="'.$_SESSION["code"].'">
                                                <input type="hidden" name="subjectID" value="'.$subject["subjectID"].'">
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label id="button-switch-image-'.$subject["subjectID"].'" class="file-upload-btn btn btn-outline-primary">
                                                                <span class="icon icon-image"></span> Upload thumbnail
                                                                <input type="file" class="file-upload-input thumbnail-image-'.$subject["subjectID"].'" id="file" name="thumbnailImage" accept="image/*">
                                                            </label>
                                                            <div id="image-preview-div">
                                                                <strong><div id="image-message-'.$subject["subjectID"].'">No file chosen</div></strong>
                                                                <img id="preview-img-'.$subject["subjectID"].'" class="timeline-media img-rounded" width="220" height="80" style="object-fit: cover;"
                                                                src="'.$subject["thumbnailImage"].'">
                                                            </div>
                                                            <div id="message"></div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label id="button-switch-pdf-'.$subject["subjectID"].'" class="file-upload-btn btn btn-outline-success">
                                                                <span class="icon icon-works">&#97;</span> Upload materi
                                                                <input type="file" class="file-upload-input" id="pdf-file-'.$subject["subjectID"].'" name="subjectFile" accept="application/pdf">
                                                            </label>
                                                            <strong><div id="file-message-'.$subject["subjectID"].'">No file chosen</div></strong>
                                                        </div>
                                                        <div class="form-group">
                                                            <label id="button-switch-vid-'.$subject["subjectID"].'" class="file-upload-btn btn btn-outline-success">
                                                                <span class="icon icon-works">&#97;</span> Upload video
                                                                <input type="file" class="file-upload-input" id="vid-file-'.$subject["subjectID"].'" name="subjectVideo" accept="video/mp4, video/x-m4v, video/*">
                                                            </label>
                                                            <strong><div id="video-message-'.$subject["subjectID"].'">No file chosen</div></strong>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Judul</label>
                                                            <input class="form-control" type="text" name="subjectName" spellcheck="false" data-msg-required="masukan judul materi" required value="'.$subject["subjectName"].'">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Pilih Bidang</label>
                                                            <select id="form-control-6" class="form-control" name="categoryID">';

                                                            foreach ($listCategory as $c) {

                                                                if ($c["categoryID"] == $subject["categoryID"]){
                                                                    echo '<option value="'.$c["categoryID"].'" selected>'.$c["categoryName"].'</option>';
                                                                }else{
                                                                    echo '<option value="'.$c["categoryID"].'">'.$c["categoryName"].'</option>';
                                                                }
                                                            }
                                                            echo '

                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Pilih Focus Bidang</label>
                                                            <select id="form-control-6" class="form-control" name="focusCategoryID">';

                                                            foreach ($listFocusCategory as $fc) {

                                                                if ($fc["focusCategoryID"] == $subject["focusCategoryID"]){
                                                                    echo '<option value="'.$fc["focusCategoryID"].'" selected>'.$fc["focusCategoryName"].'</option>';
                                                                }else{
                                                                    echo '<option value="'.$fc["focusCategoryID"].'">'.$fc["focusCategoryName"].'</option>';
                                                                }
                                                            }
                                                            echo '

                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="short-text">Text thumbnail</label>
                                                            <textarea name="thumbnailText" class="form-control">'.nl2br($subject["thumbnailText"]).'</textarea>
                                                        </div>
                                                    </div>
                                                </div>


                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <button type="submit" id="edit-subject-'.$subject["subjectID"].'-submit-button" class="btn btn-primary">Update</button>
                                                </div>
                                            </form>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="add-quest-'.$subject["subjectID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-primary">
                                <h4 class="modal-title">Tambah pertanyaan untuk <strong>('.$subject["subjectName"].')</strong>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </h4>
                            </div>
                            <div class="modal-body">
                                <div class="signup">
                                    <div class="signup-body">
                                        <div class="signup-form">
                                            <form action="" id="add-quest-form-'.$subject["subjectID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                <div class="row gutter-xs">
                                                    <h5 class="text-warning"><span class="icon icon-warning"></span> Masukan pertanyaan</h5>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">

                                                            <input type="hidden" name="addQQuest" value="">
                                                            <input type="hidden" name="subjectID" value="'.$subject["subjectID"].'">
                                                            <input type="hidden" name="" value="'.$_SESSION["username"].'">

                                                            <textarea class="form-control" type="text" name="question" data-msg-required="masukan pertanyaan" required placeholder=""></textarea>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <h5 class="text-warning"><span class="icon icon-warning"></span> Pilih option yang akan digunakan sebagai kunci jawaban</h5>
                                                </div>

                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="a">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                a
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionA" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="b">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                b
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionB" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="c">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                c
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionC" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="d">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                d
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionD" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <button type="submit" id="add-quest-button-submit-'.$subject["subjectID"].'" class="btn btn-primary">Update</button>
                                                </div>
                                            </form>
                                                <script>
                                                    $(document).ready(function(){
                                                        $("#add-quest-form-'.$subject["subjectID"].'").on("submit", function (e) {
                                                            e.preventDefault();
                                                            $("#add-quest-button-submit-'.$subject["subjectID"].'").prop("disabled", true);
                                                            var formData = new FormData(this);
                                                            $.ajax({
                                                                type: "POST",
                                                                processData: false,
                                                                contentType: false,
                                                                enctype: "multipart/form-data",
                                                                url: "/handler/handler_ajax_course.php",
                                                                data: formData,
                                                                success: function (data) {
                                                                  var result = $.parseJSON(data);
                                                                  if(result.info != "success"){
                                                                    $("#failedMessage").html(result.info);
                                                                    $("#failed").modal("show");
                                                                    $("#add-quest-button-submit-'.$subject["subjectID"].'").prop("disabled", false);
                                                                  }else{
                                                                    $(".modal").modal("hide");
                                                                    $("#successMessage").html("Berhasil di update");
                                                                    $("#success").modal("show");
                                                                    $("#success").on("hidden.bs.modal", function(){
                                                                        location.reload();
                                                                    });
                                                                  }
                                                                },
                                                                error: function(){
                                                                  alert("error in ajax form submission");
                                                                }
                                                            });
                                                        });
                                                    });
                                                </script>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <script>
                    $(document).ready(function(){
                        $("#form-edit-subject-'.$subject["subjectID"].'").on("submit", function (e) {
                            e.preventDefault();
                            $("#edit-subject-'.$subject["subjectID"].'-submit-button").prop("disabled", true);
                            $("#edit-subject-'.$subject["subjectID"].'-submit-button").html("menunggu <span class=\"spinner spinner-danger\"></span>");
                            var formData = new FormData(this);
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_course.php",
                                data: formData,
                                success: function (data) {
                                    var result = $.parseJSON(data);
                                    if(result.info != "success"){
                                        $("#failedMessage").html(result.info);
                                        $("#failed").modal("show");
                                        $("#edit-subject-'.$subject["subjectID"].'-submit-button").prop("disabled", false);
                                        $("#edit-subject-'.$subject["subjectID"].'-submit-button").html("Update");
                                    }else{
                                        $(".modal").modal("hide");
                                        $("#successMessage").html("Berhasil di update");
                                        $("#success").modal("show");
                                        $("#success").on("hidden.bs.modal", function(){
                                            location.reload();
                                        });
                                    }
                                },
                                error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });

                        $("#pdf-file-'.$subject["subjectID"].'").change(function() {
                            var file = this.files[0];
                            if(typeof(file) !== "undefined"){
                                var extension = file.name.split(".").pop().toLowerCase();
                                if(extension == "pdf"){
                                    $("#button-switch-pdf-'.$subject["subjectID"].'").removeClass("btn-outline-success").addClass("btn-success");
                                    var filename;
                                    if(file.name.length > 16){
                                        filename = file.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file.name;
                                    }
                                    $("#file-message-'.$subject["subjectID"].'").html(filename);
                                }else{
                                    $("#button-switch-pdf-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                    $("#file-message").html("No file chosen");
                                    alert("pdf file!");
                                }
                            }else{
                                $("#button-switch-pdf-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                $("#file-message-'.$subject["subjectID"].'").html("No file chosen");
                            }
                        });
                        function readURL(input) {
                            if (input.files && input.files[0]) {
                                var reader = new FileReader();

                                reader.onload = function (e) {
                                    $("#preview-img-'.$subject["subjectID"].'").attr("src", e.target.result);
                                }

                                reader.readAsDataURL(input.files[0]);
                            }
                        }
                        $(".thumbnail-image-'.$subject["subjectID"].'").change(function() {
                            var file = this.files[0];
                            if(typeof(file) !== "undefined"){
                                var extension = file.name.split(".").pop().toLowerCase();
                                if(jQuery.inArray(extension, ["png", "jpg", "jpeg"]) === -1){
                                    $("#button-switch-image-'.$subject["subjectID"].'").removeClass("btn-primary").addClass("btn-outline-primary");
                                    $("#image-message-'.$subject["subjectID"].'").html("No file chosen");
                                    alert("pdf file!");
                                }else{
                                    $("#button-switch-image-'.$subject["subjectID"].'").removeClass("btn-outline-primary").addClass("btn-primary");
                                    var filename;
                                    if(file.name.length > 16){
                                        filename = file.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file.name;
                                    }
                                    readURL(this);
                                    $("#image-message-'.$subject["subjectID"].'").html(filename);
                                }
                            }else{
                                $("#button-switch-image-'.$subject["subjectID"].'").removeClass("btn-primary").addClass("btn-outline-primary");
                                $("#image-message-'.$subject["subjectID"].'").html("No file chosen");
                            }
                        });
                        $("#vid-file-'.$subject["subjectID"].'").change(function() {
                            var file = this.files[0];
                            if(typeof(file) !== "undefined"){

                                var extension = file.name.split('.').pop().toLowerCase();

                                if(extension == "mp4" || extension == "3gp" || extension == "mov" || extension == "m4v"){

                                    $("#button-switch-vid-'.$subject["subjectID"].'").removeClass("btn-outline-success").addClass("btn-success");
                                    var filename;
                                    if(file.name.length > 16){
                                        filename = file.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file.name;
                                    }
                                    $("#video-message-'.$subject["subjectID"].'").html(filename);
                                }else{
                                    $("#button-switch-vid-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                    $("#video-message-'.$subject["subjectID"].'").html("No file chosen");
                                }
                            }else{

                                $("#button-switch-vid-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                $("#video-message-'.$subject["subjectID"].'").html("No file chosen");
                            }
                        });



                        $(".download-'.$subject["subjectID"].'").on("click", function(){
                            var link = this;
                            link.disabled = true;
                            $("#download-label-'.$subject["subjectID"].'").html("Downloading");
                            var formData = new FormData();
                            formData.append("download", "'.$subject["subjectID"].'");
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_course.php",
                                data: formData,
                                success: function (data) {
                                    link.disabled = false;
                                    $("#download-label-'.$subject["subjectID"].'").html("Download");
                                    $("#total-downloader-'.$subject["subjectID"].'").load("/handler/handler_jquery_course.php", {totalDownloader:'.$subject["subjectID"].'});
                            },
                            error: function(){
                                alert("error in ajax form submission");
                            }
                          });
                       });
                    });

                </script>


                ';
            }






        true_false_popup();
        echo '

    </body>



    ';
}

function Template_Message_Admin($title1, $title2, $data){
    $listMessage = $data["listMessage"];
    echo '
    <body class="layout layout-header-fixed layout-sidebar-fixed">
        <div class="layout-header">';
            nav_bar($title1, $title2); echo '
        </div>
        <div class="layout-main">';
            sidebar();
            echo '

            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="col-md-9">
                            <div class="card">
                                <div class="card-header">
                                    <div class="messenger-content-header">
                                        <div class="messenger-content-header-inner">
                                            <div class="messenger-toolbar">
                                                <div class="messenger-toolbar-tools">
                                                    <div class="btn-group">
                                                        <button class="btn btn-link link-muted" title="Use wisely" data-container="body" data-trigger="hover" data-placement="bottom" data-toggle="tooltip" type="button">
                                                            <span class="icon icon-users icon-lg icon-fw"></span>Group Chat is Here !
                                                        </button>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body" id="scrolling" style="min-height:600px;max-height:600px; overflow-y:scroll">
                                    <li class="conversation-item" id="divider-button-load">
                                        <div class="divider">
                                            <div class="divider-content">
                                                <button id="load-more-message" class="btn btn-pill btn-default">Load more messages</button>
                                            </div>
                                        </div>
                                    </li>
                                    <div class="" id="layout-message">';
                                    // Template_Message($listMessage);
                                    Layout_List_Message_Admin($listMessage);

                                echo '
                                    </div>

                                </div>
                                <div class="card-footer bg-primary-inverse">
                                    <form action="" id="send-message" method="post" data-toggle="validator" enctype="multipart/form-data">

                                        <div class="messenger-compose">

                                            <div class="messenger-compose-actions">
                                                <div class="messenger-compose-action">
                                                    <label class="btn btn-link link-muted file-upload-btn">
                                                        <span id="input-messageImage-icon" class="icon icon-picture-o icon-lg"></span>
                                                        <input type="file" class="file-upload-input edit-file" id="input-messageImage" name="messageImage" accept="image/*">
                                                    </label>
                                                </div>
                                                <div class="messenger-compose-action">
                                                    <label class="btn btn-link link-muted file-upload-btn">
                                                        <span id="input-messageFile-icon" class="icon icon-file-o icon-lg"></span>
                                                        <input type="file" class="file-upload-input edit-file" id="input-messageFile" name="messageFile">
                                                    </label>
                                                </div>
                                                <div class="messenger-compose-action">
                                                    <button class="btn btn-link link-muted" type="button">
                                                        <span class="icon icon-smile-o icon-lg"></span>
                                                    </button>
                                                </div>
                                                <div class="messenger-compose-action">
                                                    <button class="btn btn-outline-info" id="button-send" type="submit">Send <span class="icon icon-arrow-circle-right"></span></button>

                                                </div>
                                            </div>
                                            <div class="messenger-compose-message">
                                                <input type="hidden" name="currentUser" value="'.$_SESSION["code"].'">
                                                <textarea class="messenger-compose-input" name="message" placeholder="Type a message..."></textarea>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>';

        true_false_popup();
        echo '
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese-message.js"></script>
        <script src="/template/js/richeese.js"></script>
    ';

        foreach ($listMessage as $message) {
            echo '

            <script>
                $("#conversation-message-'.$message["messageID"].'").on("click", function (e) {
                    e.preventDefault();
                    alert("what");
                });
            </script>

            ';
        }

    echo '</body>';
}

function Page_Certificate_Admin($title1, $title2, $data){
    echo '
    <body class="layout layout-header-fixed layout-sidebar-fixed">
        <div class="layout-header">';
            nav_bar($title1, $title2); echo '
        </div>
        <div class="layout-main">';
        sidebar();
            echo '
            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <form action="" data-toggle="validator" id="template-certificate-edit">
                            <input type="hidden" name="template-certificate-edit">
                            <input type="hidden" name="trashID" value="'.$data["trashID"].'">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label id="button-switch-image" class="file-upload-btn btn btn-outline-primary">

                                        <span class="icon icon-image"></span> Upload background
                                        <input type="file" class="file-upload-input edit-file" id="file" name="backgroundImage" accept="image/*">
                                    </label>
                                    <div id="image-preview-div">
                                        <strong><div id="image-message">No file chosen</div></strong>';
                                        if(strlen($data["backgroundImage"]) > 4){
                                            echo '<img id="preview-img" class="timeline-media img-rounded resize-img3" style="object-fit: cover;"
                                        src="/dashboard/drive/images/'.$data["backgroundImage"].'">';
                                        }else{


                                        echo '
                                        <img id="preview-img" class="timeline-media img-rounded resize-img3" style="object-fit: cover;"
                                        src="/dashboard/drive/images/default.jpg">';
                                        }echo
                                        '
                                    </div>
                                    <div id="message"></div>
                                </div>
                            </div>';
                $n = 1;
                unset($data["backgroundImage"], $data["trashID"]);
                foreach ($data as $x) {

                    echo '
                            <div class="row gutter-xs">
                                <div class="col-sm-7">
                                    <div class="form-group">
                                        <label for="">text-'.$n.'</label>
                                        <textarea id="biography-1" class="form-control" name="x'.$n.'" rows="3" required="" aria-required="true">'.$x.'</textarea>

                                    </div>
                                </div>
                            </div>



                    '; $n++;
                }echo '
                            <div class="row gutter-xs">

                                <div class="col-sm-7">


                                    <a href="/dashboard/certificate/preview-tC.php?username='.$_SESSION["username"].'" class="btn btn-outline-danger btn-xs btn-labeled pull-right" type="button">

                                        preview
                                        <span class="btn-label btn-label-right">
                                            <span class="icon icon-search icon-lg icon-fw"></span>
                                        </span>
                                    </a>

                                    <span class="pull-right">&nbsp;&nbsp;&nbsp;&nbsp;</span>

                                    <button class="btn btn-outline-danger btn-xs btn-labeled pull-right" type="submit" id="editMe">

                                        save
                                        <span class="btn-label btn-label-right">
                                            <span class="icon icon-save icon-lg icon-fw"></span>
                                            <span class="spinner spinner-danger spinner-xs icon-fw hidden" id="save-icon"></span>
                                        </span>
                                    </button>

                                </div>
                            </div>
                        </form>


                    </div>
                </div>
            </div>
        </div>
    </body>
    <script src="/template_vendor/js/vendor.min.js"></script>
    <script src="/template_vendor/js/elephant.min.js"></script>
    <script src="/template_vendor/js/application.min.js"></script>
    <script src="/template_vendor/js/demo.min.js"></script>
    <script src="/template_vendor/js/image-upload.js"></script>
    <script src="/template/js/richeese.js"></script>';
    true_false_popup();
}

// ##################################################################################################
// Template Global

function Dashboard_globalPage($title1, $title2, $listQuestion, $profile_pg){
    echo '
        <body class="spinner spinner-primary spinner-lg">';

        global_navbar();
    echo '
            <div class="masthead">
                <div class="masthead-inner">
                    <div class="container">
                        <div class="row gutter-xs">';
                        if($_SESSION["type"] == 4){
                            echo '
                            <div class="col-md-4">';
                                my_question($listQuestion);
                                echo '
                            </div>';

                        }
                        echo '
                            <div class="col-md-7">';
                                my_statistic($profile_pg);
                            echo '

                            </div>

                        </div>


                        <div class="row gutter-xs">


                        </div>
                    </div>
                </div>
            </div>


        </body>
    ';


    echo '
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>


    ';
}

function Template_Dashboard_Global($title1, $title2, $data){
    $listMcourse = $data["mcourseList"];
    $allSubject = $data["allSubject"];
    $listCategory = $data["listCategory"];
    $listMShelter = $data["listMShelter"];
    $listCarousel = $data["listCarousel"];
    $listInformation = $data["listInformation"];
    $backgroundcolor = "";
    foreach ($listMShelter as $key => $value) {
        if($value["showMShelter"] == 0){
            unset($listMShelter[$key]);
        }
    }
    echo '
        <body class="spinner spinner-primary spinner-lg">';
        dont_know_whatdeheck();
        global_navbar();
    echo '
        <div class="masthead">
            <div class="masthead-inner">

                <div class="container">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header my-color">
                                <strong>Learning Center</strong>
                            </div>
                            <div class="card-body" style="background-color:">
                                <a href="/dashboard/event" class="btn btn-pill btn-xs btn-outline-primary"><span class="icon icon-calendar"></span> Event</a>
                                <a href="/dashboard/materi" class="btn btn-pill btn-xs btn-outline-primary"><span class="icon icon-book"></span> Materi</a>
                                <a href="/dashboard/message" class="btn btn-pill btn-xs btn-outline-primary"><span class="icon icon-works">N</span> Message</a>
                                <a href="/dashboard/notification" class="btn btn-pill btn-xs btn-outline-primary"><span class="icon icon-exclamation-circle"></span> Notification <span class="badge" style="background-color:#00FFFF;color:gray">'.sizeof($listInformation).'</span>
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-body">';
                                if(sizeof($listCarousel) > 0){
                                    Layout_Cool_Carousel_Global($listCarousel, $allSubject, $listCategory, $listMShelter);
                                }echo '  
                            </div>
                            <div class="card-footer my-color">
                                <strong>Learning Center</strong>
                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">';
                        categoryRecomendCard($listCategory);
                        echo '
                    </div>
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header" style="background-color:#FFF8DC;">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <strong><h4><span class="icon icon-book"></span> Rekomendasi Fokus Jabatan</h4></strong>
                            </div>
                            <div class="card-body">';
                                if(sizeof($listMShelter) == 0){
                                    echo "<label>Kosong</label>";
                                }else{
                                    echo '
                                        <div class="col-md-4 col-xs-12 md-form-group md-label-floating">
                                            <label>Pilih Fokus Jabatan</label>
                                            <select id="form-control-6" class="md-form-control wkwk-land"; padding-left:5px;border-radius:5px;">';
                                                foreach ($listMShelter as $mshelter) {
                                                    if($mshelter["showMShelter"] == 1){
                                                        echo '<option value="/dashboard/materi/shelter/?mshelterID='.$mshelter["mshelterID"].'">'.$mshelter["mshelterName"].'</option>';
                                                    }
                                                } echo '
                                            </select>
                                        </div>';
                                }
                                echo'
                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header" style="background-color:#FFF8DC;">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <strong><h4><span class="icon icon-book"></span> Kategori Materi</h4></strong>
                            </div>
                            <div class="card-body">
                                <div class="row gutter-xs">
                                    <div class="form-group col-md-5">
                                        <input id="myInput" class="form-control" spellcheck="false" type="text" placeholder="Search..">
                                    </div>
                                </div>
                                <div class="row gutter-xs" style="height:500px;overflow-y:scroll">
                                    <div id="listCourse">';
                                        mcourseListGlobal($listMcourse);echo '
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>


            <script src="/template_vendor/js/vendor.min.js"></script>
            <script src="/template_vendor/js/elephant.min.js"></script>
            <script src="/template_vendor/js/application.min.js"></script>
            <script src="/template_vendor/js/demo.min.js"></script>
            <script src="/template_vendor/js/landing-page.min.js"></script>
            <script type="text/javascript">
                $(document).ready(function() {
                    $("#introduction").modal("show");

                    $("#myInput").on("keyup", function() {
                        var value = $(this).val().toLowerCase();
                        $("#listCourse .eachCourse").filter(function() {
                            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                        });
                    });


                    $(".wkwk-land").click(function(){
                        var open = $(this).data("isopen");
                        if(open){
                            window.location.href = $(this).val()
                        }
                        $(this).data("isopen", !open);
                    });
                });
            </script>

        </body>
    ';
}

function Template_Dashboard_Global1($title1, $title2, $data){
    $listMcourse = $data["mcourseList"];
    $allSubject = $data["allSubject"];
    $listCategory = $data["listCategory"];
    $listMShelter = $data["listMShelter"];
    $listCarousel = $data["listCarousel"];
    $backgroundcolor = "";
    foreach ($listMShelter as $key => $value) {
        if($value["showMShelter"] == 0){
            unset($listMShelter[$key]);
        }
    }
    echo '
        <body class="spinner spinner-primary spinner-lg">';
        dont_know_whatdeheck();
        global_navbar();
    echo '
        <div class="masthead">
            <div class="masthead-inner">

                <div class="container">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header my-color">
                                <strong>Learning Center</strong>
                            </div>
                            <div class="card-body" style="background-color:">
                                <a href="/dashboard/event" class="btn btn-pill btn-lg btn-outline-primary"><span class="icon icon-calendar"></span> Event</a>
                                <a href="/dashboard/materi" class="btn btn-pill btn-lg btn-outline-primary"><span class="icon icon-book"></span> Materi</a>
                                <a href="/dashboard/message" class="btn btn-pill btn-lg btn-outline-primary"><span class="icon icon-works">N</span> Message</a>
                                <a href="/dashboard/notification" class="btn btn-pill btn-lg btn-outline-primary"><span class="icon icon-exclamation-circle"></span> Notification</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row gutter-xs">';
                    if(sizeof($listCarousel) > 0){
                        Layout_Cool_Carousel_Global($listCarousel, $allSubject, $listCategory, $listMShelter);
                    }

                    echo '
                    </div>
                    <div class="row gutter-xs">';
                        categoryRecomendCard($listCategory);
                        echo '
                    </div>
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header bg-crimson">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-reload" title="Reload"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <strong><h4 class="" style="color:white"><span class="icon icon-book"></span> Rekomendasi Fokus Jabatan</h4></strong>
                            </div>
                            <div class="card-body" style="background-color:#FFEBCD">';
                            if(sizeof($listMShelter) == 0){
                                echo "<label>Kosong</label>";
                            }else{

                                echo '
                                <form action="" id="demo-inputmask" class="form-edit-user" method="post" data-toggle="validator" enctype="multipart/form-data">

                                    <div class="md-form-group md-label-floating" style="width:50%">

                                        <select id="form-control-6" class="md-form-control wkwk-land text-white" style="background-color:#990000; padding-left:5px;border-radius:5px;">';
                                            foreach ($listMShelter as $mshelter) {
                                                if($mshelter["showMShelter"] == 1){
                                                    echo '<option value="/dashboard/materi/shelter/?mshelterID='.$mshelter["mshelterID"].'">'.$mshelter["mshelterName"].'</option>';
                                                }
                                            }echo '

                                        </select>
                                        <label class="md-control-label" style="color:black">Pilih Fokus Jabatan</label>
                                    </div>

                                </form>';
                            }
                                echo'
                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header bg-crimson">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-reload" title="Reload"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <strong><h4 class="" style="color:white"><span class="icon icon-book"></span> Kategori Materi</h4></strong>
                            </div>
                            <div class="card-body">
                                <div class="row gutter-xs">
                                    <div class="form-group col-md-5">
                                        <input id="myInput" class="form-control" spellcheck="false" type="text" placeholder="Search..">
                                    </div>
                                </div>
                                <div class="row gutter-xs" style="height:500px;overflow-y:scroll">
                                    <div id="listCourse">';
                                        mcourseList($listMcourse);echo '
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


            <script src="/template_vendor/js/vendor.min.js"></script>
            <script src="/template_vendor/js/elephant.min.js"></script>
            <script src="/template_vendor/js/application.min.js"></script>
            <script src="/template_vendor/js/demo.min.js"></script>
            <script src="/template_vendor/js/landing-page.min.js"></script>
            <script type="text/javascript">
                $(document).ready(function() {
                    $("#introduction").modal("show");

                    $("#myInput").on("keyup", function() {
                        var value = $(this).val().toLowerCase();
                        $("#listCourse .eachCourse").filter(function() {
                            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                        });
                    });


                    $(".wkwk-land").click(function(){
                        var open = $(this).data("isopen");
                        if(open){
                            window.location.href = $(this).val()
                        }
                        $(this).data("isopen", !open);
                    });
                });
            </script>

        </body>
    ';
}

function Template_Dashboard_n_Course_Global_L1($title1, $title2, $data){
    $listMcourse = $data["mcourseList"];
    $allSubject = $data["allSubject"];
    $listCategory = $data["listCategory"];
    $listMShelter = $data["listMShelter"];
    $listInformation = $data["listInformation"];
    foreach ($listMShelter as $key => $value) {
        if($value["showMShelter"] == 0){
            unset($listMShelter[$key]);
        }
    }
    echo '
        <body class="spinner spinner-primary spinner-lg">';
        global_navbar();
    echo '
        <div class="masthead">
            <div class="masthead-inner">
                <div class="container">
                    <div class="row gutter-xs">';
                        Layout_the_top_menu_global($listInformation);
                        echo '
                    </div>
                    <div class="row gutter-xs">
                        <a class="btn btn-pill" href="/dashboard/materi/history-read/">
                            <h4><span class="icon icon-history"></span> History Membaca</h4>
                        </a>
                    </div>
                    <div class="row gutter-xs">';
                        categoryRecomendCard($listCategory);
                        echo '
                    </div>
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header" style="background-color:#FFF8DC;">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <strong><h4><span class="icon icon-book"></span> Rekomendasi Fokus Jabatan</h4></strong>
                            </div>
                            <div class="card-body">';
                                if(sizeof($listMShelter) == 0){
                                    echo "<label>Kosong</label>";
                                }else{
                                    echo '
                                        <div class="col-md-4 col-xs-12 md-form-group md-label-floating">
                                            <label>Pilih Fokus Jabatan</label>
                                            <select id="form-control-6" class="md-form-control wkwk-land"; padding-left:5px;border-radius:5px;">';
                                                foreach ($listMShelter as $mshelter) {
                                                    if($mshelter["showMShelter"] == 1){
                                                        echo '<option value="/dashboard/materi/shelter/?mshelterID='.$mshelter["mshelterID"].'">'.$mshelter["mshelterName"].'</option>';
                                                    }
                                                } echo '
                                            </select>
                                        </div>';
                                }
                                echo'
                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header" style="background-color:#FFF8DC;">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <strong><h4><span class="icon icon-book"></span> Kategori Materi</h4></strong>
                            </div>
                            <div class="card-body">
                                <div class="row gutter-xs">
                                    <div class="form-group col-md-5">
                                        <input id="myInput" class="form-control" spellcheck="false" type="text" placeholder="Search..">
                                    </div>
                                </div>
                                <div class="row gutter-xs" style="height:500px;overflow-y:scroll">
                                    <div id="listCourse">';
                                        mcourseListGlobal($listMcourse);echo '
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


            <script src="/template_vendor/js/vendor.min.js"></script>
            <script src="/template_vendor/js/elephant.min.js"></script>
            <script src="/template_vendor/js/application.min.js"></script>
            <script src="/template_vendor/js/demo.min.js"></script>
            <script src="/template_vendor/js/landing-page.min.js"></script>
            <script type="text/javascript">
                $(document).ready(function() {
                    $("#myInput").on("keyup", function() {
                        var value = $(this).val().toLowerCase();
                        $("#listCourse .eachCourse").filter(function() {
                            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                        });
                    });
                    $(".wkwk-land").click(function(){
                        var open = $(this).data("isopen");
                        if(open){
                            window.location.href = $(this).val()
                        }
                        $(this).data("isopen", !open);
                    });
                    var today = new Date();
                    var dd = today.getDate();
                    var mm = today.getMonth()+1; //January is 0!
                    var yyyy = today.getFullYear();
                    if(dd<10) {
                        dd="0"+dd
                    }

                    if(mm<10) {
                        mm="0"+mm
                    }

                    today = mm+"/"+dd+"/"+yyyy;
                    var myVar=setInterval(function(){myTimer()},1000);

                    function myTimer() {
                        var d = new Date();
                        document.getElementById("realtimeTime").innerHTML = d.toLocaleTimeString();
                    }
                });
            </script>

        </body>
    ';
}

function Template_Setting_Global($title1, $title2, $data){
    $userData = $data["userData"];
    echo '
        <body class="spinner spinner-primary spinner-lg">';

        global_navbar();
    echo '
        <div class="masthead" style="text-align:left;" >
            <div class="masthead-inner">
                <div class="container">
                    <div class="col-md-6">
                        <form data-toggle="validator" id="form-self-edit-account" data-groups=\'{"birthdate": "birth_month birth_day birth_year"}\'>
                            <input type="hidden" name="userID" value="'.$userData["userID"].'">
                            <input type="hidden" name="self-global-editAccountProfile" value="'.$userData["userID"].'">
                            
                            <div class="row gutter-xs">
                                <div class="col-sm-5 col-xs-5">
                                    
                                    <div class="form-group">
                                        <button class="btn btn-outline-info" id="button-user-image">
                                            Upload foto <span class="icon icon-image"></span>
                                            <input type="file" class="file-upload-input edit-file" id="input-user-image" name="profileImage" accept="image/*">
                                        </button>
                                        <div id="image-preview-div">
                                            <label for="exampleInputFile">Selected image:</label><br>
                                            <img id="edit-account-image" class="timeline-media img-rounded" width="150" height="150" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$userData["image"].'">
                                        </div>
                                        <div id="message"></div>
                                    </div>
                                </div>

                                <div class="col-sm-7 col-xs-7">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="Username">Username</label>
                                            <input class="form-control" type="text" name="username" spellcheck="false" autocomplete="off" minlength="6" data-msg-minlength="username minimal 6 characters atau lebih." data-msg-required="Please enter your username." value="'.$userData["username"].'" required>
                                        </div>
                                    </div>

                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="password">Password</label>
                                            <input class="form-control" type="password" value="'.$userData["password"].'" name="password" minlength="6" data-msg-minlength="Password must be 6 characters or more." data-msg-required="Please enter your password." required>
                                            <small class="help-block">6-character minimum; case sensitive.</small>
                                        </div>
                                    </div>

                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="email">Email</label>
                                            <input class="form-control" type="email" name="email" spellcheck="false" autocomplete="off" data-msg-required="Please enter your email address." value="'.$userData["email"].'" required>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="first-name">First name</label>
                                        <input class="form-control" type="text" name="firstName" spellcheck="false" data-msg-required="Please enter your first name." minlength="4" data-msg-minlength="nama depan minimal 4 characters atau lebih." required value="'.$userData["firstName"].'">
                                    </div>
                                </div>
                            </div>

                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="last-name">Last name</label>
                                        <input class="form-control" type="text" name="lastName" spellcheck="false" data-msg-required="Please enter your last name." minlength="4" data-msg-minlength="nama belakang minimal 4 characters atau lebih." required value="'.$userData["lastName"].'">
                                    </div>
                                </div>
                            </div>

                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="gender">Gender</label>
                                        <select class="custom-select" name="gender" data-msg-required="Please indicate your gender." form="form-self-edit-account" required>';
                                            if($userData["gender"] == "Laki-Laki" || $userData["gender"] == "1"){
                                                echo '
                                                <option value="Laki-Laki" selected="selected">Laki-Laki</option>
                                                <option value="Perempuan">Perempuan</option>';
                                            }else if($userData["gender"] == "Perempuan"|| $userData["gender"] == "2"){
                                                echo '
                                                <option value="Laki-Laki">Laki-Laki</option>
                                                <option value="Perempuan" selected="selected">Perempuan</option>
                                                ';
                                            }echo '

                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="phone">Nomor HP</label>
                                        <input class="form-control" type="text" name="phone" spellcheck="false" autocomplete="off" data-msg-required="Please enter your nip." value="'.$userData["phone"].'" required>
                                    </div>
                                </div>
                            </div>

                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="whatsapp">Whatsapp</label>
                                        <input class="form-control" type="text" name="whatsapp" spellcheck="false" autocomplete="off" data-msg-required="Please enter your nip." value="'.$userData["whatsapp"].'" required>
                                    </div>
                                </div>
                            </div>

                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="tempat">Tempat Kelahiran</label>
                                        <input class="form-control" type="text" name="tempat" spellcheck="false" autocomplete="off" data-msg-required="Please enter your place." value="'.$userData["tempat"].'" required>
                                    </div>
                                </div>
                            </div>

                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="birth-month">Tanggal Lahir</label>
                                        <div class="row gutter-xs">
                                            <div class="col-xs-6">
                                                <div class="form-group">
                                                    <select id="birth-month" class="custom-select" name="birthMonth" data-msg-required="Please enter your birthday." required aria-required="true">';
                                                        foreach (birthMonth() as $n => $month) {
                                                            $temp = int_to_month($userData["birthMonth"]);
                                                            if($temp == $month){
                                                                echo '<option value="'.$n.'" selected>'.$month.'</option>';
                                                            }else{
                                                                echo '<option value="'.$n.'">'.$month.'</option>';
                                                            }

                                                        }

                                                            echo '
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-xs-3">
                                                <div class="form-group">
                                                    <input id="birth-day" class="form-control" type="number" name="birthDay" placeholder="Day" min="1" max="31" data-msg-min="Please enter a valid day of the month." data-msg-max="Please enter a valid day of the month." data-msg-required="Please enter your birthday." required="" aria-required="true" value="'.$userData["birthDay"].'">
                                                </div>
                                            </div>
                                            <div class="col-xs-3">
                                                <div class="form-group">
                                                    <input id="birth-year" class="form-control" type="number" name="birthYear" placeholder="Year" min="1900" max="2017" data-msg-min="Please enter a valid year." data-msg-max="Please enter a valid year." data-msg-required="Please enter your birthday." required="" aria-required="true" value="'.$userData["birthYear"].'">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="nip">NIP</label>
                                        <input class="form-control" type="text" name="nip" spellcheck="false" autocomplete="off" data-msg-required="Please enter your nip." value="'.$userData["nip"].'" required>
                                    </div>
                                </div>
                            </div>

                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="golongan">Pangkat/Golongan</label>
                                        <input class="form-control" type="text" name="golongan" spellcheck="false" autocomplete="off" data-msg-required="Please enter your golongan." value="'.$userData["golongan"].'" required>
                                    </div>
                                </div>
                            </div>

                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="jabatan">Jabatan</label>
                                        <input class="form-control" type="text" name="jabatan" spellcheck="false" autocomplete="off" data-msg-required="Please enter your jabatan." value="'.$userData["jabatan"].'" required>
                                    </div>
                                </div>
                            </div>

                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="unitKerja">Unit Kerja</label>
                                        <input class="form-control" type="text" name="unitKerja" spellcheck="false" autocomplete="off" data-msg-required="Please enter your unitKerja." value="'.$userData["unitKerja"].'" required>
                                    </div>
                                </div>
                            </div>

                            <div class="row gutter-xs">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="instansi">Instansi</label>
                                        <input class="form-control" type="text" name="instansi" spellcheck="false" autocomplete="off" data-msg-required="Please enter your instansi." value="'.$userData["instansi"].'" required>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-12 text-right">
                                <button type="submit" id="submit-button-self-edit-account" class="btn btn-success">Update</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        ';

    true_false_popup();
    echo '
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese-changing-display.js"></script>


        </body>
    

    ';
}

function Template_Information_Global($title1, $title2, $data){
    $informationList = $data["informationList"];
        echo '

        <body class="spinner spinner-primary spinner-lg">';
            dont_know_whatdeheck();
            global_navbar();
            echo '
            <div class="masthead">
                <div class="masthead-inner">
                    <div class="container">
                        <div class="row gutter-xs">';
                            Layout_the_top_menu_global($informationList);
                            echo '
                        </div>
                        <div class="row gutter-xs">';
                        Layout_information_global($informationList);
                        echo '
                        </div>
                    </div>
                </div>
            </div>';

            
            true_false_popup();
            echo '
            <script src="/template_vendor/js/vendor.min.js"></script>
            <script src="/template_vendor/js/elephant.min.js"></script>
            <script src="/template_vendor/js/application.min.js"></script>
            <script src="/template_vendor/js/demo.min.js"></script>
            <script src="/template_vendor/js/landing-page.min.js"></script>
            <script src="/template/js/richeese-global.js"></script>
            <script>
                $(document).ready(function(){
                });
            </script>
        </body>


    ';
}

function Template_Event_Global($title1, $title2, $data){

    $eventSch = $data["eventSch"];
    $allEvent = $data["eventSch"]["allEvent"];
    $onGoingEvent = $data["eventSch"]["onGoingEvent"];
    $waitingEvent = $data["eventSch"]["waitingEvent"];
    $expiredEvent = $data["eventSch"]["expiredEvent"];
    $self = $data["self"];
    $followedEvents = $data["followedEvents"];
    
    $listInformation = $data["listInformation"];

    echo '
        <body class="spinner spinner-primary spinner-lg">';
            dont_know_whatdeheck();
            global_navbar();
            echo '
            <div class="masthead">
                <div class="masthead-inner">

                    <div class="container">
                        <div class="row gutter-xs">';
                            Layout_the_top_menu_global($listInformation);
                            echo'
                        </div>
                        <div class="row gutter-xs">
                            <div class="card">
                                <div class="card-header" style="background-color:#FFF8DC;">
                                    <div class="row gutter-xs">
                                        <a href="#listEvent" data-toggle="tab" class="active in btn btn-pill btn-lg bg-primary"><span class="icon icon-calendar"></span> List Event</a>
                                        <a href="#followedEvent" data-toggle="tab" class="btn btn-pill btn-lg bg-primary"><span class="icon icon-calendar"></span> Event Diikuti</a>    
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="tab-content">
                                        <div id="listEvent" class="row gutter-xs tab-pane fade active in">
                                            <ul class="nav nav-tabs bg-primary">';
                                                echo '
                                                <li class="active">
                                                    <a href="#event-0" class="active" data-toggle="tab">
                                                        <button class="btn btn-xs btn-pill" type="button"><span class="icon icon-calendar"></span> '.sizeof($onGoingEvent).' event berlangung</button>
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="#event-1" data-toggle="tab">
                                                        <button class="btn btn-xs btn-pill" type="button"><span class="icon icon-calendar"></span> '.sizeof($waitingEvent).' event menunggu</button>
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="#event-2" data-toggle="tab">
                                                        <button class="btn btn-xs btn-pill" type="button"><span class="icon icon-calendar"></span> '.sizeof($expiredEvent).' event selesai</button>
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="#event-3" data-toggle="tab">
                                                        <button class="btn btn-xs btn-pill" type="button"><span class="icon icon-calendar"></span> '.sizeof($allEvent).' event total</button>
                                                    </a>
                                                </li>
                                            </ul>
                                            <div class="tab-content" style="min-height:500px;">
                                                <div class="tab-pane fade active in" id="event-0" style="width:100%;">';
                                                    layout_event_global($onGoingEvent);
                                                    echo '
                                                </div>
                                                <div class="tab-pane fade" id="event-1">';
                                                    layout_event_global($waitingEvent);
                                                    echo '
                                                </div>
                                                <div class="tab-pane fade" id="event-2">';
                                                    layout_event_global($expiredEvent);
                                                    echo '
                                                </div>
                                                <div class="tab-pane fade" id="event-3">';
                                                    layout_event_global($allEvent);
                                                    echo '
                                                </div>
                                            </div>
                                        </div>
                                        <div id="followedEvent" class="row gutter-xs tab-pane fade">
                                            <div class="">';
                                                layout_followed_event($followedEvents);
                                                echo '

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>';

            foreach ($allEvent as $event) {
                echo '

                    <div class="modal fade" id="modal-global-self-registerEvent-'.$event["eventID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content" style="background-color:#FFEBCD">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal">
                                        <span aria-hidden="true">×</span>
                                        <span class="sr-only">Close</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="text-center">
                                        <form action="" class="form-global-self-registerEvent-'.$event["eventID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                            <input type="hidden" name="global-self-RegisterEvent" value="">
                                            <input type="hidden" name="joinedBy" value="'.$_SESSION["username"].'">
                                            <input type="hidden" name="code-join" value="'.$_SESSION["code"].'">
                                            <input type="hidden" name="username" value="'.$self["username"].'">
                                            <input type="hidden" name="nip" value="'.$self["nip"].'">
                                            <input type="hidden" name="userID" value="'.$self["userID"].'">
                                            <input type="hidden" name="eventID" value="'.$event["eventID"].'">
                                            <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                            <h3 class="text-light">Register Event ('.$event["eventName"].') ?</h3>
                                            <div class="m-t-lg">
                                                <button class="btn btn-danger" data-dismiss="modal" type="button">Batal</button>
                                                <button type="submit" id="global-self-registerEvent-submit-button-'.$event["eventID"].'" class="btn btn-success">Register</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
               ';
            }

            foreach ($followedEvents as $event) {
                echo '

                    <div class="modal fade" id="modal-global-self-cancelEvent-'.$event["eventID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content bg-danger">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal">
                                        <span aria-hidden="true">×</span>
                                        <span class="sr-only">Close</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="text-center">
                                        <form action="" class="form-global-self-cancelEvent-'.$event["eventID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                            <input type="hidden" name="global-self-CancelEvent" value="">
                                            <input type="hidden" name="canceledBy" value="'.$_SESSION["username"].'">
                                            <input type="hidden" name="code-cancel" value="'.$_SESSION["code"].'">
                                            <input type="hidden" name="username" value="'.$self["username"].'">
                                            <input type="hidden" name="nip" value="'.$self["nip"].'">
                                            <input type="hidden" name="userID" value="'.$self["userID"].'">
                                            <input type="hidden" name="eventID" value="'.$event["eventID"].'">
                                            <input type="hidden" name="registrationCode" value="'.$event["registrationCode"].'">

                                            <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                            <h3 class="text-light">Membatalkan bergabung dengan Event ('.$event["eventName"].') ?</h3>

                                            <div class="m-t-lg">

                                                <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                                <button type="submit" id="global-self-cancelEvent-submit-button-'.$event["eventID"].'" class="btn btn-primary">Submit</button>

                                            </div>
                                        </form>

                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <input style="opacity:0" id="i-am-here-'.$event["eventID"].'" value="'.$event["registrationCode"].'">

                ';
            }
            true_false_popup();
            echo '
            <script src="/template_vendor/js/vendor.min.js"></script>
            <script src="/template_vendor/js/elephant.min.js"></script>
            <script src="/template_vendor/js/application.min.js"></script>
            <script src="/template_vendor/js/demo.min.js"></script>
            <script src="/template_vendor/js/landing-page.min.js"></script>
            <script src="/template/js/richeese-global.js"></script>
            <script>
                $(document).ready(function(){';

                    foreach ($allEvent as $event) {
                        echo '

                            $(".form-global-self-registerEvent-'.$event["eventID"].'").on("submit", function(e) {
                                e.preventDefault();
                                $("#global-self-registerEvent-submit-button-'.$event["eventID"].'").prop("disabled", true);
                                $("#global-self-registerEvent-submit-button-'.$event["eventID"].'").html(\'menunggu <span class="spinner spinner-danger"></span>\');

                                var formData = new FormData(this);
                                $.ajax({
                                    type: "POST",
                                    processData: false,
                                    contentType: false,
                                    enctype: "multipart/form-data",
                                    url: "/handler/handler_ajax_event.php",
                                    data: formData,
                                    success: function (data) {
                                        var result = $.parseJSON(data);
                                        if(result.info != "success"){
                                            $("#failedMessage").html(result.info);
                                            $("#failed").modal("show");
                                            $("#global-self-registerEvent-submit-button-'.$event["eventID"].'").prop("disabled", false);
                                            $("#global-self-registerEvent-submit-button-'.$event["eventID"].'").html("Register");

                                        }else{
                                            $(".modal").modal("hide");
                                            $("#successMessage").html("Berhasil Registrasi<br><span class=\'icon icon-exclamation-circle\'></span> silahkan lengkapi berkas pada menu Event Diikuti");
                                            $("#success").modal("show");
                                            $("#success").on("hidden.bs.modal", function(){
                                                location.reload();
                                            });
                                        }
                                    },error: function(){
                                        alert("error in ajax form submission");
                                    }
                                });
                            });


                        ';
                    }


                    foreach ($followedEvents as $event) {
                        echo '

                        $(".form-global-self-cancelEvent-'.$event["eventID"].'").on("submit", function(e) {
                            e.preventDefault();
                            $("#global-self-cancelEvent-submit-button-'.$event["eventID"].'").prop("disabled", true);
                            $("#global-self-cancelEvent-submit-button-'.$event["eventID"].'").html(\'menunggu <span class="spinner spinner-danger"></span>\');

                            var formData = new FormData(this);
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_event.php",
                                data: formData,
                                success: function (data) {
                                    var result = $.parseJSON(data);
                                    if(result.info != "success"){
                                        $("#failedMessage").html(result.info);
                                        $("#failed").modal("show");
                                        $("#global-self-cancelEvent-submit-button-'.$event["eventID"].'").prop("disabled", false);
                                        $("#global-self-cancelEvent-submit-button-'.$event["eventID"].'").html("Submit");
                                    }else{
                                        $(".modal").modal("hide");
                                        $("#successMessage").html("Berhasil Keluar dari Event");
                                        $("#success").modal("show");
                                        $("#success").on("hidden.bs.modal", function(){
                                            location.reload();
                                        });
                                    }
                                },error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });

                        $("#click-me-'.$event["registrationCode"].'").on("click", function(e) {
                            var copyText = document.getElementById("i-am-here-'.$event["eventID"].'")
                            copyText.select();
                            copyText.setSelectionRange(0, 99999);
                            document.execCommand("copy");
                            alert("Copied The Registration-ID: " + copyText.value);

                        });

                        ';
                    }

                    echo '
                });
            </script>
        </body>
    ';
}

function Template_Event_Detail_Global($title1, $title2, $data){
    $event = $data["event"];
    $fileGlobalList = $data["fileGlobalList"];
    $listInformation = $data["listInformation"];
    $QRCODE = "https://chart.googleapis.com/chart?chs=300x300&cht=qr&chl=".$event["registrationCode"]."&choe=UTF-8";
    echo '
        <body class="spinner spinner-primary spinner-lg">';
        dont_know_whatdeheck();
        global_navbar();
    echo '
            <div class="masthead">
                <div class="masthead-inner">
                    <div class="container">
                        <div class="row gutter-xs">';
                            Layout_the_top_menu_global($listInformation);
                            echo'
                        </div>
                        <div class="row gutter-xs">
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-body" data-toggle="match-height" style="">
                                        <div class="row gutter-xs">
                                            <table class="table table-hover">
                                                <thead>
                                                    <tr>
                                                        <td class="text-left text-info">Event status</td>';
                                                        if($event["eventStatus"] == 1){
                                                            echo '<th class="text-left text-success">ONGOING</th>';
                                                        }else if($event["eventStatus"] == 0){
                                                            echo '<th class="text-left text-warning">WAITING</th>';
                                                        }else if($event["eventStatus"] == 2){
                                                            echo '<th class="text-left text-danger">EXPIRED</th>';
                                                        }
                                                        echo '
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td class="text-left text-info">Event</td>
                                                        <th class="text-left text-crimson">'.$event["eventName"].'</th>
                                                    </tr>
                                                    <tr>
                                                        <td class="text-left text-info">Institusi</td>
                                                        <th class="text-left text-crimson">'.$event["institution"].'</th>
                                                    </tr>
                                                    <tr>
                                                        <td class="text-left text-info">Event dimulai</td>
                                                        <th class="text-left text-crimson">'.superNiceDateFormat($event["eventStart"]).'</th>
                                                    </tr>
                                                    <tr>
                                                        <td class="text-left text-info">Event berakhir</td>
                                                        <th class="text-left text-crimson">'.superNiceDateFormat($event["eventEnd"]).'</th>
                                                    </tr>
                                                </tbody>
                                            </table>                                            
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="card">
                                                <div class="card-header">
                                                    <strong>Registration-ID 
                                                        <a id="click-me-'.$event["registrationCode"].'" class="btn btn-outline-info btn-pill btn-xs" style="margin-bottom:4px;"><span class="icon icon-copy"></span> copy
                                                        </a>
                                                        <a href="/dashboard/drive/drive-event/event-qr-code/?qr='.$event["registrationCode"].'&eventID='.$event["eventID"].'" class="btn btn-outline-info btn-pill btn-xs" download><span class="icon icon-download"></span> download</a>
                                                    </strong>
                                                </div>
                                                <div class="card-body text-center text-info">
                                                    <input style="opacity:0" id="i-am-here-'.$event["registrationCode"].'" value="'.$event["registrationCode"].'">

                                                    <img class="img-responsive " src="'.$QRCODE.'" alt="" style="">
                                                </div>
                                            </div>    
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-8">
                                <div class="card">
                                    <div class="card-header text-info">
                                        <div class="card-actions">
                                            <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                            <button type="button" class="card-action card-reload" title="Reload"></button>
                                            <button type="button" class="card-action card-remove" title="Remove"></button>
                                        </div>
                                        <strong>File Berkas</strong>
                                        <button class="btn btn-xs bg-crimson" data-toggle="modal" data-target="#pop-up-upload-file-global">Upload File <span class="icon icon-upload"></span></button>
                                    </div>

                                    <div class="card-body">
                                        <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable">
                                            <thead class="text-info">
                                                <tr>
                                                    <th>No</th>
                                                    <th>Judul</th>
                                                    <th>File</th>
                                                    <th>Tgl dikumpulkan</th>
                                                    <th>Hapus</th>
                                                    <th>Download</th>
                                                </tr>
                                            </thead>
                                            <tbody class="text-crimson">';
                                            $n = 0;
                                            foreach($fileGlobalList as $file){
                                                $filename = strlen($file["filename"]) > 15 ? substr($file["filename"], 0, 15).substr($file["filename"], -4) : $file["filename"];
                                                $n++;
                                            echo '
                                                <tr>
                                                    <td>'.$n.'</td>
                                                    <td>'.$file["title"].'</td>
                                                    <td>'.$filename.'</td>
                                                    <td>'.superNiceDateFormat($file["dateCreated"]).'</td>
                                                    <td><span class="icon icon-trash" data-toggle="modal" data-target="#delete-file-'.$file["fileGlobalID"].'"></span></td>
                                                    <td><a href="/dashboard/drive/drive-event/event-file-global/'.$file["fileFileName"].'"><label class="btn btn-link" style="margin-top:-7px"><span class="icon icon-search"></span></label></a></td>
                                                </tr>';
                                            }
                                                echo '
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="pop-up-upload-file-global" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header bg-info">
                            <h4 class="modal-title text-center">absensi
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>
                        <div class="modal-body">
                            <form action="" id="form-upload-file-global" method="post" data-toggle="validator" enctype="multipart/form-data">
                                <div class="row gutter-xs">
                                    <input type="hidden" name="username" value="'.$_SESSION["username"].'">
                                    <input type="hidden" name="eventID" value="'.$event["eventID"].'">
                                    <input type="hidden" name="registrationCode" value="'.$event["registrationCode"].'">
                                    <input type="hidden" name="uploadFileGlobal" value="">
                                    <div class="row gutter-xs">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label for="title">Judul File (<span class="icon text-warning icon-exclamation-triangle"> tidak menggunakan simbol!</span>)</label>
                                                <input class="form-control" type="text" name="title" spellcheck="false" data-msg-required="Masukan Judul File" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row gutter-xs">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label id="button-switch-pdf" class="file-upload-btn btn btn-outline-success">
                                                    <span class="icon icon-works">&#97;</span> Upload File
                                                    <input type="file" class="file-upload-input" id="pdf-file" name="fileGlobal">
                                                </label>
                                                <strong><div id="file-message">No file chosen</div></strong>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row gutter-xs">
                                    <button type="submit" id="upload-file-global-submit-button" class="btn btn-success">Upload</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>';
            foreach($fileGlobalList as $fileGlobal){
                echo '
                <div class="modal fade" id="delete-file-'.$fileGlobal["fileGlobalID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content bg-primary">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">×</span>
                                    <span class="sr-only">Close</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="text-center">
                                    <form action="" id="form-delete-file-'.$fileGlobal["fileGlobalID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                        <input type="hidden" name="deleteFileGlobal" value="">
                                        <input type="hidden" name="deletedBy" value="'.$_SESSION["username"].'">
                                        <input type="hidden" name="username" value="'.$_SESSION["username"].'">
                                        <input type="hidden" name="fileGlobalID" value="'.$fileGlobal["fileGlobalID"].'">
                                        <input type="hidden" name="eventID" value="'.$event["eventID"].'">
                                        <input type="hidden" name="registrationCode" value="'.$event["registrationCode"].'">
                                        <input type="hidden" name="code-delete" value="'.$_SESSION["code"].'">
                                        <input type="hidden" name="fileGlobalID" value="'.$fileGlobal["fileGlobalID"].'">
                                        <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                        <h3 class="text-light">Hapus File? <br>( '.$fileGlobal["filename"].' )</h3>
                                        <div class="m-t-lg">

                                            <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                            <button type="submit" id="delete-file-submit-button-'.$fileGlobal["fileGlobalID"].'" class="btn btn-danger">Hapus</button>

                                        </div>
                                    </form>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                ';
            }
            true_false_popup();
            echo '
            <script src="/template_vendor/js/vendor.min.js"></script>
            <script src="/template_vendor/js/elephant.min.js"></script>
            <script src="/template_vendor/js/application.min.js"></script>
            <script src="/template_vendor/js/demo.min.js"></script>
            <script src="/template_vendor/js/landing-page.min.js"></script>
            <script src="/template/js/richeese-global.js"></script>
            <script>
                $(document).ready(function(){
                    $("#click-me-'.$event["registrationCode"].'").on("click", function(e) {
                        var copyText = document.getElementById("i-am-here-'.$event["registrationCode"].'")
                        copyText.select();
                        copyText.setSelectionRange(0, 99999);
                        document.execCommand("copy");
                        alert("Copied The Registration-ID: " + copyText.value);

                    });
                    $("#form-upload-file-global").on("submit", function(e) {
                        e.preventDefault();
                        $("#upload-file-global-submit-button").prop("disabled", true);
                        $("#upload-file-global-submit-button").html(\'menunggu <span class="spinner spinner-danger"></span>\');
                        var formData = new FormData(this);
                        $.ajax({
                              type: "POST",
                              processData: false,
                              contentType: false,
                              enctype: "multipart/form-data",
                              url: "/handler/handler_ajax_event.php",
                              data: formData,
                              success: function (data) {
                                var result = $.parseJSON(data);
                                if(result.info != "success"){
                                    $("#failedMessage").html(result.info);
                                    $("#failed").modal("show");
                                    $("#upload-file-global-submit-button").prop("disabled", false);
                                    $("#upload-file-global-submit-button").html("Upload");
                                }else{
                                  $(".modal").modal("hide");
                                  $("#successMessage").html("Success");
                                  $("#success").modal("show");
                                  $("#success").on("hidden.bs.modal", function(){
                                      location.reload();
                                  });
                                }
                              },
                              error: function(){
                                alert("error in ajax form submission");
                              }
                        });
                    });';
                    foreach($fileGlobalList as $fileGlobal){
                        echo '
                        $("#form-delete-file-'.$fileGlobal["fileGlobalID"].'").on("submit", function(e) {
                            e.preventDefault();
                            $("#delete-file-submit-button-'.$fileGlobal["fileGlobalID"].'").prop("disabled", true);
                            $("#delete-file-submit-button-'.$fileGlobal["fileGlobalID"].'").html(\'menunggu <span class="spinner spinner-danger"></span>\');
                            var formData = new FormData(this);
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_event.php",
                                data: formData,
                                success: function (data) {
                                    var result = $.parseJSON(data);
                                    if(result.info != "success"){
                                        $("#failedMessage").html(result.info);
                                        $("#failed").modal("show");
                                        $("#delete-file-submit-button-'.$fileGlobal["fileGlobalID"].'").prop("disabled", false);
                                        $("#delete-file-submit-button-'.$fileGlobal["fileGlobalID"].'").html("Delete");
                                    }else{
                                        $(".modal").modal("hide");
                                        $("#successMessage").html("Success");
                                        $("#success").modal("show");
                                        $("#success").on("hidden.bs.modal", function(){
                                            location.reload();
                                        });
                                    }
                                },
                                error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });';
                    }

                    echo '
                });
            </script>
        </body>';
}

function Template_Dashboard_n_Course_Global_X($title1, $title2, $data){
    $listMcourse = $data["mcourseList"];
    $listCategory = $data["listCategory"];
    $listFocusCategory = $data["listFocusCategory"];
    echo '
        <body class="spinner spinner-primary spinner-lg">';

        global_navbar();
    echo '
        <div class="masthead">
            <div class="masthead-inner">
                <div class="container">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <div class="title-bar">
                                    <h1 class="title-bar-title">
                                        <span class="d-ib"><small></small> '.$title1.'</span>
                                        <span class="d-ib">
                                          <a class="title-bar-shortcut" href="#" title="" data-container="body" data-toggle-text="Remove from shortcut list" data-trigger="hover" data-placement="right" data-toggle="tooltip">
                                            <span class="sr-only">Add to shortcut list</span>
                                          </a>
                                        </span>
                                    </h1>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">';
                        categoryRecomendCard($listCategory);
                        echo '
                    </div>
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header bg-crimson">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-reload" title="Reload"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <strong><h4 class="" style="color:white"><span class="icon icon-book"></span> Rekomendasi Fokus Bidang</h4></strong>
                            </div>
                            <div class="card-body bg-danger">
                                <form action="" id="demo-inputmask" style="color:blue" class="form-edit-user" method="post" data-toggle="validator" enctype="multipart/form-data">
                                    <div class="md-form-group md-label-floating">
                                        <select id="form-control-6" class="md-form-control text-crimson wkwk-land">';

                                        foreach ($listFocusCategory as $focusCategory) {
                                            if($focusCategory["showFocusCategory"] == 1){
                                                echo '<option value="/dashboard/materi/bidang/category.php?fcategory='.$focusCategory["focusCategoryID"].'">'.$focusCategory["focusCategoryName"].'</option>';
                                            }
                                        }
                                        echo '
                                        </select>
                                        <label class="md-control-label text-white">Pilih Fokus Bidang</label>
                                    </div>

                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header bg-crimson">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <strong><h4 class="" style="color:white"><span class="icon icon-book"></span> Kategori Materi</h4></strong>
                            </div>
                            <div class="card-body bg-danger">';
                                mcourseList($listMcourse);echo '
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


            <script src="/template_vendor/js/vendor.min.js"></script>
            <script src="/template_vendor/js/elephant.min.js"></script>
            <script src="/template_vendor/js/application.min.js"></script>
            <script src="/template_vendor/js/demo.min.js"></script>
            <script src="/template_vendor/js/landing-page.min.js"></script>
            <script type="text/javascript">
                $(document).ready(function() {
                    $("#introduction").modal("show");
                });

                $(".wkwk-land").click(function(){
                    var open = $(this).data("isopen");
                    if(open){
                        window.location.href = $(this).val()
                    }
                    $(this).data("isopen", !open);
                })
            </script>
        </body>
    ';
}

function Template_Course_Global_L2($title1, $title2, $data){
    $mcourse = $data["mcourse"];
    $courseList = $data["courseList"];
    $listInformation = $data["listInformation"];

    echo '
        <body class="spinner spinner-primary spinner-lg">';

        global_navbar();
    echo '
        <div class="masthead">
            <div class="masthead-inner">
                <div class="container">
                    <div class="row gutter-xs">';
                        Layout_the_top_menu_global($listInformation);
                        echo '
                    </div>
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header" style="background-color:#FFF8DC;">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <strong>
                                    <h4>
                                        <a href="/dashboard/materi" class="text-default">
                                                <span class="icon icon-book"></span> Materi
                                        </a> / 
                                        <a href="#" class="text-info">
                                            <span class="icon icon-book"></span> '.$mcourse["mcourseName"].'
                                        </a>
                                    </h4>
                            </div>
                            <div class="card-body">
                                <div class="row gutter-xs">';
                                    courseListGlobal($courseList); echo '      
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>

        </div>

        </body>
    ';


    echo '
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>


    ';
}

function Template_Course_Global_L3($title1, $title2, $data){
    $courseViewer = 0;
    $downloader = 0;

    $listSubject = $data["listSubject"];
    $mcourse = $data["mcourse"];
    $course = $data["course"];
    $listInformation = $data["listInformation"];

    foreach ($listSubject as $subject) {

        $courseViewer += $subject["seenTotal"];
        $downloader += $subject["totalDownloader"];
    }
  echo '
        <body class="spinner spinner-primary spinner-lg">';

        global_navbar();
    echo '
        <div class="masthead">

            <div class="masthead-inner">
                <div class="row gutter-xs">
                    <div class="container">
                        <div class="row gutter-xs">';
                            Layout_the_top_menu_global($listInformation);
                            echo '
                        </div>
                        <div class="row gutter-xs">
                            <div class="card">
                                <div class="card-header" style="background-color:#FFF8DC;">
                                    <div class="card-actions">
                                        <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                        <button type="button" class="card-action card-remove" title="Remove"></button>
                                    </div>
                                    <strong>
                                        <h4>
                                            <a href="/dashboard/materi" class="text-default">
                                                <span class="icon icon-book"></span> Materi
                                            </a> / 
                                            <a href="/dashboard/materi/course_sub.php?mcourseID='.$mcourse["mcourseID"].'" class="text-default">
                                                <span class="icon icon-book"></span> '.$mcourse["mcourseName"].'
                                            </a> / 
                                            <a href="#" class="text-info">
                                                <span class="icon icon-book"></span> '.$course["courseName"].'
                                            </a>
                                        </h4>
                                    </strong>
                                </div>
                                <div class="card-body">
                                    <div class="row gutter-xs">';
                                        subjectCardGlobal($listSubject);
                                        echo '
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        </body>

        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>

    ';


    foreach ($listSubject as $subject) {
        echo '
            <script>
               $(".download-'.$subject["subjectID"].'").on("click", function(){
                  var link = this;
                  link.disabled = true;
                  $("#download-label-'.$subject["subjectID"].'").html("please wait");
                  $(".download-'.$subject["subjectID"].'").removeClass("btn-outline-danger");
                  $(".download-'.$subject["subjectID"].'").addClass("btn-danger");
                  $(".download-'.$subject["subjectID"].'").addClass("disabled");
                  var formData = new FormData();

                  formData.append("download", "'.$subject["subjectID"].'");
                  $.ajax({
                      type: "POST",
                      processData: false,
                      contentType: false,
                      enctype: "multipart/form-data",
                      url: "/handler/handler_ajax_course.php",
                      data: formData,
                      success: function (data) {
                        setTimeout(function(){
                          link.disabled = false;
                          $("#download-label-'.$subject["subjectID"].'").html("Download");
                          $(".download-'.$subject["subjectID"].'").removeClass("btn-danger");
                          $(".download-'.$subject["subjectID"].'").removeClass("disabled");
                          $(".download-'.$subject["subjectID"].'").addClass("btn-outline-danger");
                          $("#total-downloader-'.$subject["subjectID"].'").load("/handler/handler_jquery_course.php", {totalDownloader:'.$subject["subjectID"].'});
                        }, 5000);
                      },
                      error: function(){
                        alert("error in ajax form submission");
                      }
                  });
               });
            </script>';
    }
}

function Template_Shelter_Global_L2($title1, $title2, $data){
    $mshelter = $data["mshelter"];
    $listShelter = $mshelter["listShelter"];
    $listInformation = $data["listInformation"];

    echo '
        <body class="spinner spinner-primary spinner-lg">';

        global_navbar();
    echo '
        <div class="masthead">
            <div class="masthead-inner">

                <div class="container">
                    <div class="row gutter-xs">';
                        Layout_the_top_menu_global($listInformation);
                        echo '
                    </div>
                    
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header" style="background-color:#FFF8DC;">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <strong><h4>Fokus Jabatan <label class="text-primary"><span class="icon icon-book"></span> '.$mshelter["mshelterName"].'</label></h4></strong>
                            </div>
                            <div class="card-body">';
                                if(sizeof($listShelter) < 1){
                                    echo '
                                    <h2 class="text-center">Kosong</h2>';
                                }else{
                                    echo '
                                <div class="panel m-b-lg">
                                    <div class="card-body">
                                        <div class="row gutter-xs nav nav-tabs" style="background-color:#FFF8DC;">';
                                        $c = 1;
                                            foreach ($listShelter as $shelter) {
                                                echo '
                                                <a href="#'.$shelter["shelterID"].'" data-toggle="tab" class="btn btn-pill btn-lg"><span class="icon icon-book"></span> '.$shelter["shelterName"].'</a>';
                                            }
                                                echo '
                                        </div>
                                        <div class="tab-content">';
                                            foreach ($listShelter as $shelter) {
                                                echo '
                                                <div id="'.$shelter["shelterID"].'" class="row gutter-xs tab-pane fade active in">';
                                                    subjectCardGlobal($shelter["listSubject"]);
                                                echo '
                                                </div>';
                                            }
                                        echo '
                                        </div>
                                    </div>
                                </div>';

                                }
                                echo '
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        </body>';


    echo '
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>
        <script src="/template/js/richeese-global.js"></script>


    ';
}

function Template_Shelter_Global_L3($title1, $title2, $data){

    $mshelter = $data["mshelter"];
    $shelter = $data["shelter"];
    $listSubject = $shelter["listSubject"];
    $listCategory = $data["listCategory"];
    $listAllShelter = $data["listAllShelter"];

    echo '
        <body class="spinner spinner-primary spinner-lg">';

        global_navbar();
    echo '
        <div class="masthead">
            <div class="masthead-inner">

                <div class="container">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <a href="/dashboard/materi/" class="btn btn-link">
                                    <strong><h3 class="text-primary"><span class="icon icon-arrow-circle-left"></span> Fokus Jabatan</h3></strong>
                                </a>
                                <a href="/dashboard/materi/shelter/?mshelterID='.$mshelter["mshelterID"].'" class="btn btn-link">
                                    <strong><h3 class="text-primary"><span class="icon icon-arrow-circle-left"></span> '.$mshelter["mshelterName"].'</h3></strong>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header bg-crimson">
                                <div class="media">
                                    <div class="media-middle media-left">
                                        <span class="my-color circle sq-48">
                                            <span class="icon icon-book"></span>
                                        </span>
                                    </div>
                                    <div class="media-middle media-body">
                                        <h4 class="media-heading">
                                            <label style="color:white;">
                                                <span class="icon icon-location-arrow"></span> '.$shelter["shelterName"].'
                                            </label>
                                        </h4>

                                        <h5 class="media-heading">
                                            <span class="">'.sizeof($listSubject).'</span> Materi
                                        </h5>
                                    </div>

                                </div>
                            </div>
                            <div class="card-body"style="background-color:#FFEBCD">';
                            subjectCardGlobal($listSubject);
                            echo '

                            </div>
                        </div>
                    </div>

                    <div class="row gutter-xs">
                    </div>
                </div>
            </div>
        </div>

        </body>
    ';


    echo '
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>


    ';
}

function Template_Read_Course_Global($title1, $title2, $data){
    $subject = $data["subject"];
    $course = $data["course"];
    $paperSource = $data["paperSource"];
    $tabCode = $data["tabCode"];
    $timeRead = $data["timeRead"];
    $listInformation = $data["listInformation"];

    $temp = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
    if(!file_exists($_SERVER['DOCUMENT_ROOT'].$temp)){
        $subject["thumbnailImage"] = "/dashboard/drive/images/".$subject["thumbnailImage"];
    }else{
        $subject["thumbnailImage"] = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
    }
    $tempFile = "/dashboard/drive/drive-course/course-files/".$subject["filename"];
    if(!file_exists($_SERVER['DOCUMENT_ROOT'].$tempFile)){
        $subject["filename"] = "/dashboard/drive/courses/".$subject["filename"];
    }else{
        $subject["filename"] = "/dashboard/drive/drive-course/course-files/".$subject["filename"];
    }

    $subjectPoint = array(
        900 => '<span class="icon icon-star icon-lg text-warning"></span>',
        1800 => '<span class="icon icon-star icon-lg text-warning"></span><span class="icon icon-star icon-lg text-warning"></span>',
        2700 => '<span class="icon icon-star icon-lg text-warning"></span><span class="icon icon-star icon-lg text-warning"></span><span class="icon icon-star icon-lg text-warning"></span>',
        0 => ''
    );
    $viewer = $subject["seenTotal"];
    echo '
        <body class=" spinner-primary spinner-lg">';

        global_navbar();

    echo '
        <div class="masthead">
            <div class="masthead-inner">
                <div class="row gutter-xs">
                    <div class="container">
                        <div class="row gutter-xs">';
                            Layout_the_top_menu_global($listInformation);
                            echo '
                        </div>
                        <div class="row gutter-xs">
                            <div class="card">
                                <div class="card-header" style="background-color:#FFF8DC;">
                                    <div class="card-actions">
                                        <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                        <button type="button" class="card-action card-remove" title="Remove"></button>
                                    </div>
                                    <strong>
                                        <h4>
                                            <a href="/dashboard/materi" class="text-default">
                                                <span class="icon icon-book"></span> Materi
                                            </a> / 
                                            <a href="/dashboard/materi/course_sub.php?mcourseID='.$course["mcourseID"].'" class="text-default">
                                                <span class="icon icon-book"></span> Kategori
                                            </a> / 
                                            <a href="/dashboard/materi/course.php?courseID='.$course["courseID"].'" class="text-default">
                                                <span class="icon icon-book"></span> '.$course["courseName"].'
                                            </a> / 
                                            <a href="#" class="text-info">
                                                <span class="icon icon-book"></span> '.$subject["subjectName"].'
                                            </a>
                                        </h4>
                                    </strong>
                                </div>
                                <div class="card-body">
                            

                                    <div class="col-md-3">
                                        <div class="card">
                                            <div class="card-header" style="height:38px;background-color:#FFF8DC;">'.$subjectPoint[$subject["point"]].'
                                            </div>
                                            <div class="card-image">
                                                <img class="img-responsive resize-img2" src="'.$subject["thumbnailImage"].'" alt="'.$subject["subjectName"].'" style="width:100%;">
                                            </div>
                                            <div class="card-body">
                                                <div class="row gutter-xs">
                                                    <p class="card-title fw-l" style="word-break:break-all; height:40px; overflow-x:hidden;">
                                                        <a class="btn btn-primary btn-pill" href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'"><span class="icon icon-book"></span> '.nl2br($subject["subjectName"]).'</a>
                                                    </p>
                                                    <h5 style="height:15px">';
                                                        if (strlen($subject["detail-course"]["courseName"]) < 2){
                                                            if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                                                echo '
                                                                <span class="icon icon-exclamation-circle"></span>
                                                                    edit kategori
                                                                <span class="icon icon-exclamation-circle"></span>';
                                                            }else{
                                                                echo '
                                                                <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #course</a>';
                                                            }
                                                        }else{
                                                            echo '
                                                                <a href="/dashboard/materi/course.php?courseID='.$subject["detail-course"]["courseID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">kategori <span class="icon icon-bookmark-o"></span> '.$subject["detail-course"]["courseName"].'</a>
                                                            ';
                                                        }
                                                        echo '

                                                    </h5>
                                                    <h5 style="height:15px">
                                                        ';
                                                        if (strlen($subject["detail-category"]["categoryName"]) < 2){
                                                            if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                                                echo '
                                                                <span class="icon icon-exclamation-circle"></span>
                                                                    edit bidang
                                                                <span class="icon icon-exclamation-circle"></span>
                                                                ';
                                                            }else{
                                                                echo '
                                                                <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #category</a>

                                                                ';
                                                            }
                                                        }else{
                                                            echo '
                                                                <a href="/dashboard/materi/bidang/category.php?category='.$subject["categoryID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">bidang <span class="icon icon-bookmark-o"></span> '.$subject["detail-category"]["categoryName"].'</a>
                                                            ';
                                                        }
                                                        echo '
                                                    </h5>
                                                    <h5 style="height:15px">
                                                        ';
                                                        if (strlen($subject["detail-shelter"]["shelterName"]) < 2){
                                                            if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                                                echo '
                                                                <span class="icon icon-exclamation-circle"></span>
                                                                    edit focus bidang
                                                                <span class="icon icon-exclamation-circle"></span>
                                                                ';
                                                            }else{
                                                                echo '
                                                                <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #fcategory</a>';
                                                            }
                                                        }else{
                                                            echo '
                                                                <a href="/dashboard/materi/shelter/?mshelterID='.$subject["detail-mshelter"]["mshelterID"].'&shelterID='.$subject["detail-shelter"]["shelterID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">fokus jabatan <span class="icon icon-bookmark-o"></span> '.$subject["detail-mshelter"]["mshelterName"].' / '.$subject["detail-shelter"]["shelterName"].'</a>';
                                                        }
                                                        echo '
                                                    </h5>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <p style="word-wrap:break-word; height:80px; overflow-y:hidden;">'.filterUrlString($subject["thumbnailText"]).'</p>
                                                </div>
                                            </div>
                                            <div class="card-footer" style="height:100px">
                                                <button class="btn text-crimson btn-sm btn-labeled col-xs-12" type="button">
                                                    <span class="btn-label arrow-right arrow-outline-warning" style="min-width:25px">'.$viewer.'</span>
                                                    <span class="icon icon-users"></span> ';
                                                        echo $viewer == 1 ? "view" : "views";
                                                    echo '
                                                </button>
                                                <br><br>
                                                <a href="'.$subject["filename"].'" download class="btn btn-outline-danger btn-download btn-xs my-color btn-labeled download-'.$subject["subjectID"].'" type="button">
                                                  <span class="btn-label">
                                                    <span class="icon icon-download icon-lg icon-fw"></span>
                                                  </span>

                                                    <span class="btn-label arrow-left bg-crimson" style="min-width:25px"
                                                            id="total-downloader-'.$subject["subjectID"].'">'.$subject["totalDownloader"].'</span>

                                                    <span id="download-label-'.$subject["subjectID"].'">Download materi</span>
                                                </a>';
                                                if (strlen($subject["videoname"]) > 3){
                                                    echo '
                                                    <a href="/dashboard/drive/drive-course/course-videos/'.$subject["videoname"].'" download class="btn btn-outline-danger btn-download btn-xs my-color btn-labeled download-'.$subject["subjectID"].'" type="button">
                                                      <span class="btn-label">
                                                        <span class="icon icon-download icon-lg icon-fw"></span>
                                                      </span>

                                                        <span id="download-label-'.$subject["subjectID"].'">Download video</span>
                                                    </a>';
                                                }
                                                echo '
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-9">';
                                        if (strlen($subject["videoname"]) > 3){
                                            echo '
                                            <div class="card">
                                                <div class="card-header">
                                                    <div class="card-actions">
                                                        <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                                        <button type="button" class="card-action card-reload" title="Reload"></button>
                                                        <button type="button" class="card-action card-remove" title="Remove"></button>
                                                    </div>
                                                    <strong>'.$subject["subjectName"].'</strong>
                                                </div>
                                                <div class="card-body">
                                                    <video width="100%" controls>
                                                        <source src="/dashboard/drive/drive-course/course-videos/'.$subject["videoname"].'"/>
                                                    </video>
                                                </div>
                                            </div>
                                            ';
                                        } echo'


                                        <div class="card">
                                            <div class="card-header" style="background-color:#FFF8DC;">
                                                <div class="card-actions">
                                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                                </div>
                                                <strong>'.$subject["subjectName"].'</strong>
                                            </div>
                                            <div class="card-body">
                                            <object data="'.$paperSource.'" type="application/pdf" width="100%" height="800px">
                                              <p>Your web browser doesn\'t have a PDF plugin.
                                              Instead you can <a href="'.$paperSource.'">click here to
                                              download the PDF file.</a></p>
                                            </object>
                                            </div>';
                                                if($_SESSION["type"] == 4){
                                                    echo '
                                                    <div class="card-footer">
                                                        <a href="/dashboard/materi/quest/?subjectID='.$subject["subjectID"].'" class="btn bg-crimson">sudah paham</a>
                                                        <div class="btn bg-crimson" data-toggle="modal" data-target="#ask-question">tidak paham
                                                        </div>
                                            </div>';
                                                }echo '
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        </body>




        <div id="ask-question" tabindex="-1" role="dialog" class="modal fade delmod">
            <div class="modal-dialog" role="document">
                <div class="modal-content my-color animated bounceInRight">
                    <div class="modal-header" style="background-color:white; color:red">
                        <h4 class="modal-title"><span class="icon icon-edit icon-lg"></span>Ajukan Pertanyaan
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </h4>
                    </div>

                    <div class="modal-body">

                        <div class="signup">
                            <div class="signup-body">
                                <div class="signup-form">
                                    <form id="addQuestion" class="form form-horizontal" action="" data-toggle="validator">
                                        <input type="hidden" name="subjectID" value="'.$subject["subjectID"].'">
                                        <input type="hidden" name="username" value="'.$_SESSION["username"].'">
                                        <input type="hidden" name="addQuestion" value="'.$subject["subjectID"].'">
                                        <div class="row gutter-xs">

                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="form-control-5">Nama</label>
                                                <div class="col-sm-9">
                                                    <input name="name" id="form-control-5" class="form-control" type="text" value="'.$_SESSION["name"].'" readonly="readonly">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="form-control-5">Materi</label>
                                                <div class="col-sm-9">
                                                    <input name="subjectName" id="form-control-5" class="form-control" type="text" value="'.$subject["subjectName"].'" readonly="readonly">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="form-control-8">Pertanyaan</label>
                                                <div class="col-sm-9">
                                                <textarea name="question" id="form-control-8" class="form-control my-question" rows="3"></textarea>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="pull-right">
                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                <button type="submit" class="btn bg-crimson">Kirim</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>';

        true_false_popup();
        echo '


        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        <script>
            $(".download-'.$subject["subjectID"].'").on("click", function(){
              var link = this;
              link.disabled = true;
              $("#download-label-'.$subject["subjectID"].'").html("please wait");
              $(".download-'.$subject["subjectID"].'").removeClass("btn-outline-danger");
              $(".download-'.$subject["subjectID"].'").addClass("btn-danger");
              $(".download-'.$subject["subjectID"].'").addClass("disabled");
              var formData = new FormData();

              formData.append("download", "'.$subject["subjectID"].'");
              $.ajax({
                  type: "POST",
                  processData: false,
                  contentType: false,
                  enctype: "multipart/form-data",
                  url: "/handler/handler_ajax_course.php",
                  data: formData,
                  success: function (data) {
                    setTimeout(function(){
                      link.disabled = false;
                      $("#download-label-'.$subject["subjectID"].'").html("Download");
                      $(".download-'.$subject["subjectID"].'").removeClass("btn-danger");
                      $(".download-'.$subject["subjectID"].'").removeClass("disabled");
                      $(".download-'.$subject["subjectID"].'").addClass("btn-outline-danger");
                      $("#total-downloader-'.$subject["subjectID"].'").load("/handler/handler_jquery_course.php", {totalDownloader:'.$subject["subjectID"].'});
                    }, 5000);
                  },
                  error: function(){
                    alert("error in ajax form submission");
                  }
              });
            });
        </script>
        <script>
            var x = 0;
            var isSubjectTodayHitMaxPoint = "'.$data["dailyLimit"]["isSubjectTodayHitMaxPoint"].'";
            var isTodayHitMaxPoint = "'.$data["dailyLimit"]["isTodayHitMaxPoint"].'";
            if(isTodayHitMaxPoint == "True" || isSubjectTodayHitMaxPoint == "True"){
                $("#warningMessage").text("Waktu Membaca Telah Mencapai Limit Harian");
                $("#warning").modal("show");
                x = 1;
            }
            
            
            function counter(subjectID, tabCode, increment){
                $.ajax({
                    url: "/handler/handler_ajax_course.php",
                    method: "POST",
                    data: {
                        counter:subjectID,
                        tabCode:tabCode,
                        increment:increment},
                    success: function (data) {
                        var result = $.parseJSON(data);
                        if(result.info != "success"){
                            $("#failedMessage").html(result.info);
                            $("#failed").modal("show");   
                        }
                    },error: function(){
                        alert("error in ajax form submission");
                    }
                });
            }
            function readLogging(username, subjectID, tabCode, increment){
                $.ajax({
                    url: "/handler/handler_ajax_course.php",
                    method: "POST",
                    data: {
                        loggingReading:subjectID,
                        username:username,
                        subjectID:subjectID,
                        tabCode:tabCode,
                        increment:increment},
                    success: function (data) {
                        var result = $.parseJSON(data);
                        if(result.info != "success"){
                            $("#failedMessage").html(result.info);
                            $("#failed").modal("show");   
                        }else{
                            if(result.isTodayHitMaxPoint=="True"){
                                x++;
                                if(x == 1){
                                    $("#warningMessage").text("Waktu Membaca Telah Mencapai Limit Harian");
                                    $("#warning").modal("show");
                                }
                            }
                        }
                    },error: function(){
                        alert("error in ajax form submission");
                    }
                });
            }
            $(document).ready(function(){
                var n = '.$timeRead.' * 1000;
                setInterval(function(){ 
                    readLogging(
                        "'.$_SESSION["username"].'",
                        '.$subject["subjectID"].',
                        "'.$tabCode.'",
                        '.$timeRead.'
                    ); 
                }, n);
            });
        </script>


    ';
}

function Template_Detail_LogRead_Global($title1, $title2, $data){
    $historyReadDates = $data["historyReadDates"];
    $historyReadByDate = $data["historyReadByDate"];
    $subjectPoint = array(
        900 => '<span class="icon icon-star-o icon-md"></span>',
        1800 => '<span class="icon icon-star-o icon-md"></span><span class="icon icon-star-o icon-md"></span>',
        2700 => '<span class="icon icon-star-o icon-md"></span><span class="icon icon-star-o icon-md"></span><span class="icon icon-star-o icon-md"></span>',
        0 => ''
    );
    echo '
        <body class="spinner spinner-primary spinner-lg">';
            dont_know_whatdeheck();
            global_navbar();
            echo '
            <div class="masthead">
                <div class="masthead-inner">

                    <div class="container">
                        <div class="row gutter-xs">
                            <div class="card">
                                <div class="card-header bg-primary">
                                    <h3 style="margin-top:0px"><strong>Learning Center</strong></h3>
                                    <h4 class="" style="margin-top:0px"><label id="">'.date_formating(date("Y-m-d H:i:s")).'</label></h4><br>
                                    <h5 class="" style="margin-top:-30px; margin-bottom:-9px"><label id="realtimeTime">00:00:00 PM</label></h5>
                                </div>
                                <div class="card-body" style="width:100%">
                                    <div class="row gutter-xs hidden">
                                        <label>user: <strong id="username">'.$_SESSION['username'].'</strong></label>
                                    </div>
                                    <div class="row gutter-xs">
                                        <div class="col-md-4 col-xs-12">
                                            <label>Tampilkan berdasarkan</label>
                                            <select id="sortByDate" class="form-control">';
                                                
                                                foreach($historyReadDates as $date){
                                                    if($date==date("Y-m-d")){
                                                        echo '<option value="'.date("Y-m-d").'" selected>'.date_formating(date("Y-m-d")).' (Hari ini)</option>';
                                                    }else if($date=="getOldHistory"){
                                                        echo '<option value="'.$date.'">History lama</option>';
                                                    }else{
                                                        echo '<option value="'.$date.'">'.date_formating($date).'</option>';
                                                    }
                                                    
                                                }
                                                
                                                echo '
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row gutter-xs">
                                        <h4 id="myPointCurrentDay">Point didapat : '.$historyReadByDate["myPoint"].'</h4>
                                    </div>
                                    <div class="row gutter-xs">
                                        <div id="todayRecord">';
                                            if($historyReadByDate["myPoint"]!=0){

                                                echo 
                                            '<table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable">
                                                <thead class="text-info">
                                                    <tr>
                                                        <th>No</th>
                                                        <th>Judul</th>
                                                        <th>Point</th>
                                                        <th>Max Waktu Perhari</th>
                                                        <th>Waktu membaca</th>
                                                    </tr>
                                                </thead>
                                                <tbody class="text-crimson">';
                                                $n = 0;
                                                foreach($historyReadByDate["history"] as $log){
                                                    $n++;
                                                echo '
                                                    <tr>
                                                        <td>'.$n.'</td>
                                                        <td>'.$log["subject"]["subjectName"].'</td>
                                                        <td>'.$subjectPoint[$log["subject"]["point"]].'</td>
                                                        <td>'.time_formatting($log["subject"]["point"]).'</td>
                                                        <td>'.time_formatting($log["myPoint"]).'</td>
                                                    </tr>';
                                                }
                                                    echo '
                                                </tbody>
                                            </table>';

                                            }else{
                                                echo '<h3>Tidak ada record</h3>';
                                            }
                                            echo '
                                        </div>
                                        <div id="table-log-read">
                                        </div>
                                    </div>
                                    
                                </div>  
                            </div>
                        </div>
                    </div>
                </div>
            </div>';

            
            true_false_popup();
            echo '
            <script src="/template_vendor/js/vendor.min.js"></script>
            <script src="/template_vendor/js/elephant.min.js"></script>
            <script src="/template_vendor/js/application.min.js"></script>
            <script src="/template_vendor/js/demo.min.js"></script>
            <script src="/template_vendor/js/landing-page.min.js"></script>
            <script src="/template/js/richeese-global.js"></script>
            <script>
                $(document).ready(function(){
                    
                });
            </script>
        </body>
    ';
}

function Template_Quest_Global($title1, $title2, $data){
    $course = $data['course'];
    $subject = $data["subject"];
    $questList = $data["questList"];
    $myPoints = $data["myPoints"];
    $viewer = $subject["seenTotal"];

    $temp = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
    if(!file_exists($_SERVER['DOCUMENT_ROOT'].$temp)){
        $subject["thumbnailImage"] = "/dashboard/drive/images/".$subject["thumbnailImage"];
    }else{
        $subject["thumbnailImage"] = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
    }
    $tempFile = "/dashboard/drive/drive-course/course-files/".$subject["filename"];
    if(!file_exists($_SERVER['DOCUMENT_ROOT'].$tempFile)){
        $subject["filename"] = "/dashboard/drive/courses/".$subject["filename"];
    }else{
        $subject["filename"] = "/dashboard/drive/drive-course/course-files/".$subject["filename"];
    }

    echo '
    <body class=" spinner-primary spinner-lg">';

        global_navbar();

    echo '
        <div class="masthead">
            <div class="masthead-inner">
                <div class="row gutter-xs">
                    <div class="container">

                        <div class="card my-color">
                            <div class="card-header" style="overflow-x: hidden">
                                <a href="/dashboard/materi" class="btn btn-link">
                                    <strong>
                                        <h3 style="color:white">
                                            <span class="icon icon-arrow-circle-left"></span> Materi
                                        </h3>
                                    </strong>
                                </a>
                                <a class="btn btn-link" disabled><h3>/</h3></a>
                                <a href="/dashboard/materi/course_sub.php?mcourse=&id='.$course["mcourseID"].'" class="btn btn-link">
                                    <strong><h3 style="color:white"><span class="icon icon-arrow-circle-left"></span> Kategori</h3></strong>
                                </a>
                                <a class="btn btn-link" disabled><h3>/</h3></a>
                                <a href="/dashboard/materi/course.php?subject='.$course["courseName"].'&id='.$course["courseID"].'" class="btn btn-link">
                                    <h3 style="color:white"><span class="icon icon-arrow-circle-left"></span> '.$course["courseName"].' </h3>
                                </a>
                                <a class="btn btn-link" disabled><h3>/</h3></a>
                                <a href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'" class="btn btn-link">
                                    <h3 style="color:white"><span class="icon icon-arrow-circle-left"></span> '.$subject["subjectName"].' </h3>
                                </a>
                            </div>
                            <div class="card-body bg-danger">
                                <div class="col-md-3">
                                    <div class="row gutter-xs">
                                        <div class="card my-color">
                                            <div class="card-image">
                                                <img class="img-responsive resize-img2" src="'.$subject["thumbnailImage"].'" alt="'.$subject["subjectName"].'" style="width:100%;">
                                            </div>
                                            <div class="card-body">
                                                <div class="row gutter-xs">
                                                    <p class="card-title fw-l" style="word-break:break-all; height:40px; overflow-x:hidden;">
                                                        <a class="btn btn-primary btn-pill" href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'"><span class="icon icon-book"></span> '.nl2br($subject["subjectName"]).'</a>
                                                    </p>
                                                    <h5 style="height:15px">';
                                                        if (strlen($subject["detail-course"]["courseName"]) < 2){
                                                            if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                                                echo '
                                                                <span class="icon icon-exclamation-circle"></span>
                                                                    edit kategori
                                                                <span class="icon icon-exclamation-circle"></span>';
                                                            }else{
                                                                echo '
                                                                <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #course</a>';
                                                            }
                                                        }else{
                                                            echo '
                                                                <a href="/dashboard/materi/course.php?subject='.$subject["detail-course"]["courseName"].'&id='.$subject["detail-course"]["courseID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">kategori <span class="icon icon-bookmark-o"></span> '.$subject["detail-course"]["courseName"].'</a>';
                                                        }
                                                        echo '
                                                    </h5>
                                                    <h5 style="height:15px">';
                                                        if (strlen($subject["detail-category"]["categoryName"]) < 2){
                                                            if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                                                echo '
                                                                <span class="icon icon-exclamation-circle"></span>
                                                                    edit bidang
                                                                <span class="icon icon-exclamation-circle"></span>';
                                                            }else{
                                                                echo '
                                                                <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #category</a>';
                                                            }
                                                        }else{
                                                            echo '
                                                                <a href="/dashboard/materi/bidang/category.php?category='.$subject["categoryID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">bidang <span class="icon icon-bookmark-o"></span> '.$subject["detail-category"]["categoryName"].'</a>';
                                                        }
                                                        echo '
                                                    </h5>
                                                    <h5 style="height:15px">';
                                                        if (strlen($subject["detail-shelter"]["shelterName"]) < 2){
                                                            if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                                                echo '
                                                                <span class="icon icon-exclamation-circle"></span>
                                                                    edit focus bidang
                                                                <span class="icon icon-exclamation-circle"></span>';
                                                            }else{
                                                                echo '
                                                                <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #fcategory</a>';
                                                            }
                                                        }else{
                                                            echo '
                                                                <a href="/dashboard/materi/shelter/?mshelterID='.$subject["detail-mshelter"]["mshelterID"].'&shelterID='.$subject["detail-shelter"]["shelterID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">fokus jabatan <span class="icon icon-bookmark-o"></span> '.$subject["detail-mshelter"]["mshelterName"].' / '.$subject["detail-shelter"]["shelterName"].'</a>';
                                                        }
                                                        echo '
                                                    </h5>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <p style="word-wrap:break-word; height:80px; overflow-y:hidden;">'.nl2br($subject["thumbnailText"]).'</p>
                                                </div>
                                            </div>

                                            <div class="card-footer" style="height:100px">
                                                <button class="btn text-crimson btn-sm btn-labeled col-xs-12" type="button">
                                                    <span class="btn-label arrow-right arrow-outline-warning" style="min-width:25px">'.$viewer.'</span>
                                                    <span class="icon icon-users"></span> ';
                                                        echo $viewer == 1 ? "view" : "views";
                                                    echo '
                                                </button>
                                                <br><br>

                                                <a href="'.$subject["filename"].'" download class="btn btn-outline-danger btn-download btn-xs my-color btn-labeled download-'.$subject["subjectID"].'" type="button">
                                                  <span class="btn-label">
                                                    <span class="icon icon-download icon-lg icon-fw"></span>
                                                  </span>

                                                    <span class="btn-label arrow-left bg-crimson" style="min-width:25px"
                                                            id="total-downloader-'.$subject["subjectID"].'">'.$subject["totalDownloader"].'</span>

                                                    <span id="download-label-'.$subject["subjectID"].'">Download materi</span>
                                                </a>';
                                                if (strlen($subject["videoname"]) > 3){
                                                    echo '
                                                    <a href="/dashboard/drive/drive-course/course-videos/'.$subject["videoname"].'" download class="btn btn-outline-danger btn-download btn-xs my-color btn-labeled download-'.$subject["subjectID"].'" type="button">
                                                      <span class="btn-label">
                                                        <span class="icon icon-download icon-lg icon-fw"></span>
                                                      </span>

                                                        <span id="download-label-'.$subject["subjectID"].'">Download video</span>
                                                    </a>';
                                                }
                                                echo '
                                            </div>
                                        </div>

                                    </div>

                                </div>
                                <div class="col-md-9">
                                    <div class="panel m-b-lg bg-danger">
                                        <ul class="nav nav-tabs bg-primary">
                                            <li class="active">
                                                <a href="#home-51" data-toggle="tab">
                                                <span class="icon icon-wpforms"></span>
                                                Home</a>
                                            </li>
                                            <li>
                                                <a href="#profile-51" data-toggle="tab">
                                                <span class="icon icon-tasks"></span>
                                                Quest</a>
                                            </li>

                                        </ul>
                                        <div class="tab-content">
                                            <div class="tab-pane fade active in" id="home-51">';
                                                Layout_MyPoint($myPoints);
                                                echo '
                                            </div>
                                            <div class="tab-pane fade" id="profile-51">';
                                                Layout_Quest_Global($subject, $questList);
                                                echo '
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>';
        true_false_popup();
        echo '
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>
        <script src="/template/js/richeese.js"></script>
        <script>
            $(document).ready(function(){
                $("#quest-answer").on("submit", function (e){
                    e.preventDefault();
                    $("#submit-answer").prop("disabled", true);
                    $("#submit-answer").html("menunggu <span class=\"spinner spinner-danger\"></span>");
                    var formData = new FormData(this);
                    $.ajax({
                        type: "POST",
                        processData: false,
                        contentType: false,
                        enctype: "multipart/form-data",
                        url: "/handler/handler_ajax_course.php",
                        data: formData,
                        success: function (data) {
                            var result = $.parseJSON(data);
                            if(result.info != "success"){
                                $(".modal").modal("hide");
                                $("#failedMessage").html(result.info);
                                $("#failed").modal("show");
                            }else{
                                $(".modal").modal("hide");
                                $("#successMessage").html("success");
                                $("#success").modal("show");
                                $("#success").on("hidden.bs.modal", function(){
                                    location.reload();
                                });
                            }
                            $("#submit-answer").prop("disabled", false);
                            $("#submit-answer").html("Submit");
                        },
                        error: function(){
                            alert("error in ajax form submission");
                        }
                    });
                });
            });
        </script>
    </body>';
}

function Template_Category_Global($title1, $title2, $data){
    $category = $data["category"];
    $listSubject = $category["listSubject"];
    $listInformation = $data["listInformation"];

    echo '
        <body class="spinner spinner-primary spinner-lg">';

        global_navbar();
    echo '
        <div class="masthead">
            <div class="masthead-inner">

                <div class="container">
                    <div class="row gutter-xs">';
                        Layout_the_top_menu_global($listInformation);
                        echo '
                    </div>
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header" style="background-color:#FFF8DC;">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <strong><h4>Rekomendasi Bidang <label class="text-primary"><span class="icon icon-book"></span> '.$category["categoryName"].'</label></h4></strong>
                            </div>
                            <div class="card-body">';
                                    subjectCardGlobal($listSubject);
                    echo'   </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        </body>';


    echo '
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>
    ';
}

function Template_Focus_Category_Global($title1, $title2, $data){
    $focusCategory = $data["focusCategory"];
    $listSubject = $focusCategory["subjectList"];

    echo '
        <body class="spinner spinner-primary spinner-lg">';

        global_navbar();
    echo '
        <div class="masthead">
            <div class="masthead-inner">

                <div class="container">
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <div class="title-bar">
                                    <h1 class="title-bar-title">
                                        <span class="d-ib"><small></small> '.$title1.'</span>
                                        <span class="d-ib">
                                          <a class="title-bar-shortcut" href="#" title="" data-container="body" data-toggle-text="Remove from shortcut list" data-trigger="hover" data-placement="right" data-toggle="tooltip">
                                            <span class="sr-only">Add to shortcut list</span>
                                          </a>
                                        </span>
                                    </h1>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header bg-crimson">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-reload" title="Reload"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <strong><h4 class="" style="color:white"><span class="icon icon-book"></span> Rekomendasi Fokus Bidang</h4></strong>
                            </div>
                            <div class="card-body bg-primary">';

                                    subjectInCategoryCard($listSubject);
                    echo'   </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        </body>
    ';


    echo '
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>


    ';
}

function Template_Message_Global($title1, $title2, $data){
    $listMessage = $data["listMessage"];
    echo '
    <body class="spinner spinner-primary spinner-lg">';
        global_navbar();echo '
        <div class="masthead">
            <div class="masthead-inner">

                <div class="container">

                    <div class="row gutter-xs">
                        <div class="col-md-9">
                            <div class="card">
                                <div class="card-header">
                                    <div class="messenger-content-header">
                                        <div class="messenger-content-header-inner">
                                            <div class="messenger-toolbar">
                                                <div class="messenger-toolbar-tools pull-xs-left">
                                                    <div class="btn-group hidden-md hidden-lg">
                                                        <button class="btn btn-link link-muted" title="Back to Contacts" data-target="#contacts" data-toggle="tab" type="button">
                                                            <span class="icon icon-caret-left icon-lg icon-fw"></span>Contacts
                                                        </button>
                                                    </div>
                                                    <div class="btn-group hidden-xs hidden-sm">
                                                        <button class="btn btn-link link-muted" title="Use wisely" data-container="body" data-trigger="hover" data-placement="bottom" data-toggle="tooltip" type="button">
                                                            <span class="icon icon-users icon-lg icon-fw"></span>Group Chat is Here!
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="messenger-toolbar-tools pull-xs-right">
                                                    <div class="btn-group">

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body" id="scrolling" style="min-height:450px;max-height:450px; overflow-y:scroll">
                                    <li class="conversation-item" id="divider-button-load">
                                        <div class="divider">
                                            <div class="divider-content">
                                                <button id="load-more-message" class="btn btn-pill btn-default">Load more messages</button>
                                            </div>
                                        </div>
                                    </li>
                                    <div class="" id="layout-message">';
                                    // Template_Message($listMessage);
                                    Layout_List_Message_Global($listMessage);

                                echo '
                                    </div>

                                </div>
                                <div class="card-footer bg-primary-inverse">
                                    <form action="" id="send-message" method="post" data-toggle="validator" enctype="multipart/form-data">

                                        <div class="messenger-compose">

                                            <div class="messenger-compose-actions">
                                                <div class="messenger-compose-action">
                                                    <label class="btn btn-link link-muted file-upload-btn">
                                                        <span id="input-messageImage-icon" class="icon icon-picture-o icon-lg"></span>
                                                        <input type="file" class="file-upload-input edit-file" id="input-messageImage" name="messageImage" accept="image/*">
                                                    </label>
                                                </div>
                                                <div class="messenger-compose-action">
                                                    <label class="btn btn-link link-muted file-upload-btn">
                                                        <span id="input-messageFile-icon" class="icon icon-file-o icon-lg"></span>
                                                        <input type="file" class="file-upload-input edit-file" id="input-messageFile" name="messageFile">
                                                    </label>
                                                </div>
                                                <div class="messenger-compose-action">
                                                    <button class="btn btn-link link-muted" type="button">
                                                        <span class="icon icon-smile-o icon-lg"></span>
                                                    </button>
                                                </div>
                                                <div class="messenger-compose-action">
                                                    <button class="btn btn-outline-primary" id="button-send" type="submit">Send <span class="icon icon-arrow-circle-right"></span></button>

                                                </div>
                                            </div>
                                            <div class="messenger-compose-message">
                                                <input type="hidden" name="currentUser" value="'.$_SESSION["code"].'">
                                                <textarea class="messenger-compose-input" name="message" placeholder="Type a message..."></textarea>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>';
        true_false_popup();
        echo '

        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese-message.js"></script>
    </body>';
}

// ##################################################################################################

function Template_Message($listMessage){

    $justKidding = "";
    $justKiddingSelf = "";
    $justKiddingOther = "";
    echo '
                    <ul class="conversation">';
                    foreach($listMessage as $message){

                        if($justKidding != $message["dateCreated"]){
                            $justKidding = $message["dateCreated"];
                            echo '
                            <li class="conversation-item">
                                <div class="divider">
                                    <div class="divider-content">'.$message["dateCreated"].'</div>
                                </div>
                            </li>

                            ';

                        }


                        if($_SESSION["username"] == $message["username"]){
                            // if(strlen($justKiddingSelf) != 0){
                            //     if(!is2min($justKiddingSelf, $message["datetimeCreated"])){

                            //     }
                            // }else{
                            //     // the first
                            // }

                            echo '
                            <li class="conversation-item">
                                <div class="conversation-other">
                                    <div class="conversation-avatar">
                                        <img class="circle" width="36" height="36" src="/dashboard/drive/drive-user/user-images/'.$message["userImage"].'" alt="'.$message["username"].'">
                                    </div>

                                    <div class="conversation-messages">
                                        <div class="pull-right">'.$message["username"].'</div>
                                        <div class="conversation-message">'.$message["message"].'</div>';

                                        if(strlen($message["messageImage"]) > 5){
                                        echo '
                                        <div class="conversation-files">
                                            <ul class="file-list">
                                                <li class="file">
                                                    <a class="file-link" href="/dashboard/drive/drive-message/message-images/'.$message["messageImage"].'" title="7943544458.jpg" download="7943544458.jpg">
                                                        <div class="file-thumbnail" style="background-image: url(/dashboard/drive/drive-message/message-images/'.$message["messageImage"].')"></div>
                                                        <div class="file-info">

                                                            <span class="file-name">'.$message["imageOriginFilename"].'</span>
                                                        </div>
                                                    </a>
                                                </li>
                                          </ul>
                                        </div>


                                        ';

                                        }
                                        echo'
                                        <div class="conversation-timestamp">'.$message["timeCreated"].'</div>
                                    </div>
                                </div>
                            </li>';
                        }else{
                            echo '
                            <li class="conversation-item">
                                <div class="conversation-self">
                                    <div class="conversation-avatar">
                                        <img class="circle" width="36" height="36" src="/dashboard/drive/drive-user/user-images/'.$message["userImage"].'" alt="'.$message["username"].'">
                                    </div>
                                    <div class="conversation-messages">
                                        <div class="">'.$message["username"].'</div>
                                        <div class="conversation-message">'.$message["message"].'</div>

                                        <div class="conversation-timestamp pull-left">'.$message["timeCreated"].'</div>
                                    </div>
                                </div>
                            </li>';
                        }
                    }
                    echo'
                    </ul>



    ';
}

function Layout_List_Message_Admin($listMessage){

    $justKidding = "";
    foreach($listMessage as $message){
        if($justKidding != $message["dateCreated"]){
            echo '
                <li class="conversation-item">
                    <div class="divider">
                        <div class="divider-content">'.$message["dateCreated"].'</div>
                    </div>
                </li>';
            $justKidding = $message["dateCreated"];
        }
        if($_SESSION["username"] == $message["username"]){
            echo '
                <li class="conversation-item">
                    <div class="conversation-other">
                        <div class="conversation-avatar">
                            <img class="circle" width="36" height="36" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$message["userImage"].'" alt="'.$message["username"].'">
                        </div>
                        <div class="conversation-messages">
                            <div class="pull-right text-crimson">'.$message["name"].'</div>
                            <div class="conversation-message" id="conversation-message-'.$message["messageID"].'">'.nl2br($message["message"]).'</div>


                            ';
                            if(strlen($message["messageImage"]) > 5 || strlen($message["messageFile"]) > 5){
                            echo '
                            <div class="conversation-files">
                                <ul class="file-list">
                                    <li class="file">';
                                    if(strlen($message["messageImage"]) > 5){
                                        echo '<a class="file-link" href="/dashboard/drive/drive-message/message-images/'.$message["messageImage"].'" title="">
                                                <div class="file-thumbnail" style="background-image: url(/dashboard/drive/drive-message/message-images/'.$message["messageImage"].')"></div>
                                                <div class="file-info">
                                                    <span class="file-name">'.$message["imageOriginFilename"].'</span>
                                                </div>
                                            </a>';
                                    }if(strlen($message["messageFile"]) > 5){
                                        echo '<a class="file-link" href="/dashboard/drive/drive-message/message-file/'.$message["messageFile"].'" title="" download="/dashboard/drive/drive-message/message-file/'.$message["messageFile"].'">

                                                <div class="file-info">
                                                    <span class="file-name">'.$message["imageOriginFilename"].'</span>
                                                </div>
                                            </a>
                                            ';
                                    }


                                        echo '
                                    </li>
                                </ul>
                            </div>';
                            }echo'
                            <div class="conversation-timestamp">'.$message["timeCreated"].'</div>
                        </div>
                    </div>
                </li>';
        }else{
            echo '
                <li class="conversation-item">
                    <div class="conversation-self">
                        <div class="conversation-avatar">
                            <img class="circle" width="36" height="36" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$message["userImage"].'" alt="'.$message["username"].'">
                        </div>
                        <div class="conversation-messages">
                            <div>
                                <a class="text-crimson" href="#">'.$message["name"].'</a>
                            </div>
                            <div class="conversation-message">'.nl2br($message["message"]).'</div>';
                        if(strlen($message["messageImage"]) > 5 || strlen($message["messageFile"]) > 5){
                            echo '
                            <div class="conversation-files">
                                <ul class="file-list">
                                    <li class="file">';
                                    if(strlen($message["messageImage"]) > 5){
                                        echo '<a class="file-link" href="/dashboard/drive/drive-message/message-images/'.$message["messageImage"].'" title="">
                                                <div class="file-thumbnail" style="background-image: url(/dashboard/drive/drive-message/message-images/'.$message["messageImage"].')"></div>
                                                <div class="file-info">
                                                    <span class="file-name">'.$message["imageOriginFilename"].'</span>
                                                </div>
                                            </a>';
                                    }
                                    if(strlen($message["messageFile"]) > 5){
                                        echo '<a class="text-info" href="/dashboard/drive/drive-message/message-file/'.$message["messageFile"].'" title="" download="/dashboard/drive/drive-message/message-file/'.$message["messageFile"].'">

                                                <div class="file-info">
                                                    <span class="file-name"><span class="icon icon-download"></span> '.$message["fileOriginFilename"].'</span>
                                                </div>
                                            </a>
                                            ';
                                    }


                                        echo '
                                    </li>
                                </ul>
                            </div>';
                        }echo'

                            <div class="conversation-timestamp pull-left">'.$message["timeCreated"].'</div>
                        </div>
                    </div>
                </li>';
        }
    }
}

function Layout_List_Message_Global($listMessage){
    echo '

    ';
    $justKidding = "";
    $z=0;
    foreach($listMessage as $message){
        $z += 1;
        if($z==100){
            break;
        }
        if($justKidding != $message["dateCreated"]){
            echo '
                <li class="conversation-item">
                    <div class="divider">
                        <div class="divider-content">'.$message["dateCreated"].'</div>
                    </div>
                </li>';
            $justKidding = $message["dateCreated"];
        }
        if($_SESSION["username"] == $message["username"]){
            echo '
                <li class="conversation-item">
                    <div class="conversation-other">
                        <div class="conversation-avatar">
                            <img class="circle" width="36" height="36" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$message["userImage"].'" alt="'.$message["username"].'">
                        </div>
                        <div class="conversation-messages">
                            <div class="pull-right text-crimson">'.$message["name"].'</div>
                            <div class="conversation-message">'.nl2br($message["message"]).'</div>';
                            if(strlen($message["messageImage"]) > 5 || strlen($message["messageFile"]) > 5){
                            echo '
                            <div class="conversation-files">
                                <ul class="file-list">
                                    <li class="file">';
                                    if(strlen($message["messageImage"]) > 5){
                                        echo '<a class="file-link" href="/dashboard/drive/drive-message/message-images/'.$message["messageImage"].'" title="">
                                                <div class="file-thumbnail" style="background-image: url(/dashboard/drive/drive-message/message-images/'.$message["messageImage"].')"></div>
                                                <div class="file-info">
                                                    <span class="file-name">'.$message["imageOriginFilename"].'</span>
                                                </div>
                                            </a>';
                                    }if(strlen($message["messageFile"]) > 5){
                                        echo '<a class="file-link" href="/dashboard/drive/drive-message/message-file/'.$message["messageFile"].'" title="" download="/dashboard/drive/drive-message/message-file/'.$message["messageFile"].'">

                                                <div class="file-info">
                                                    <span class="file-name"><span class="icon icon-download"></span> '.$message["fileOriginFilename"].'</span>
                                                </div>
                                            </a>
                                            ';
                                    }


                                        echo '
                                    </li>
                                </ul>
                            </div>';
                            }echo'
                            <div class="conversation-timestamp">'.$message["timeCreated"].'</div>
                        </div>
                    </div>
                </li>';
        }else{
            echo '
                <li class="conversation-item">
                    <div class="conversation-self">
                        <div class="conversation-avatar">
                            <img class="circle" width="36" height="36" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$message["userImage"].'" alt="'.$message["username"].'">
                        </div>
                        <div class="conversation-messages">
                            <div>
                                <a class="text-crimson" href="#">'.$message["name"].'</a>
                            </div>
                            <div class="conversation-message">'.nl2br($message["message"]).'</div>';
                        if(strlen($message["messageImage"]) > 5 || strlen($message["messageFile"]) > 5){
                            echo '
                            <div class="conversation-files">
                                <ul class="file-list">
                                    <li class="file">';
                                    if(strlen($message["messageImage"]) > 5){
                                        echo '<a class="file-link" href="/dashboard/drive/drive-message/message-images/'.$message["messageImage"].'" title="">
                                                <div class="file-thumbnail" style="background-image: url(/dashboard/drive/drive-message/message-images/'.$message["messageImage"].')"></div>
                                                <div class="file-info">
                                                    <span class="file-name">'.$message["imageOriginFilename"].'</span>
                                                </div>
                                            </a>';
                                    }
                                    if(strlen($message["messageFile"]) > 5){
                                        echo '<a class="text-info" href="/dashboard/drive/drive-message/message-file/'.$message["messageFile"].'" title="" download="/dashboard/drive/drive-message/message-file/'.$message["messageFile"].'">

                                                <div class="file-info">
                                                    <span class="file-name"><span class="icon icon-download"></span> '.$message["fileOriginFilename"].'</span>
                                                </div>
                                            </a>
                                            ';
                                    }


                                        echo '
                                    </li>
                                </ul>
                            </div>';
                        }echo'

                            <div class="conversation-timestamp pull-left">'.$message["timeCreated"].'</div>
                        </div>
                    </div>
                </li>';
        }
    }
}

function Layout_information($informationList){

    if(sizeof($informationList) != 0){
        foreach ($informationList as $information) {
            echo '
        <div class="col-md-3">
            <div class="card">
                <div class="card-header"style="color:black;background-color:#DEB887" >
                    <div class="media">
                        
                        <div class="media-middle media-body">
                            <em>by</em>
                            <a class="link-muted" href="#" style="color:black">
                                <strong>'.$information["createdBy"].'</strong>
                            </a>
                        </div>
                        <div class="media-right">
                            <span id="my-icon" style="" class="circle bg-primary sq-24 pull-right" data-toggle="modal" data-target="#delete-information-'.$information["informationID"].'">
                                  <span class="icon icon-trash"></span>
                            </span>
                            <span id="my-icon" class="bg-success circle sq-24 pull-right" data-toggle="modal"
                              data-target="#edit-information-'.$information["informationID"].'">
                                  <span class="icon icon-edit"></span>
                            </span>
                        </div>
                    </div>
                </div>
                
                <div class="card-body">
                    <h4 class="card-title fw-l">
                        <a class="link-muted" href="#" style="color:black">'.$information["informationTitle"].' </a>
                    </h4>';
                if($information["informationUrl"] != "NONE"){
                        echo '
                    <p style="height:100px; overflow-y:scroll">
                    <small>'.$information["informationDescription"].'</small>
                    </p>';
                }else{
                    echo '
                    <p style="height:140px; overflow-y:scroll">
                    <small>'.$information["informationDescription"].'</small>
                    </p>';
                }
                echo '
                </div>';
                if($information["informationUrl"] != "NONE"){
                        echo '
                <div class="card-footer" style="height:40px;>
                    <a href="'.nl2br($information["informationUrl"]).'" class="btn btn-outline-warning btn-pill btn-xs" style="margin-top:-10px;"><span class="icon icon-share"></span> Kunjungi link</a>
                </div>';
                }
                echo '
            </div>
        </div>';
        }
    }
}

function Layout_information_global($informationList){

    if(sizeof($informationList) != 0){
        foreach ($informationList as $information) {
            echo '
        <div class="col-md-3">
            <div class="card">
                <div class="card-header"style="color:black;background-color:#DEB887" >
                    '.superNiceDateFormat($information["dateCreated"]).'
                </div>
                
                <div class="card-body">
                    <h4 class="card-title fw-l">
                        <a class="link-muted" href="#" style="color:black">'.$information["informationTitle"].' </a>
                    </h4>';
                if($information["informationUrl"] != "NONE"){
                        echo '
                    <p style="height:100px; overflow-y:scroll">
                    <small>'.$information["informationDescription"].'</small>
                    </p>';
                }else{
                    echo '
                    <p style="height:140px; overflow-y:scroll">
                    <small>'.$information["informationDescription"].'</small>
                    </p>';
                }
                echo '
                </div>';
                if($information["informationUrl"] != "NONE"){
                        echo '
                <div class="card-footer" style="height:40px;>
                    <a href="'.nl2br($information["informationUrl"]).'" class="btn btn-outline-warning btn-pill btn-xs" style="margin-top:-10px;"><span class="icon icon-share"></span> Kunjungi link</a>
                </div>';
                }
                echo '
            </div>
        </div>';
        }
    }else{
        echo "<h1>Tidak Ada Notifikasi</h1>";
    }
}

function Layout_Quest_Global($subject, $questList){

    if(sizeof($questList) == 0){
        echo '<h3 class="text-crimson"><span class="icon icon-warning"></span> Tidak ada quest</h3>';
    }else{
        echo '
        <div class="row bg-crimson">
            <div class="col-lg-8 col-lg-offset-2">
                <div class="demo-form-wrapper">
                    <form action="" id="quest-answer" novalidate method="post" novalidate enctype="multipart/form-data">
                        <input type="hidden" name="addQAnswer" value="">
                        <input type="hidden" name="username" value="'.$_SESSION["username"].'">
                        <input type="hidden" name="subjectID" value="'.$subject["subjectID"].'">
                        <ul class="steps">';
                        $i = 0;

                        foreach ($questList as $quest) {
                            $tabActive = $i == 0 ? "active" : "";
                            $i++;
                            echo '
                                <li class="step col-xs-4 '.$tabActive.'">
                                    <input type="hidden" name="questionID-'.$quest["questionID"].'" value="'.$quest["questionID"].'">
                                    <a class="step-segment" href="#tab-'.$i.'" data-toggle="tab">
                                        <span class="step-icon icon icon-file"></span>
                                    </a>
                                    <div class="step-content">
                                        <strong class="hidden-xs">Quest '.$i.'</strong>
                                    </div>
                                </li>';
                        }
                            echo '
                        </ul>
                        <div class="tab-content">
                        ';
                        $i = 0;
                        foreach ($questList as $quest) {
                            $tabActive = $i == 0 ? "active" : "";
                            $i++;
                            echo '
                            <div id="tab-'.$i.'" class="tab-pane '.$tabActive.'">
                                <h4 class="text-center m-y-md">
                                    <span>Question no. '.$i.'</span>
                                </h4>
                                <div class="row">
                                    <div class="card">
                                        <div class="card-header my-color">
                                            <h4><p>'.nl2br($quest["question"]).'</p></h4>
                                        </div>
                                    </div>
                                    <div class="card-body">';
                                        foreach ($quest["optionList"] as $key => $value) {
                                            echo '
                                        <div class="row gutter-xs">
                                            <div class="col-sm-6">
                                                <div class="radio">
                                                    <div class="form-group">
                                                        <label>
                                                            <div class="input-group">
                                                                <input type="hidden" name="questionID-'.$quest["questionID"].'" value="'.$quest["questionID"].'">
                                                                <input type="radio" name="option-'.$quest["questionID"].'" value="'.$value.'">
                                                                <span class="input-group-btn">
                                                                    <button class="btn btn-default" type="button">
                                                                        '.$key.'
                                                                    </button>
                                                                </span>
                                                                <input name="value-'.$quest["questionID"].'" class="form-control text-crimson" type="text" value="'.$value.'" disabled required>
                                                            </div>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>';
                                        }echo '
                                    </div>';

                                    if($i == sizeof($questList)){
                                        echo '
                                        <div class="row gutter-xs">
                                            <div class="form-group">

                                                <button id="submit-answer" class="btn btn-primary btn-block" type="submit">Submit</button>
                                            </div>
                                        </div>
                                        ';
                                    }

                                    echo '
                                </div>
                            </div>';

                            }echo '
                        </div>
                    </form>
                </div>
            </div>
        </div>';
    }
}

function Layout_event($eventList){
    if(sizeof($eventList) != 0){
        foreach ($eventList as $event) {
            echo '
                <div class="col-md-4 col-sm-6 col-xs-12">
                    <div class="card">
                        
                        <div class="card-header" style="height:100px">
                            <a href="/dashboard/event/event-detail.php?event='.$event["eventID"].'">
                            <h4 class="" style="color:#00BFFF">
                                <span class="icon icon-calendar"></span>
                                <label>'.$event["eventName"].'</label>
                                
                            </h4>
                            </a>
                        </div>
                        <div class="card-body">
                            <table class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%" style="color:#20B2AA">
                                <tr>
                                    <td>Dimulai</td>
                                    <th>'.superNiceDateFormat($event["eventStart"]).'</th>
                                </tr>
                                <tr>
                                    <td>Berakhir</td>
                                    <th>'.superNiceDateFormat($event["eventEnd"]).'</th>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>';
        }
    }else{
        echo '<h3 class="text-warning">Tidak ada event</h3>';
    }
}

function layout_event_global($eventList){
    if(sizeof($eventList) != 0){
        foreach ($eventList as $event) {
            echo '
                <div class="col-md-4 col-sm-6 col-xs-12 col-lg-4">
                    <div class="card">
                        <div class="card-header" style="height:100px">
                            <h4 class="text-crimson">
                                <span class="icon icon-calendar"></span>
                                <label>'.$event["eventName"].'</label>
                                
                            </h4>
                        </div>
                        <div class="card-body">
                            <button class="btn btn-outline-warning btn-pill btn-xs" style="margin-top:-10px;" data-toggle="modal" data-target="#modal-global-self-registerEvent-'.$event["eventID"].'">Join Event</button>
                            <table class="table table-striped text-crimson table-nowrap dataTable" cellspacing="0" width="100%">
                                <tr>
                                    <td>Dimulai</td>
                                    <th>'.superNiceDateFormat($event["eventStart"]).'</th>
                                </tr>
                                <tr>
                                    <td>Berakhir</td>
                                    <th>'.superNiceDateFormat($event["eventEnd"]).'</th>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>';
        }
    }else{
        echo '<h3 class="">Tidak ada event</h3>';
    }
}

function layout_followed_event($eventList){
    if(sizeof($eventList) != 0){
        foreach ($eventList as $event) {
            echo '
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-header" style="height:100px">
                            <h4 class="text-crimson">
                                <span class="icon icon-calendar"></span>
                                <label>
                                    <a href="/dashboard/event/event-detail.php?event='.$event["eventID"].'&registrationCode='.$event["registrationCode"].'">'.$event["eventName"].'</a>';
                                    if($event["absentStatus"] == 0){
                                        echo ' <span class="push-right label label-outline-default">Belum hadir</span>';
                                        $absent = "Belum hadir";
                                    }else if($event["absentStatus"] == 1){
                                        echo ' <span class="push-right label label-outline-success">Hadir</span>';
                                    }else{
                                        echo ' <span class="push-right label label-outline-danger">Tidak hadir</span>';
                                    }
                                    echo '
                                </label>
                            </h4>
                        </div>
                        <div class="card-body">
                            <button id="click-me-'.$event["registrationCode"].'" class="btn btn-outline-primary btn-pill btn-xs" style="margin-bottom:4px;"><span class="icon icon-copy"></span> <strong>'.$event["registrationCode"].'</strong>
                            </button><br>
                            <a href="/dashboard/event/event-detail.php?event='.$event["eventID"].'&registrationCode='.$event["registrationCode"].'" class="btn btn-outline-warning btn-pill btn-xs" style="margin-bottom:4px;"><span class="icon icon-upload"></span> Upload File</strong>
                            </a><br>
                            <button class="btn btn-outline-warning btn-pill btn-xs" data-toggle="modal" data-target="#modal-global-self-cancelEvent-'.$event["eventID"].'"><span class="icon icon-close"></span> cancel event</strong>
                            </button><br>
                            <table id="demo-datatables-scroller-1" class="table table-striped text-crimson table-nowrap dataTable" cellspacing="0" width="100%">
                                <tr>
                                    <td>Dimulai</td>
                                    <th>'.superNiceDateFormat($event["eventStart"]).'</th>
                                </tr>
                                <tr>
                                    <td>Berakhir</td>
                                    <th>'.superNiceDateFormat($event["eventEnd"]).'</th>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>';
        }
    }else{
        echo '<h3 class="text-warning">Tidak ada event</h3>';
    }
}

function Layout_MyPoint($myPoints){
    if(sizeof($myPoints) == 0){
        echo '<h3 class="text-crimson"><span class="icon icon-warning"></span> Tidak ada point</h3>';
    }else{
        echo '
        <table id="demo-datatables-scroller-1" class="table table-striped bg-crimson table-nowrap dataTable" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>No.</th>
                    <th>Username</th>
                    <th>Tanggal</th>
                    <th>Jam</th>
                    <th>Point</th>

                </tr>
            </thead>
            <tbody>';
                $i = 0;
                foreach ($myPoints as $myPoint) {
                    $i++;
                    echo '
                <tr class=" text-crimson">
                    <td>'.$i.'</td>
                    <td>'.$myPoint["username"].'</td>
                    <td>'.date_formating($myPoint["dateCreated"]).'</td>
                    <td>'.time_formating2($myPoint["dateCreated"]).'</td>
                    <td>'.$myPoint["myPoint"].'</td>
                </tr>';
                }

                        echo '
            </tbody>
        </table>';
    }
}

function Layout_Cool_Carousel_Global($carouselList, $listSubject, $listCategory, $listMShelter){
    echo '

        <div class="card">
            <div class="overlay">
                <div class="overlay-image">
                    <div class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner" role="listbox">';
                            $i=0;
                            foreach ($carouselList as $carousel) {
                                $i ++;
                                if($i == 1){

                                    if(strlen($carousel["imageName"]) > 1){
                                        echo '
                                        <div class="item active">
                                            <img class="img-responsive carousel-image-haha" src="/dashboard/drive/drive-carousel/carousel-images/'.$carousel["imageName"].'" alt="'.$carousel["imageName"].'" style="width:100%; height:560px">
                                        </div>';
                                    }else{
                                        echo '
                                        <div class="item active">
                                            <video class="img-responsive carousel-image-haha" alt="'.$carousel["videoName"].'" style="width:100%; height:560px" autoplay controls muted>
                                            <source src="/dashboard/drive/drive-carousel/carousel-videos/'.$carousel["videoName"].'">
                                            </video>
                                        </div>';
                                    }
                                }else{
                                    if(strlen($carousel["imageName"]) > 1){
                                        echo '
                                            <div class="item">
                                                <img class="img-responsive carousel-image-haha" src="/dashboard/drive/drive-carousel/carousel-images/'.$carousel["imageName"].'" alt="'.$carousel["imageName"].'" style="width:100%; height:560px;">

                                            </div>';
                                    }else{
                                        echo '
                                        <div class="item">
                                            <video class="img-responsive carousel-image-haha" alt="'.$carousel["videoName"].'" style="width:100%; height:560px" autoplay controls muted>
                                            <source src="/dashboard/drive/drive-carousel/carousel-videos/'.$carousel["videoName"].'">
                                            </video>
                                        </div>
                                        ';
                                    }
                                }
                            }echo'
                        </div>
                    </div>
                </div>
                <div class="overlay-content">
                    <h2 class="card-title">Selamat Datang
                        <br>'.$_SESSION["name"].'</h2>
                        <p class="card-divider"></p>
                        <p></p>
                        <ul class="list-inline">
                            <li>
                                <a class="link-inverted" href="#">
                                    <span class="icon icon-book"></span>
                                    '.sizeof($listSubject).' Materi
                                </a>
                            </li>
                            <li>
                                <a class="link-inverted" href="#">
                                    <span class="icon icon-book"></span>
                                    '.sizeof($listCategory).' Bidang
                                </a>
                            </li>
                            <li>
                                <a class="link-inverted" href="#">
                                    <span class="icon icon-book"></span>
                                    '.sizeof($listMShelter).' Fokus Jabatan
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
    ';
}

function Layout_the_top_menu_global($listInformation = array()){

    echo '
    <div class="card">
        <div class="card-header my-color">
            <strong>Learning Center</strong>
        </div>
        <div class="card-body">
            <div class="row gutter-xs nav nav-tabs">
                <a href="/dashboard/event" class="btn btn-pill btn-lg"><span class="icon icon-calendar"></span> Event</a>
                <a href="/dashboard/materi" class="btn btn-pill btn-lg"><span class="icon icon-book"></span> Materi</a>
                <a href="/dashboard/message" class="btn btn-pill btn-lg"><span class="icon icon-works">N</span> Message</a>
                <a href="/dashboard/notification" class="btn btn-pill btn-lg "><span class="icon icon-exclamation-circle"></span> Notification <span class="badge bg-warning">'.sizeof($listInformation).'</span></a>
            </div>
        </div>
    </div>';
}

function Layout_the_top_menu_global_1(){
    echo '
    <div class="card">
        <div class="card-header bg-primary">
            <strong>Learning Center</strong>
        </div>
        <div class="card-body" style="width:100%">
            <div class="row gutter-xs nav nav-tabs" style="height:50px">
                <a href="#listEvent" data-toggle="tab" class="active in btn btn-pill btn-lg bg-primary"><span class="icon icon-calendar"></span> List Event</a>
                <a href="#followedEvent" data-toggle="tab" class="btn btn-pill btn-lg bg-primary"><span class="icon icon-calendar"></span> Event Diikuti</a>
                <h4 class="pull-right text-primary" style="margin-top:4px"><label id="">'.date_formating(date("Y-m-d H:i:s")).'</label></h4><br>
                <h5 class="pull-right text-primary" style="margin-top:-10px; margin-bottom:-9px"><label id="realtimeTime">00:00:00 PM</label></h5>
            </div>
            
        </div>

        
    </div>

    ';
}

// ##################################################################################################


function Dashboard_x($title1, $title2, $data){
    echo '
        <body class="spinner spinner-primary spinner-lg">';

        global_navbar();
    echo '

            <div class="masthead">
                <div class="masthead-inner">
                    <div class="container">
                        <div class="row gutter-xs">


                            <div class="col-md-6">
                                <div class="panel panel-body text-center" data-toggle="match-height" style="height: 128px;">
                                    <h5>Verifikasi Sertifikat</h5>
                                    <p class="small text-muted">Masukan ID Sertifikat</p>
                                    <div class="input-group date">
                                        <input id="certificateID" name="certificateID" class="form-control" type="text">
                                        <span class="input-group-btn">
                                            <button id="search-c-id" class="btn my-color" type="button">
                                                <strong><span class="icon-switch icon icon-search"></span></strong>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                                <div class="alert alert-warning" id="w-search"><span class="icon icon-exclamation-circle icon-lg"></span> Masukan sertifikat ID</div>
                                <div class="alert alert-danger hidden" id="f-search"><span class="icon icon-exclamation-circle icon-lg"></span> Sertifikat tidak terdaftar</div>
                                <div class="alert alert-info hidden" id="s-search"><span class="icon icon-check-circle-o icon-lg"></span> Sertifikat terdaftar</div>
                            </div>

                        </div>
                        <div class="row gutter-xs">
                            <div class="col-md-6 col-xs-12" id="success-search">
                        ';
                        search($data);
                        echo '
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </body>

        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>
        <script>
            $(document).ready(function(){
                $("#search-c-id").on("click", function(){
                    $("#search-c-id").prop("disabled", true);
                    $(".icon-switch").removeClass("icon").removeClass("icon-search");
                    $(".icon-switch").addClass("spinner spinner-default pos-r sq-18");
                    var certificateID = $("#certificateID").val();
                    var formData = new FormData();
                    formData.append("check-certificate", certificateID);
                    $.ajax({
                        type: "POST",
                        processData: false,
                        contentType: false,
                        enctype: "multipart/form-data",
                        url: "/handler/handler_ajax_certificate.php",
                        data: formData,
                        success: function (data) {

                            var result = $.parseJSON(data);

                            if(result.info === "success"){
                                $("#f-search").addClass("hidden");
                                $("#w-search").addClass("hidden");
                                $("#s-search").removeClass("hidden");
                                $("#image").attr("src", "/dashboard/drive/drive-user/user-images/" + result.image);
                                $("#tagName").html(result.name + "(" + result.username + ")");
                                $("#hp").html(result.hp);
                                $("#suc").html(result.certificateCode);
                                $("#nip").html(result.nip);
                                $("#email").html(result.email);
                                $("#birthDate").html(result.tempat + ", " + result.birthDate);
                                $("#golongan").html(result.golongan);
                                $("#jataban").html(result.jabatan);
                                $("#instansi").html(result.instansi);
                                $("#unitKerja").html(result.unitKerja);
                                $("#timeRead").html(result.timeRead);
                                $("#totalSubjectRead").html(result.totalSubjectRead);
                                $("#totalQuestion").html(result.totalQuestion);
                            }else if(result.info === "Tidakkkkk"){
                                $("#s-search").addClass("hidden");
                                $("#w-search").addClass("hidden");
                                $("#f-search").removeClass("hidden");
                                $("#tagName").html("Empty");
                                $("#hp").html("Empty");
                                $("#suc").html("Empty");
                                $("#nip").html("Empty");
                                $("#email").html("Empty");
                                $("#birthDate").html("Empty");
                                $("#golongan").html("Empty");
                                $("#golongan").html("Empty");
                                $("#jataban").html("Empty");
                                $("#instansi").html("Empty");
                                $("#unitKerja").html("Empty");
                                $("#timeRead").html("Empty");
                                $("#totalSubjectRead").html("Empty");
                                $("#totalQuestion").html("Empty");
                                $("#image").attr("src", "/dashboard/drive/drive-user/user-images/default.jpg");

                            }else{

                                $("#failedMessage").html(result.info);
                                $("#f-search").addClass("hidden");
                                $("#s-search").addClass("hidden");
                                $("#w-search").addClass("hidden");
                            }
                            $("#search-c-id").prop("disabled", false);
                            $(".icon-switch").removeClass("spinner spinner-default pos-r sq-18");
                            $(".icon-switch").addClass("icon icon-search");
                        },
                        error: function(){
                            alert("error in ajax form submission");
                        }
                    });
                });
            });
        </script>
        ';
        true_false_popup();
}

function certificate_x($title1, $title2, $data){
    echo '
        <body class="spinner spinner-primary spinner-lg">';

        global_navbar();
    echo '

            <div class="masthead">
                <div class="masthead-inner">
                    <div class="container">
                        <div class="row gutter-xs">


                            <div class="col-md-6">';
                            if($data["verification"]){
                                echo '
                                <h3 class="alert alert-info" id="s-search"><span class="icon icon-check-circle-o icon-lg"></span> Sertifikat terdaftar</h3>
                                ';
                            }else{
                                echo '
                                <h3 class="alert alert-danger" id="f-search"><span class="icon icon-exclamation-circle icon-lg"></span> Sertifikat tidak terdaftar</h3>
                                ';
                            }
                                echo '
                            </div>

                        </div>
                        <div class="row gutter-xs">
                            <div class="col-md-6 col-xs-12" id="success-search">
                        ';
                        if($data["verification"]){
                            result($data["user"]);
                        }

                        echo '
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <script src="/template_vendor/js/vendor.min.js"></script>
            <script src="/template_vendor/js/elephant.min.js"></script>
            <script src="/template_vendor/js/application.min.js"></script>
            <script src="/template_vendor/js/demo.min.js"></script>
            <script src="/template_vendor/js/landing-page.min.js"></script>
        </body>';
}

function Setting_globalPage($title1, $title2, $user){
    echo '
        <body class="spinner spinner-primary spinner-lg">';

        global_navbar();
    echo '
        <div class="masthead" style="text-align:left;" >
            <div class="masthead-inner">
                <div class="container">
                    <div class="col-md-6">

                        <div class="signup-form">
                            <form action="" data-toggle="validator" id="editMyAccount">
                                <input type="hidden" name="editUser" value="self">

                                <input type="hidden" name="userID" value="'.$user["userID"].'">

                                <div class="row gutter-xs">
                                    <div class="col-sm-5 col-xs-5">
                                        <div class="form-group">
                                            <label class="file-upload-btn btn btn-danger">
                                                Upload foto <span class="icon icon-image"></span>
                                                <input type="file" class="file-upload-input edit-file" id="file" name="profileImage" accept="image/*">
                                            </label>
                                            <div id="image-preview-div">
                                                <label for="exampleInputFile">Selected image:</label><br>
                                                <a id="profile-image-'.$user["userID"].'"><img id="preview-img" class="timeline-media img-rounded" width="150" height="150" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$user["image"].'">
                                                </a>
                                            </div>
                                            <div id="message"></div>
                                        </div>
                                    </div>

                                    <div class="col-sm-7 col-xs-7">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label for="Username">Username</label>
                                                <input class="form-control" type="text" name="username" spellcheck="false" autocomplete="off" minlength="6" data-msg-minlength="username minimal 6 characters atau lebih." data-msg-required="Please enter your username." value="'.$user["username"].'" required>
                                            </div>
                                        </div>

                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label for="password">Password</label>
                                                <input class="form-control" type="password" value="'.$user["password"].'" name="password" minlength="6" data-msg-minlength="Password must be 6 characters or more." data-msg-required="Please enter your password." required>
                                                <small class="help-block">6-character minimum; case sensitive.</small>
                                            </div>
                                        </div>

                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label for="email">Email</label>
                                                <input class="form-control" type="email" name="email" spellcheck="false" autocomplete="off" data-msg-required="Please enter your email address." value="'.$user["email"].'" required>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="first-name">First name</label>
                                            <input class="form-control" type="text" name="firstName" spellcheck="false" data-msg-required="Please enter your first name." minlength="4" data-msg-minlength="nama depan minimal 4 characters atau lebih." required value="'.$user["firstName"].'">
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="last-name">Last name</label>
                                            <input class="form-control" type="text" name="lastName" spellcheck="false" data-msg-required="Please enter your last name." minlength="4" data-msg-minlength="nama belakang minimal 4 characters atau lebih." required value="'.$user["lastName"].'">
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="gender">Gender</label>
                                            <select class="custom-select" name="gender" data-msg-required="Please indicate your gender." form="editMyAccount" required>';
                                                if($user["gender"] == "Laki-Laki" || $user["gender"] == "1"){
                                                    echo '
                                                    <option value="Laki-Laki" selected="selected">Laki-Laki</option>
                                                    <option value="Perempuan">Perempuan</option>';
                                                }else if($user["gender"] == "Perempuan"|| $user["gender"] == "2"){
                                                    echo '
                                                    <option value="Laki-Laki">Laki-Laki</option>
                                                    <option value="Perempuan" selected="selected">Perempuan</option>
                                                    ';
                                                }echo '

                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="hp">Nomor HP</label>
                                            <input class="form-control" type="text" name="hp" spellcheck="false" autocomplete="off" data-msg-required="Please enter your nip." value="'.$user["phone"].'" required>
                                        </div>
                                    </div>
                                </div>';

                                if($user["type"] == 4){
                                    echo '
                                <input type="hidden" name="editProfile" value="setting">

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="tempat">Tempat Kelahiran</label>
                                            <input class="form-control" type="text" name="tempat" spellcheck="false" autocomplete="off" data-msg-required="Please enter your place." value="'.$user["tempat"].'" required>
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="birth-month">Tanggal Lahir</label>
                                            <div class="row gutter-xs">
                                                <div class="col-xs-6">
                                                    <div class="form-group">
                                                        <select id="birth-month" class="custom-select" name="birthMonth" data-msg-required="Please enter your birthday." required aria-required="true">';
                                                            foreach (birthMonth() as $n => $month) {
                                                                $temp = int_to_month($user["birthMonth"]);
                                                                if($temp == $month){
                                                                    echo '<option value="'.$n.'" selected>'.$month.'</option>';
                                                                }else{
                                                                    echo '<option value="'.$n.'">'.$month.'</option>';
                                                                }

                                                            }

                                                                echo '
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-xs-3">
                                                    <div class="form-group">
                                                        <input id="birth-day" class="form-control" type="number" name="birthDay" placeholder="Day" min="1" max="31" data-msg-min="Please enter a valid day of the month." data-msg-max="Please enter a valid day of the month." data-msg-required="Please enter your birthday." required="" aria-required="true" value="'.$user["birthDay"].'">
                                                    </div>
                                                </div>
                                                <div class="col-xs-3">
                                                    <div class="form-group">
                                                        <input id="birth-year" class="form-control" type="number" name="birthYear" placeholder="Year" min="1900" max="2017" data-msg-min="Please enter a valid year." data-msg-max="Please enter a valid year." data-msg-required="Please enter your birthday." required="" aria-required="true" value="'.$user["birthYear"].'">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="nip">NIP</label>
                                            <input class="form-control" type="text" name="nip" spellcheck="false" autocomplete="off" data-msg-required="Please enter your nip." value="'.$user["nip"].'" required>
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="golongan">Pangkat/Golongan</label>
                                            <input class="form-control" type="text" name="golongan" spellcheck="false" autocomplete="off" data-msg-required="Please enter your golongan." value="'.$user["golongan"].'" required>
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="jabatan">Jabatan</label>
                                            <input class="form-control" type="text" name="jabatan" spellcheck="false" autocomplete="off" data-msg-required="Please enter your jabatan." value="'.$user["jabatan"].'" required>
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="unitKerja">Unit Kerja</label>
                                            <input class="form-control" type="text" name="unitKerja" spellcheck="false" autocomplete="off" data-msg-required="Please enter your unitKerja." value="'.$user["unitKerja"].'" required>
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="instansi">Instansi</label>
                                            <input class="form-control" type="text" name="instansi" spellcheck="false" autocomplete="off" data-msg-required="Please enter your instansi." value="'.$user["instansi"].'" required>
                                        </div>
                                    </div>
                                </div>

                                    ';
                                }

                                echo '
                                <div class="col-sm-12 text-right">

                                    <button type="submit" class="btn my-color" id="editMe">Save</button>
                                </div>
                            </form>
                        </div>


                    </div>
                </div>
            </div>
        </div>

        </body>
    ';

    true_false_popup();
    echo '
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>
        <script src="/template/js/richeese.js"></script>


    ';
}

function Setting_adminPage($title1, $title2, $user){

    echo '
        <body class="layout layout-header-fixed layout-sidebar-fixed">
            <div class="layout-header">';nav_bar($title1, $title2);echo'</div>
            <div class="layout-main">';sidebar(); echo '

                <div class="layout-content">
                    <div class="layout-content-body">
                        <div class="row gutter-xs">



                            <div class="signup-form">
                                <form action="" data-toggle="validator" id="editMyAccount">
                                    <input type="hidden" name="editUser" value="self">
                                    <input type="hidden" name="userID" value="'.$user["userID"].'">

                                    <div class="row gutter-xs">
                                        <div class="col-sm-5 col-xs-5">
                                            <div class="form-group">
                                                <label class="file-upload-btn btn btn-info">
                                                    Upload foto <span class="icon icon-image"></span>
                                                    <input type="file" class="file-upload-input edit-file" id="file" name="profileImage" accept="image/*">
                                                </label>
                                                <div id="image-preview-div">
                                                    <label for="exampleInputFile">Selected image:</label><br>
                                                    <a id="profile-image-'.$user["userID"].'"><img id="preview-img" class="timeline-media img-rounded" width="150" height="150" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$user["image"].'">
                                                    </a>
                                                </div>
                                                <div id="message"></div>
                                            </div>
                                        </div>

                                        <div class="col-sm-7 col-xs-7">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="first-name">First name</label>
                                                    <input class="form-control" type="text" name="firstName" spellcheck="false" data-msg-required="Please enter your first name." minlength="4" data-msg-minlength="nama depan minimal 4 characters atau lebih." required value="'.$user["firstName"].'">
                                                </div>
                                            </div>
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="last-name">Last name</label>
                                                    <input class="form-control" type="text" name="lastName" spellcheck="false" data-msg-required="Please enter your last name." minlength="4" data-msg-minlength="nama belakang minimal 4 characters atau lebih." required value="'.$user["lastName"].'">
                                                </div>
                                            </div>
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="gender">Gender</label>
                                                    <select class="custom-select" name="gender" data-msg-required="Please indicate your gender." form="editMyAccount" required>';
                                                        if($user["gender"] == "Laki-Laki" || $user["gender"] == "1"){
                                                            echo '
                                                            <option value="Laki-Laki" selected="selected">Laki-Laki</option>
                                                            <option value="Perempuan">Perempuan</option>';
                                                        }else if($user["gender"] == "Perempuan"|| $user["gender"] == "2"){
                                                            echo '
                                                            <option value="Laki-Laki">Laki-Laki</option>
                                                            <option value="Perempuan" selected="selected">Perempuan</option>
                                                            ';
                                                        }echo '

                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row gutter-xs">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label for="Username">Username</label>
                                                <input class="form-control" type="text" name="username" spellcheck="false" autocomplete="off" minlength="6" data-msg-minlength="username minimal 6 characters atau lebih." data-msg-required="Please enter your username." value="'.$user["username"].'" required>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row gutter-xs">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label for="email">Email</label>
                                                <input class="form-control" type="email" name="email" spellcheck="false" autocomplete="off" data-msg-required="Please enter your email address." value="'.$user["email"].'" required>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row gutter-xs">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label for="password">Password</label>
                                                <input class="form-control" type="password" value="'.$user["password"].'" name="password" minlength="6" data-msg-minlength="Password must be 6 characters or more." data-msg-required="Please enter your password." required>
                                                <small class="help-block">6-character minimum; case sensitive.</small>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row gutter-xs">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label for="hp">Hp</label>
                                                <input class="form-control" type="text" name="hp" spellcheck="false" autocomplete="off" data-msg-required="Please enter your email address." value="'.$user["phone"].'" required>
                                            </div>
                                        </div>
                                    </div>


                                    <button type="submit" id="editMe" class="btn btn-success">Save</button>

                                </form>
                            </div>







                        </div>
                    </div>
                </div>
            </div>
        </body>
        ';
        true_false_popup();
        echo '

        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>
        <script src="/template/js/richeese.js"></script>
    ';
}

function Template_Message_Admin3($title1, $title2, $data){
    $listMessage = $data["listMessage"];
    echo '
    <body class="layout layout-header-fixed layout-sidebar-fixed">
        <div class="layout-header">';
            nav_bar($title1, $title2); echo '
        </div>
        <div class="layout-main">';
            sidebar();

    // <div class="card-body" id="layout-message" style="max-height:400px;overflow-y:scroll">';
            echo '

            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">
                        <div class="col-md-9">



                                <div class="messenger-content-inner">
                                    <div class="messenger-content-header">
                                        <div class="messenger-content-header-inner">
                                        </div>
                                    </div>
                                    <div class="messenger-content-body">
                                        <div class="messenger-content-body-inner">
                                            <div class="messenger-scrollable-content">';
                                    Template_Message($listMessage);
                                    // Template_List_Message($listMessage);
                                echo '      </div>
                                        </div>
                                    </div>





                                </div>

                        </div>
                    </div>
                    <div class="row gutter-xs">

                    </div>

                </div>
            </div>
        </div>';

        true_false_popup();
        echo '
        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>

        <script>
            $(document).ready(function(){
                $("#send-message").on("submit", function (e) {
                    e.preventDefault();
                    $("#button-send").prop("disabled", true);

                    var formData = new FormData(this);
                    formData.append("send-message", "");
                    $.ajax({
                        type: "POST",
                        processData: false,
                        contentType: false,
                        enctype: "multipart/form-data",
                        url: "/handler/handler_ajax_message.php",
                        data: formData,
                        success: function (data) {
                          var result = $.parseJSON(data);
                          if(result.info != "success"){
                            $("#failedMessage").html(result.info);
                            $("#failed").modal("show");
                          }else{
                            $("#send-message")[0].reset();
                          }
                        },
                        error: function(){
                          alert("error in ajax form submission");
                        }
                    });
                    $("#button-send").prop("disabled", false);
                    $("#button-switch-image").removeClass("btn-primary").addClass("btn-outline-primary");
                });


            });
        </script>
    </body>
    ';
}

function Course_globalPage2($title1, $title2, $course, $data, $mcourseID){
    $courseViewer = 0;
    $downloader = 0;
    foreach ($data as $l) {

        $courseViewer += $l["seenTotal"];
        $downloader += $l["totalDownloader"];
    }
  echo '
        <body class="spinner spinner-primary spinner-lg">';

        global_navbar();
    echo '
        <div class="masthead">

            <div class="masthead-inner">
                <div class="row gutter-xs">
                    <div class="container">
                        <div class="card my-color">
                            <div class="card-header">
                                <a href="/dashboard/materi" class="btn btn-link">
                                    <strong><h3 style="color:white"><span class="icon icon-arrow-circle-left"></span> Materi</h3></strong>
                                </a>
                                <a class="btn btn-link" disabled><h3>/</h3></a>
                                <a href="/dashboard/materi/course_sub.php?mcourse=&id='.$mcourseID.'" class="btn btn-link">
                                    <strong><h3 style="color:white"><span class="icon icon-arrow-circle-left"></span> Kategori</h3></strong>
                                </a>
                                <a class="btn btn-link" disabled><h3>/</h3></a>
                                <a class="btn btn-link" disabled>
                                    <h3 style="color:white"><span class="icon icon-book icon-lg"></span> '.$course["courseName"].' </h3>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="container">
                        <div class="col-md-3 col-xs-12">
                            <div class="card">
                                <div class="card-header bg-crimson">
                                        <div class="card-actions">
                                            <small>'.date_formating($course["dateCreated"]).'</small>
                                        </div>
                                        <strong>'.$course["courseName"].'</strong>
                                    </div>

                                <div class="card-image">
                                    <img class="img-responsive resize-img" src="/dashboard/drive/images/'.$course["thumbnailImage"].'" style="width:100%;">
                                </div>
                                <div class="card-body">
                                    <h4 class="card-title fw-l">
                                        <strong>
                                            <a class="link-muted" href="/dashboard/drive/courses/"><span class="icon icon-book icon-lg"></span> '.$course["courseName"].'</a>
                                        </strong>
                                    </h4>

                                </div>
                                <div class="card-footer my-color">
                                    <span id="my-icon" class=" circle sq-24 pull-right" data-toggle="modal"
                                          data-target="">
                                        <span class="icon icon-star"></span>
                                    </span>

                                    <a class="btn my-color btn-xs btn-labeled" type="button" id="download" style="margin-bottom: 5px">

                                        <span class="btn-label">
                                            <span class="icon icon-badge icon-lg icon-fw">'.sizeof($data).' </span>
                                        </span>
                                        <span><span class="icon icon-file"></span> <strong>Course Categories</strong></span>
                                    </a><br>
                                    <a class="btn my-color btn-xs btn-labeled" type="button" id="download" style="margin-bottom: 5px">

                                        <span class="btn-label">
                                            <span class="icon icon-badge icon-lg icon-fw">'.$courseViewer.'</span>
                                        </span>
                                        <span><span class="icon icon-users"></span><strong> Viewers</strong></span>
                                    </a><br>
                                    <a class="btn my-color btn-xs btn-labeled" type="button" id="download">

                                        <span class="btn-label">
                                            <span class="icon icon-badge icon-lg icon-fw">'.$downloader.'</span>
                                        </span>
                                        <span><span class="icon icon-download"></span><strong> Materi di Download</strong></span>
                                    </a>

                                </div>
                            </div>



                        </div>
                        <div class="col-md-12">
                            <div class="row gutter-xs">

                        ';
                    subjectCard($data);
                    echo '</div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        </body>

        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/landing-page.min.js"></script>

    ';


  foreach ($data as $subject) {
      echo '
    <script>
       $(".download-'.$subject["subjectID"].'").on("click", function(){
          var link = this;
          link.disabled = true;
          $("#download-label-'.$subject["subjectID"].'").html("please wait");
          $(".download-'.$subject["subjectID"].'").removeClass("btn-outline-danger");
          $(".download-'.$subject["subjectID"].'").addClass("btn-danger");
          $(".download-'.$subject["subjectID"].'").addClass("disabled");
          var formData = new FormData();

          formData.append("download", "'.$subject["subjectID"].'");
          $.ajax({
              type: "POST",
              processData: false,
              contentType: false,
              enctype: "multipart/form-data",
              url: "/handler/handler_ajax_course.php",
              data: formData,
              success: function (data) {
                setTimeout(function(){
                  link.disabled = false;
                  $("#download-label-'.$subject["subjectID"].'").html("Download");
                  $(".download-'.$subject["subjectID"].'").removeClass("btn-danger");
                  $(".download-'.$subject["subjectID"].'").removeClass("disabled");
                  $(".download-'.$subject["subjectID"].'").addClass("btn-outline-danger");
                  $("#total-downloader-'.$subject["subjectID"].'").load("/handler/handler_jquery_course.php", {totalDownloader:'.$subject["subjectID"].'});
                }, 5000);
              },
              error: function(){
                alert("error in ajax form submission");
              }
          });
       });
    </script>


      ';
  }
}

function Setting_index($title1, $title2, $user){
    echo '
    <body class="layout layout-header-fixed layout-sidebar-fixed">
        <div class="layout-header">';nav_bar($title1, $title2);echo'</div>
        <div class="layout-main">';sidebar(); echo '

            <div class="layout-content">
                <div class="layout-content-body">
                    <div class="row gutter-xs">



                        <div class="signup-form">
                            <form action="" data-toggle="validator" id="editAccount-'.$user["userID"].'">
                                <input type="hidden" name="editUser" value="self">
                                <input type="hidden" name="userID" value="'.$user["userID"].'">

                                <div class="row gutter-xs">
                                    <div class="col-sm-5 col-xs-5">
                                        <div class="form-group">
                                            <label class="file-upload-btn btn my-color">
                                                Upload foto <span class="icon icon-image"></span>
                                                <input type="file" class="file-upload-input edit-file" id="file" name="profileImage" accept="image/*">
                                            </label>
                                            <div id="image-preview-div">
                                                <label for="exampleInputFile">Selected image:</label><br>
                                                <a id="profile-image-'.$user["userID"].'"><img id="preview-img" class="timeline-media img-rounded" width="150" height="150" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$user["image"].'">
                                                </a>
                                            </div>
                                            <div id="message"></div>
                                        </div>
                                    </div>

                                    <div class="col-sm-7 col-xs-7">
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label for="first-name">First name</label>
                                                <input class="form-control" type="text" name="firstName" spellcheck="false" data-msg-required="Please enter your first name." minlength="4" data-msg-minlength="nama depan minimal 4 characters atau lebih." required value="'.$user["firstName"].'">
                                            </div>
                                        </div>
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label for="last-name">Last name</label>
                                                <input class="form-control" type="text" name="lastName" spellcheck="false" data-msg-required="Please enter your last name." minlength="4" data-msg-minlength="nama belakang minimal 4 characters atau lebih." required value="'.$user["lastName"].'">
                                            </div>
                                        </div>
                                        <div class="col-sm-12">
                                            <div class="form-group">
                                                <label for="gender">Gender</label>
                                                <select class="custom-select" name="gender" data-msg-required="Please indicate your gender." form="editAccount-'.$user["userID"].'" required>';
                                                    if($user["gender"] == 1){
                                                        echo '
                                                        <option value="1" selected="selected">Laki-Laki</option>
                                                        <option value="2">Perempuan</option>';
                                                    }else if($user["gender"] == 2){
                                                        echo '
                                                        <option value="1">Laki-Laki</option>
                                                        <option value="2" selected="selected">Perempuan</option>
                                                        ';
                                                    }echo '

                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="Username">Username</label>
                                            <input class="form-control" type="text" name="username" spellcheck="false" autocomplete="off" minlength="6" data-msg-minlength="username minimal 6 characters atau lebih." data-msg-required="Please enter your username." value="'.$user["username"].'" required>
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="email">Email</label>
                                            <input class="form-control" type="email" name="email" spellcheck="false" autocomplete="off" data-msg-required="Please enter your email address." value="'.$user["email"].'" required>
                                        </div>
                                    </div>
                                </div>

                                <div class="row gutter-xs">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label for="password">Password</label>
                                            <input class="form-control" type="password" value="'.$user["password"].'" name="password" minlength="6" data-msg-minlength="Password must be 6 characters or more." data-msg-required="Please enter your password." required>
                                            <small class="help-block">6-character minimum; case sensitive.</small>
                                        </div>
                                    </div>
                                </div>

                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                <button type="submit" class="btn btn-success">Save</button>

                            </form>
                        </div>







                    </div>
                </div>
            </div>
        </div>
    </body>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>

        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script>
            (function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,"script","https://www.google-analytics.com/analytics.js","ga");
            ga("create", "UA-83990101-1", "auto");
            ga("send", "pageview");
        </script>


        <script src="/template_vendor/js/image-upload.js"></script>

        <script>
            $(document).ready(function(){
                  $("#editAccount-'.$user["userID"].'").on("submit", function (e) {
                      e.preventDefault();
                      var formData = new FormData(this);
                      $.ajax({
                          type: "POST",
                          processData: false,
                          contentType: false,
                          enctype: "multipart/form-data",
                          url: "/handler/handler_ajax_user.php",
                          data: formData,
                          success: function (data) {
                            var result = $.parseJSON(data);
                            if(result.info != "success"){
                              $("#failedMessage").html(result.info);
                              $("#failed").modal("show");
                            }else{
                              $(".modal").modal("hide");
                              $("#successMessage").html("Berhasil di update");
                              $("#success").modal("show");
                              $("#success").on("hidden.bs.modal", function(){location.reload();});
                            }
                          },
                          error: function(){
                            alert("error in ajax form submission");
                          }
                      });
                  });

            });
        </script>
                <div id="success" tabindex="-1" role="dialog" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">×</span>
                            <span class="sr-only">Close</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="text-center">
                            <span class="text-success icon icon-check icon-5x"></span>
                            <h3 class="text-success">Success</h3>
                            <p id="successMessage"></p>
                            <div class="m-t-lg">
                                <button class="btn btn-success" data-dismiss="modal" type="button">Close</button>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer"></div>
                </div>
            </div>
        </div>

        <div id="failed" tabindex="-1" role="dialog" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">×</span>
                            <span class="sr-only">Close</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="text-center">
                            <span class="text-primary icon icon-info-circle icon-5x"></span>
                            <h3 class="text-primary">Failed</h3>
                            <p id="failedMessage"></p>
                            <div class="m-t-lg">
                                <button class="btn btn-primary" data-dismiss="modal" type="button">Continue</button>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer"></div>
                </div>
            </div>
        </div>



    ';
}

function userList($rawdata){
    $type = 0;
    $data = array();
    foreach($rawdata as $user){
        array_push($data, $user);
    }
    if(sizeof($data) > 0){
        $type = $data[0]["type"];
    }

    if($type == 4){
        echo '
        <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>NIP</th>
                    <th>Nama</th>
                    <th>Golongan</th>
                    <th>Jabatan</th>
                    <th>Unit Kerja</th>
                    <th>Instansi</th>
                    <th class="text-center">Edit</th>
                    <th class="text-center">Hapus</th>
                </tr>
            </thead>
            <tfoot>
                <tr>
                    <th>NIP</th>
                    <th>Nama</th>
                    <th>Golongan</th>
                    <th>Jabatan</th>
                    <th>Unit Kerja</th>
                    <th>Instansi</th>
                    <th class="text-center">Edit</th>
                    <th class="text-center">Hapus</th>
                </tr>
            </tfoot>
            <tbody>';

                $i = 0;
                foreach ($data as $user) {
                  $i++;
                  echo '
                    <tr id="row-'.$user["userID"].'">
                        <td>'.$user["nip"].'</td>
                        <td><a data-toggle="modal" data-target="#profile-'.$user["userID"].'">'.$user['firstName'].' '.$user["lastName"].'</a></td>
                        
                        <td>'.$user['golongan'].'</td>
                        <td>'.$user['jabatan'].'</td>
                        <td>'.$user['unitKerja'].'</td>
                        <td>'.$user['instansi'].'</td>
                        <td class="text-center">
                            <span class="text-success icon icon-cog icon-lg" data-toggle="modal" data-target="#editAccount'.$user["userID"].'"></span>
                        </td>
                        <td class="text-center">
                            <span class="text-danger icon icon-trash icon-lg" data-toggle="modal" data-target="#deleteAccount-'.$user["userID"].'"></span>
                        </td>
                    </tr>
                  ';
                }echo'
            </tbody>
        </table>';

        
        

    }else{
        echo '
        <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>No</th>
                    <th>Nama</th>
                    <th>Username</th>
                    <th>Email</th>
                    <th class="text-center">Edit</th>
                    <th class="text-center">Hapus</th>
                </tr>
            </thead>
            <tfoot>
                <tr>
                    <th>No.</th>
                    <th>Nama</th>
                    <th>Username</th>
                    <th>Email</th>
                    <th class="text-center">Edit</th>
                    <th class="text-center">Hapus</th>
                </tr>
            </tfoot>
            <tbody>';

                $i = 0;
                foreach ($data as $user) {
                  $i++;
                  echo '
                    <tr id="row-'.$user["userID"].'">
                        <td>'.$i.'</td>
                        <td>'.$user['firstName'].' '.$user["lastName"].'</td>
                        <td>'.$user['username'].'</td>
                        <td>'.$user['email'].'</td>
                        <td class="text-center">
                            <span class="text-success icon icon-cog icon-lg" data-toggle="modal" data-target="#editAccount'.$user["userID"].'"></span>
                        </td>
                        <td class="text-center">
                            <span class="text-danger icon icon-trash icon-lg" data-toggle="modal" data-target="#deleteAccount-'.$user["userID"].'"></span>
                        </td>
                    </tr>
                  ';
                }echo'
            </tbody>
        </table>
        ';
    }
}

function sidebar(){

    if($_SESSION["type"] > 2) {
        echo "<h1>sidebar public</h1>";
    }else{
        echo '
        <div class="layout-sidebar">
            <div class="layout-sidebar-backdrop"></div>
            <div class="layout-sidebar-body">
                <div class="custom-scrollbar">
                    <nav id="sidenav" class="sidenav-collapse collapse">
                        <ul class="sidenav level-1">
                            <li class="sidenav-search">
                                <form class="sidenav-form" action="/">
                                    <div class="form-group form-group-sm">
                                        <div class="input-with-icon">
                                            <input class="form-control" type="text" placeholder="Search…">
                                            <span class="icon icon-search input-icon"></span>
                                        </div>
                                    </div>
                                </form>
                            </li>
                            
                            <li class="sidenav-heading">Navigation</li>
                            <li class="sidenav-item">
                                <a href="/dashboard">
                                    <span class="sidenav-icon icon icon-works">&#103;</span>
                                    <span class="sidenav-label">Dashboard</span>
                                </a>
                            </li>
                            <li class="sidenav-item">
                                <a href="/dashboard/event">
                                    <span class="sidenav-icon icon icon-calendar"></span>
                                    <span class="sidenav-label">Event</span>
                                </a>
                            </li>
                            <li class="sidenav-item">
                                <a href="/dashboard/message">
                                    <span class="sidenav-icon icon icon-works">N</span>
                                    <span class="sidenav-label">Message</span>
                                    <span class="sidenav-label"></span>
                                </a>
                            </li>
                            <li class="sidenav-heading">Materi</li>
                            <li class="sidenav-item">
                                <a href="/dashboard/materi">
                                    <span class="sidenav-icon icon icon-book"></span>
                                    <span class="sidenav-label">Materi</span>
                                    <span class="sidenav-label"></span>
                                </a>
                            </li>
                            <li class="sidenav-item">
                                <a href="/dashboard/materi/bidang">
                                    <span class="sidenav-icon icon icon-sticky-note-o"></span>
                                    <span class="sidenav-label">Bidang</span>
                                    <span class="sidenav-label"></span>
                                </a>
                            </li>
                            <li class="sidenav-item">
                                <a href="/dashboard/materi/shelter">
                                    <span class="sidenav-icon icon icon-works">&#97;</span>
                                    <span class="sidenav-label">Fokus Jabatan</span>
                                    <span class="sidenav-label"></span>
                                </a>
                            </li>
                            <li class="sidenav-item">
                                <a href="/dashboard/certificate">
                                    <span class="sidenav-icon icon icon-graduation-cap"></span>
                                    <span class="sidenav-label">Certificate</span>
                                </a>
                            </li>
                            <li class="sidenav-heading">Configuration</li>
                            <li class="sidenav-item">
                                <a href="/dashboard/carousel">
                                    <span class="sidenav-icon icon icon-image"></span>
                                    <span class="sidenav-label">Slide</span>
                                </a>
                            </li>
                            <li class="sidenav-item">
                                <a href="/dashboard/notification">
                                    <span class="sidenav-icon icon icon-bookmark-o"></span>
                                    <span class="sidenav-label">Informasi</span>
                                </a>
                            </li>';
                                if($_SESSION['type'] == 1){
                                    echo '
                            <li class="sidenav-heading">User setting</li>
                            <li class="sidenav-item has-subnav">
                                <a href="#" aria-haspopup="true">
                                    <span class="sidenav-icon icon icon-users"></span>
                                    <span class="sidenav-label">Users</span>
                                </a>
                                <ul class="sidenav level-2 collapse">
                                    <li class="sidenav-heading">Users</li>
                                    <li><a href="/dashboard/users/admin">Admin</a></li>
                                    <li><a href="/dashboard/users/petugas">Petugas</a></li>
                                    <li><a href="/dashboard/users/pegawai">Pegawai</a></li>
                                    <li><a href="/dashboard/users/umum">Umum</a></li>
                                </ul>
                            </li>';
                                }
                                echo '

                            <li class="sidenav-heading">Account</li>
                            <li class="sidenav-item">
                                <a href="/dashboard/setting">
                                    <span class="sidenav-icon icon icon-cog"></span>
                                    <span class="sidenav-label">Setting</span>
                                </a>
                            </li>
                            <li class="sidenav-item">
                                <a href="/includes/logout.inc.php">
                                    <span class="sidenav-icon icon icon-sign-out"></span>
                                    <span class="sidenav-label">Logout</span>
                                </a>
                            </li>

                        </ul>
                    </nav>
                </div>
            </div>
        </div>
        ';
    }
}

function nav_bar($header, $smallHeader){
    if($_SESSION["type"] > 3) {
        echo "<h1>navbar public</h1>";
    }else{
    echo '

    <div class="navbar navbar-default">
            <div class="navbar-header">
                <a class="navbar-brand navbar-brand-center" href="/dashboard">
                    <img class="navbar-brand-logo" style="width:225px; height:50px; margin-top:-15px" src="/dashboard/drive/images/LOGO.png" alt="e-learning">
                </a>
                <button class="navbar-toggler visible-xs-block collapsed" type="button" data-toggle="collapse" data-target="#sidenav">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="bars">
                      <span class="bar-line bar-line-1 out"></span>
                      <span class="bar-line bar-line-2 out"></span>
                      <span class="bar-line bar-line-3 out"></span>
                    </span>
                    <span class="bars bars-x">
                      <span class="bar-line bar-line-4"></span>
                      <span class="bar-line bar-line-5"></span>
                    </span>
                </button>
                <button class="navbar-toggler visible-xs-block collapsed" type="button" data-toggle="collapse" data-target="#navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="arrow-up"></span>
                    <span class="ellipsis ellipsis-vertical">
                      <img class="ellipsis-object" width="32" height="32" src="/dashboard/drive/drive-user/user-images/'.$_SESSION["image"].'" alt="'.$_SESSION["username"].'">
                    </span>
                </button>
            </div>
            <div class="navbar-toggleable" style="background-color:white;">
                <nav id="navbar" class="navbar-collapse collapse">
                    <button class="sidenav-toggler hidden-xs" title="Collapse sidenav ( [ )" aria-expanded="true" type="button">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="bars">
                            <span class="bar-line bar-line-1 out"></span>
                            <span class="bar-line bar-line-2 out"></span>
                            <span class="bar-line bar-line-3 out"></span>
                            <span class="bar-line bar-line-4 in"></span>
                            <span class="bar-line bar-line-5 in"></span>
                            <span class="bar-line bar-line-6 in"></span>
                        </span>
                    </button>
                    <ul class="nav navbar-nav navbar-right">
                        <li class="dropdown hidden-xs">
                            <button class="navbar-account-btn" data-toggle="dropdown" aria-haspopup="true">
                                <img class="circle" width="36" height="36" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$_SESSION["image"].'" alt="'.$_SESSION["username"].'"><strong> '.$_SESSION["name"].'</strong>
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-right">
                                <li><a href="/dashboard/setting"><span class="sidenav-icon icon icon-cog"></span> Setting</a></li>
                                <li><a href="/includes/logout.inc.php"><span class="sidenav-icon icon icon-sign-out"></span> Sign out</a></li>
                            </ul>
                        </li>
                        <li class="visible-xs-block">
                            <a href="/dashboard">
                                <span class="icon icon-lg icon-works icon-fw">&#103;</span>
                                Dashboard
                            </a>
                        </li>
                        <li class="visible-xs-block">
                            <a href="/dashboard/setting">
                                <span class="icon icon-lg icon-cog icon-fw"></span>
                                Setting
                            </a>
                        </li>
                        <li class="visible-xs-block">
                            <a href="/includes/logout.inc.php">
                                <span class="icon icon-sign-out icon-lg icon-fw"></span>
                                Sign out
                            </a>
                        </li>
                    </ul>
                    <div class="title-bar">
                        <h1 class="title-bar-title">
                            <span class="d-ib"><small>'.$smallHeader.'</small> '.$header.'</span>
                            <span class="d-ib">
                              <a class="title-bar-shortcut" href="#" title="Add to shortcut list" data-container="body" data-toggle-text="Remove from shortcut list" data-trigger="hover" data-placement="right" data-toggle="tooltip">
                                <span class="sr-only">Add to shortcut list</span>
                              </a>
                            </span>
                        </h1>

                    </div>
                </nav>
            </div>
        </div>

    ';
    }
}

function global_navbar(){
    echo '
        <div class="navbar navbar-default my-color" style="margin-bottom: 30px;">
        <div class="container">
            <div class="navbar-header my-color">
                <a class="navbar-brand navbar-brand-center" href="/dashboard">
                    <img class="navbar-brand-logo" style="width:225px; height:50px; margin-top:-15px" src="/dashboard/drive/images/LOGO.png" alt="e-learning">
                </a>

                <button class="navbar-toggler visible-xs-block collapsed" type="button" data-toggle="collapse" data-target="#navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="arrow-up"></span>
                    <span class="ellipsis ellipsis-vertical">
                      <img class="ellipsis-object" width="32" height="32" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$_SESSION["image"].'" alt="'.$_SESSION["username"].'">
                    </span>
                </button>
            </div>
            <div class="navbar-toggleable my-color">
                <nav id="navbar" class="navbar-collapse collapse">
                    <button class="sidenav-toggler hidden-xs" title="Collapse sidenav ( [ )" aria-expanded="true" type="button">
                        <span class="sr-only">Toggle navigation</span>

                    </button>
                    <ul class="nav navbar-nav navbar-right">
                        <li class="dropdown hidden-xs">
                            <button class="navbar-account-btn" data-toggle="dropdown" aria-haspopup="true">
                                <img class="circle" width="36" height="36" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/'.$_SESSION["image"].'" alt="'.$_SESSION["username"].'"><strong style="color:white"> '.$_SESSION["name"].'</strong>
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-right">
                                <li class="text-crimson"><a href="/dashboard" class="navbar-menu-quy"><span class="icon icon-lg icon-home"></span> Home</a></li>';

                                if(!isset($_SESSION["global_pt_3"])){
                                    echo '
                                    <li>
                                        <a href="/dashboard/materi" class="text-crimson">
                                            <span class="icon icon-lg icon-book"></span> Materi
                                        </a>
                                    </li>
                                        ';
                                }
                                echo '
                                <li class="text-crimson"><a href="/dashboard/message"><span class="icon icon-lg icon-works">N</span> Message</a></li>
                                <li class="text-crimson"><a href="/dashboard/setting"><span class="icon icon-lg icon-cog"></span> Setting</a></li>
                                <li class="text-crimson"><a href="/includes/logout.inc.php"><span class="icon icon-lg icon-sign-out"></span> logout</a></li>
                            </ul>
                        </li>
                        <li class="visible-xs-block">
                            <a href="/dashboard" style="color:white" class="navbar-menu-quy"><span class="icon icon-lg icon-home"></span> Home</a>
                        </li>';

                                if(!isset($_SESSION["global_pt_3"])){
                                    echo '
                                    <li class="visible-xs-block">
                                        <a href="/dashboard/materi" style="color:white">
                                            <span class="icon icon-lg icon-book"></span> Materi
                                        </a>
                                    </li>
                                        ';
                                }
                                echo '
                        <li class="visible-xs-block">
                            <a href="/dashboard/setting" style="color:white"><span class="icon icon-lg icon-cog"></span> Setting</a>
                        </li>
                        <li class="visible-xs-block">
                            <a href="/dashboard/message" style="color:white"><span class="icon icon-lg icon-works">N</span> Message</a>
                        </li>
                        <li class="visible-xs-block">
                            <a href="/includes/logout.inc.php" style="color:white"><span class="icon icon-lg icon-sign-out"></span> logout</a>
                        </li>
                    </ul>
                    <div class="title-bar">

                    </div>
                </nav>
            </div>
        </div>
        </div>
    ';
}

function global_navbar2(){
    echo '

    <div class="navbar navbar-default my-color" style="margin-bottom: 30px;">
        <div class="container">
            <div class="navbar-header my-color">
                <button class="navbar-toggle collapsed" style="background-color:white" type="button" data-toggle="collapse" data-target="#navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <img class="navbar-brand-logo" style="width:225px; height:50px; margin-top:5px" src="/dashboard/drive/images/LOGO.png" alt="e-learning">
            </div>
            <nav id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">

                    <li class="dropdown hidden-xs">
                        <button class="navbar-account-btn" data-toggle="dropdown" aria-haspopup="true">
                            <img class="circle" width="36" height="36" style="object-fit:cover" src="/dashboard/drive/drive-user/user-images/'.$_SESSION["image"].'" alt="'.$_SESSION["username"].'"><strong style="color:white"> '.$_SESSION["name"].'</strong>
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-right">
                            <li class="text-crimson"><a href="/dashboard" class="navbar-menu-quy"><span class="icon icon-lg icon-home"></span> Home</a></li>';

                                if(!isset($_SESSION["global_pt_3"])){
                                    echo '
                                    <li>
                                        <a href="/dashboard/materi" class="text-crimson">
                                            <span class="icon icon-lg icon-book"></span> Materi
                                        </a>
                                    </li>
                                        ';
                                }
                                echo '
                            <li class="text-crimson"><a href="/dashboard/setting"><span class="icon icon-lg icon-cog"></span> Setting</a></li>
                            <li class="text-crimson"><a href="/includes/logout.inc.php"><span class="icon icon-lg icon-sign-out"></span> logout</a></li>
                        </ul>
                    </li>

                </ul>
            </nav>
        </div>
    </div>
    ';
}

function outside_navbar(){
    echo '

    <div class="navbar navbar-default my-color">
        <div class="container">
            <div class="navbar-header my-color">
                <button class="navbar-toggle collapsed" style="background-color:white" type="button" data-toggle="collapse" data-target="#navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand navbar-brand-center" href="/">
                    <img class="navbar-brand-logo" style="width:225px; height:50px; margin-top:-15px" src="/dashboard/drive/images/LOGO.png" alt="e-learning">
                </a>
            </div>
            <nav id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/" class="navbar-menu-quy" style="color:white"><span class="icon icon-lg icon-home"></span> Home
                        </a>
                    </li>

                    <li>
                        <a href="/authentication" style="color:white"><span class="icon icon-lg icon-sign-in"></span> Login</a>
                    </li>
                    <li><a href="/authentication/?register" style="color:white"><span class="icon icon-lg icon-book"></span> Register</a>
                    </li>

                </ul>
            </nav>
        </div>
    </div>

    ';
}

function galleryList(){
    $gallery = new Gallery();

    $data = $gallery->getListGallery();

    foreach ($data as $g) {
    echo '
        <div class="col-md-3 col-xs-6 col-sm-4">
            <div class="card">
                <div class="card-header">
                    <div class="media">
                        <div class="media-middle media-left">
                          <a href="#">
                            <img class="media-object img-circle" width="32" height="32" src="/dashboard/drive/images/'.$g["userImageUploader"].'" alt="'.$g["createdBy"].'">
                          </a>
                        </div>
                        <div class="media-middle media-body">
                          <em>Created by</em>
                          <a class="link-muted" href="#">
                            <strong class="text-light">'.$g["createdBy"].'</strong>
                          </a>
                          <span class="pull-right badge badge-outline-default" style="margin-top: 2px"><span class="icon icon-trash"></span></span>
                        </div>
                    </div>
                </div>
                <div class="card-image">
                    <a href="/dashboard/gallery/display.php?album='.$g["galleryID"].'">
                        <img class="card-img-top img-responsive resize-img" src="/dashboard/drive/images/'.$g["thumbnail"].'" alt="'.$g["galleryName"].'">
                    </a>
                </div>
                <div class="card-body">
                    <h4 class="card-title fw-1">
                        <a href="/dashboard/drive/images/'.$g["thumbnail"].'" class="icon icon-image text-default" class="link-muted"></a>
                        <a href="/dashboard/gallery/display.php?album=a" class="text-default link-muted">'.$g["galleryName"].' </a>
                    </h4>
                </div>
                <div class="card-footer" style="margin-top:-15px">
                    <small>
                        ';
                        $totalImage = $gallery->imageGCounter($g["galleryID"]);
                          if($totalImage != 1){
                            echo '<span class="badge badge-outline-default">'.$gallery->imageGCounter($g["galleryID"]).' images</span>';
                          }else{
                            echo '<span class="badge badge-outline-default">'.$gallery->imageGCounter($g["galleryID"]).' image</span>';
                          }echo '
                        <span class="pull-right badge badge-outline-default" style="margin-top: 2px">'.substr($g["dateCreated"], 10, 6).' </span>
                        <span class="pull-right badge badge-outline-default" style="margin-top: 2px">'.date_formating(substr($g["dateCreated"], 0, 10)).' </span>


                    </small>
                </div>
            </div>
        </div>
    ';
    }
}

function imageList($galleryID){
    $images = new ImageOG();

    $data = $images->getImagesInGallery($galleryID);
    foreach ($data as $img) {
        echo '

        <div class="col-xs-6 col-md-3 col-sm-4">
            <div class="card">
                <a class="card-img overlay overlay-hover" href="#">
                    <div class="overlay-gradient">
                        <img class="card-img img-responsive resize-img" src="/dashboard/drive/images/'.$img["imageName"].'" alt="Golden Gate Bridge, San Francisco">
                    </div>
                    <div class="overlay-content">
                        <div class="overlay-content overlay-top">
                            <h4 class="overlay-title">10 great things to do in
                                <span class="nowrap">San Francisco</span>
                            </h4>
                        </div>
                        <div class="overlay-content overlay-bottom overlay-slide-up">
                            <div class="media">
                                <div class="media-left media-middle">
                                    <img class="media-object img-circle" width="32" height="32" src="/dashboard/drive/images/'.$img["userImageUploader"].'" alt="'.$img["uploadedBy"].'">
                                </div>
                                <div class="media-body media-middle">
                                    <em>Uploaded by</em>
                                    <strong>'.$img["uploadedBy"].'</strong>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
                <div class="card-body">';
                    if($img["thumbnail"] == 1){
                      echo '<a href="" class="badge badge-default">Thumbnail</a>';
                    }else{
                      echo '<a href="" class="badge badge-outline-default">Thumbnail</a>';
                    }

                    echo '

                    <a href="/dashboard/drive/images/'.$img["imageName"].'" class="badge badge-outline-default"><span class="fa fa-search"></span></a>
                    <a href="" class="badge badge-outline-default pull-right" style="margin-top: 2px">Hapus</a>
                </div>
                <div class="card-footer" style="margin-top:-5px">
                    <small>
                        <span class="pull-right badge badge-outline-default" style="margin-top: 2px">'.substr($img["dateCreated"], 10, 6).' </span>
                        <span class="pull-right badge badge-outline-default" style="margin-top: 2px">'.date_formating(substr($img["dateCreated"], 0, 10)).' </span>
                    </small>
                </div>
            </div>
        </div>
        ';
    }
}

function mcourseList21($courses){
    if(sizeof($courses) == 0){
        echo '<h1 class="alert alert-danger text-center">Kosong</h1>';
    }else{
        foreach ($courses as $mcourse) {
        echo '
            <div class="col-md-4 col-sm-6 col-xs-12" style="padding-top:10px">
                <a href="/dashboard/materi/course_sub.php?mcourse='.$mcourse["mcourseName"].'&id='.$mcourse["mcourseID"].'">
                    <div class="card thumbnail each-subject" style="padding:5px;">

                        <div class="card-image">
                            <img class="card-img-top img-responsive resize-img" style="width:100%" src="/dashboard/drive/images/'.$mcourse["thumbnailImage"].'" alt="'.$mcourse["mcourseName"].'">
                        </div>
                    </div>
                </a>
            </div>

        ';
        }
    }
}

function mcourseList($courses){
    if(sizeof($courses) == 0){
        echo '<h1 class="alert alert-danger text-center">Kosong</h1>';
    }else{
        foreach ($courses as $mcourse) {
        echo '

            <div class="col-md-3 col-xs-12 col-sm-6 eachCourse">
                <div class="card">
                    <div class="card-body">
                        <div class="card my-color">
                            <div class="card-image">
                                <a class="text-danger" style="margin-bottom:60px" href="/dashboard/materi/course_sub.php?mcourseID='.$mcourse["mcourseID"].'">
                                    <img class="img-responsive resize-img" src="/dashboard/drive/images/'.$mcourse["thumbnailImage"].'" alt="'.$mcourse["mcourseName"].'" style="width:100%;object-fit:100%">
                                </a>
                            </div>
                            <div class="card-body" style="background-color:#FFEBCD">
                                <h4 class="card-title fw-l" style="word-wrap:break-word; height:45px; overflow-y:hidden;">
                                    <strong>
                                        <a class="text-danger mcourseName" style="margin-bottom:60px" href="/dashboard/materi/course_sub.php?mcourseID='.$mcourse["mcourseID"].'">'.$mcourse["mcourseName"].'</a>
                                    </strong>
                                </h4>
                                <p></p>
                                <a href="/dashboard/materi/course_sub.php?mcourseID='.$mcourse["mcourseID"].'" class="btn btn-outline-danger btn-xs btn-labeled pull-right" type="button">
                                    <img class="timeline-media img-responsive img-rounded" width="16" height="6" src="/template_vendor/img/favicon2.ico" alt="'.$_SESSION["username"].'">
                                    <span class="badge badge-outline-default">'.$mcourse["totalCourse"].' Kategori</span>
                                    <span class="btn-label btn-label-right">
                                        <span class="icon icon-chevron-circle-right icon-lg icon-fw"></span>
                                    </span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>';
        }
    }
}

function mcourseListGlobal($courses){
    if(sizeof($courses) == 0){
        echo '<h1 class="alert alert-danger text-center">Kosong</h1>';
    }else{
        foreach ($courses as $mcourse) {
        echo '

            <div class="col-md-3 col-xs-12 col-sm-6 eachCourse">
                <div class="card">
                    <div class="card-body">
                        <div class="card">
                            <div class="card-image">
                                <a class="text-danger" style="margin-bottom:60px" href="/dashboard/materi/course_sub.php?mcourseID='.$mcourse["mcourseID"].'">
                                    <img class="img-responsive resize-img" src="/dashboard/drive/images/'.$mcourse["thumbnailImage"].'" alt="'.$mcourse["mcourseName"].'" style="width:100%;object-fit:100%">
                                </a>
                            </div>
                            <div class="card-body">
                                <h4 class="card-title fw-l" style="word-wrap:break-word; height:45px; overflow-y:hidden;">
                                    <strong>
                                        <a class="text-danger mcourseName" style="margin-bottom:60px" href="/dashboard/materi/course_sub.php?mcourseID='.$mcourse["mcourseID"].'">'.$mcourse["mcourseName"].'</a>
                                    </strong>
                                </h4>
                                <p></p>
                                <a href="/dashboard/materi/course_sub.php?mcourseID='.$mcourse["mcourseID"].'" class="btn btn-outline-danger btn-xs btn-labeled pull-right" type="button">
                                    <img class="timeline-media img-responsive img-rounded" width="16" height="6" src="/template_vendor/img/favicon2.ico" alt="'.$_SESSION["username"].'">
                                    <span class="badge badge-outline-default">'.$mcourse["totalCourse"].' Kategori</span>
                                    <span class="btn-label btn-label-right">
                                        <span class="icon icon-chevron-circle-right icon-lg icon-fw"></span>
                                    </span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>';
        }
    }
}

function mcourseTable($courses){
    echo '
        <div class="card">

            <div class="card-body">
                <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%">
                    <thead>
                    <tr>
                        <th>No.</th>
                        <th>Kategori</th>
                        <th>Jml Materi</th>
                        <th>Tanggal Dibuat</th>
                        <th>Dibuat</th>
                        <th>Edit</th>
                        <th>Hapus</th>
                    </tr>
                    </thead>

                    <tbody>';

                    $i = 0;
                    $c = 0;
                    foreach ($courses as $mcourse) {
                    $i++;
                    $c += $mcourse["totalCourse"];
                    echo '
                        <tr>
                            <td>'.$i.'</td>
                            <td>'.$mcourse["mcourseName"].'</td>
                            <td>'.$mcourse["totalCourse"].'</td>
                            <td>'.$mcourse["dateCreated"].'</td>
                            <td>'.$mcourse["createdBy"].'</td>
                            <td>
                              <span class="text-success icon icon-cog fa-lg" data-toggle="modal" data-target="#edit-'.$mcourse["mcourseID"].'"></span>
                            </td>
                            <td><span class="text-danger icon icon-trash icon-lg" data-toggle="modal" data-target="#delete-'.$mcourse["mcourseID"].'"></span>
                            </td>
                        </tr>';

                    }



                    echo '
                    </tbody>
                    <tfoot>
                    <tr>
                        <th>No.</th>
                        <th>Kategori</th>
                        <th>Jml Materi</th>
                        <th>Tanggal Dibuat</th>
                        <th>Dibuat</th>
                        <th>Edit</th>
                        <th>Hapus</th>
                    </tr>
                    </tfoot>
                </table>
            </div>
        </div>';
}

function courseList($data){

    if(sizeof($data) == 0){
        echo '

        <h1 class="alert alert-danger text-center">Kosong</h1>';

    }else{

        foreach ($data as $course) {


        echo '

            <div class="col-md-3 col-xs-6 col-sm-4">
                <div class="card my-color">';

                if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){

                    echo '  <div class="card-header">
                                <div class="media">
                                    <div class="media-middle media-left">
                                        <a href="#">
                                            <img class="media-object img-circle" style="object-fit: cover;" width="32" height="32" src="/dashboard/drive/drive-user/user-images/'.$course["userImage"].'" alt="'.$course["createdBy"].'">
                                        </a>
                                    </div>
                                    <div class="media-middle media-body">
                                        <em>by</em>
                                        <a class="link-muted" href="#">
                                            <strong class="text-warning">'.$course["createdBy"].'</strong>
                                        </a>
                                        <span class="badge badge-primary">'.date_formating(substr($course["dateCreated"], 0, 10)).'</span>
                                    </div>
                                    <div class="media-right">
                                        <span id="my-icon" class="bg-danger circle sq-24 pull-right" data-toggle="modal" data-target="#delete-'.$course["courseID"].'">
                                              <span class="icon icon-trash"></span>
                                        </span>
                                        <span id="my-icon" class="bg-success circle sq-24 pull-right" data-toggle="modal"
                                          data-target="#edit-'.$course["courseID"].'">
                                              <span class="icon icon-edit"></span>
                                        </span>
                                    </div>
                                </div>
                            </div>';
                }
                    echo '
                    <div class="card-image">
                        <img class="img-responsive resize-img" src="/dashboard/drive/images/'.$course["thumbnailImage"].'" alt="'.$course["courseName"].'" style="width:100%;">
                    </div>

                    <div class="card-body" style="background-color:#FFEBCD">
                        <h4 class="card-title fw-l" style="word-wrap:break-word; height:45px; overflow-y:hidden;">

                            <strong>
                                <a class="text-danger" style="margin-bottom:60px" href="/dashboard/materi/course.php?courseID='.$course["courseID"].'">'.$course["courseName"].'</a>
                            </strong>


                        </h4>
                        <p></p>
                            <a href="/dashboard/materi/course.php?courseID='.$course["courseID"].'" class="btn btn-outline-danger btn-xs btn-labeled pull-right" type="button">

                                <img class="timeline-media img-responsive img-rounded" width="16" height="6" src="/template_vendor/img/favicon2.ico" alt="'.$_SESSION["username"].'">
                                <span class="badge badge-outline-default">'.$course["totalSubject"].' Materi</span>

                                <span class="btn-label btn-label-right">
                                    <span class="icon icon-chevron-circle-right icon-lg icon-fw"></span>
                                </span>
                            </a>
                    </div>
                </div>
            </div>

            ';
        }
    }
}

function courseListGlobal($data){

    if(sizeof($data) == 0){
        echo '
        <h1 class="alert alert-danger text-center">Kosong</h1>';
    }else{
        foreach ($data as $course) {
            echo '

            <div class="col-md-3 col-xs-6 col-sm-4">
                <div class="card">
                    <div class="card-body">
                        <div class="card">
                            <div class="card-image">
                                <img class="img-responsive resize-img" src="/dashboard/drive/images/'.$course["thumbnailImage"].'" alt="'.$course["courseName"].'" style="width:100%;">
                            </div>
                            <div class="card-body">
                                <h4 class="card-title fw-l" style="word-wrap:break-word; height:45px; overflow-y:hidden;">
                                    <strong>
                                        <a class="text-danger" style="margin-bottom:60px" href="/dashboard/materi/course.php?courseID='.$course["courseID"].'">'.$course["courseName"].'</a>
                                    </strong>
                                </h4>
                                <p></p>
                                <a href="/dashboard/materi/course.php?courseID='.$course["courseID"].'" class="btn btn-outline-danger btn-xs btn-labeled pull-right" type="button">
                                    <img class="timeline-media img-responsive img-rounded" width="16" height="6" src="/template_vendor/img/favicon2.ico" alt="'.$_SESSION["username"].'">
                                    <span class="badge badge-outline-default">'.$course["totalSubject"].' Materi</span>

                                    <span class="btn-label btn-label-right">
                                        <span class="icon icon-chevron-circle-right icon-lg icon-fw"></span>
                                    </span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            ';
        }
    }
}

function courseTable($data){
    echo '
        <div class="card">

            <div class="card-body">
                <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%">
                    <thead>
                    <tr>
                        <th>No.</th>
                        <th>Kategori</th>
                        <th>Jml Materi</th>
                        <th>Tanggal Dibuat</th>
                        <th>Dibuat</th>
                        <th>Edit</th>
                        <th>Hapus</th>
                    </tr>
                    </thead>
                    <tfoot>
                    <tr>
                        <th>No.</th>
                        <th>Kategori</th>
                        <th>Jml Materi</th>
                        <th>Tanggal Dibuat</th>
                        <th>Dibuat</th>
                        <th>Edit</th>
                        <th>Hapus</th>
                    </tr>
                    </tfoot>
                    <tbody>';

                    $i = 0;
                    foreach ($data as $course) {
                    $i++;
                    echo '
                        <tr>
                            <td>'.$i.'</td>
                            <td>'.$course["courseName"].'</td>
                            <td>'.$course["totalSubject"].'</td>
                            <td>'.$course["dateCreated"].'</td>
                            <td>'.$course["createdBy"].'</td>
                            <td>
                              <span class="text-success icon icon-cog fa-lg" data-toggle="modal" data-target="#edit-'.$course["courseID"].'"></span>
                            </td>
                            <td><span class="text-danger icon icon-trash icon-lg" data-toggle="modal" data-target="#delete-'.$course["courseID"].'"></span>
                            </td>
                        </tr>';

                    }

                    echo '
                    </tbody>
                </table>
            </div>
        </div>';
}

function categoryRecomendCard($listCategory){
    foreach($listCategory as $key=>$value){
        if($listCategory[$key]["showCategory"]!=1){
            unset($listCategory[$key]);
        }
    }
    if(sizeof($listCategory)>4){
        $bodyHeight = "200px";
    }else{
        $bodyHeight = "130px";   
    }
    echo '
        <div class="card">
            <div class="card-header" style="background-color:#FFF8DC;">
                <div class="card-actions">
                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                    <button type="button" class="card-action card-remove" title="Remove"></button>
                </div>
                <strong><h4 class="" style=""><span class="icon icon-book"></span> Rekomendasi Bidang</h4></strong>
            </div>
            <div class="card-body" style="height:'.$bodyHeight.';overflow-y:scroll">';
                foreach ($listCategory as $c) {
                    if($c["showCategory"] == 1){
                        echo '
                        <a href="/dashboard/materi/bidang/category.php?category='.$c["categoryID"].'" style="color:white">
                            <div class="col-md-3 col-lg-3">
                                <div class="card bg-primary-inverse" style="border:3px solid #FFF8DC">
                                    <div class="card-body" style="height:80px">
                                        <div class="media">
                                            <div class="media-middle media-left">
                                                <span class="circle sq-48 bg-primary">
                                                    <span class="icon icon-book"></span>
                                                </span>
                                            </div>
                                            <div class="media-middle media-body">
                                                <h4 class="media-heading" style="height:20px; overflow-y: hidden; overflow-x:hidden">
                                                    <span class="icon icon-location-arrow"></span> '.$c["categoryName"].'
                                                </h4>
                                                <h5 class="media-heading">
                                                    <span class="">'.sizeof($c["subjectList"]).'</span> Materi
                                                </h5>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>';
                    }
                }
            echo '
                </div>
            </div>
    ';
}

function subjectCard($data){

    if(sizeof($data) == 0){
        echo '<h1 class="alert alert-danger text-center">Kosong</h1>';

    }else{
        foreach ($data as $subject) {
            $tempThumbnail = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
            if(!file_exists($_SERVER['DOCUMENT_ROOT'].$tempThumbnail)){
                $subject["thumbnailImage"] = "/dashboard/drive/images/".$subject["thumbnailImage"];
            }else{
                $subject["thumbnailImage"] = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
            }
            $tempFile = "/dashboard/drive/drive-course/course-files/".$subject["filename"];
            if(!file_exists($_SERVER['DOCUMENT_ROOT'].$tempFile)){
                $subject["filename"] = "/dashboard/drive/courses/".$subject["filename"];
            }else{
                $subject["filename"] = "/dashboard/drive/drive-course/course-files/".$subject["filename"];
            }
            $subjectPoint = array(
                900 => '<span class="icon icon-star-o icon-lg"></span>',
                1800 => '<span class="icon icon-star-o icon-lg"></span><span class="icon icon-star-o icon-lg"></span>',
                2700 => '<span class="icon icon-star-o icon-lg"></span><span class="icon icon-star-o icon-lg"></span><span class="icon icon-star-o icon-lg"></span>',
                0 => ''
            );

            $viewer = $subject["seenTotal"];

        echo '

            <div class="col-md-6 col-xs-12 col-sm-6 col-lg-3">
                <div class="card my-color">';

                if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){

                    echo '  <div class="card-header">
                                <div class="media">
                                    <div class="media-middle media-left">
                                        <a href="#">
                                            <img class="media-object img-circle" width="32" height="32" src="/dashboard/drive/drive-user/user-images/'.$subject["userImageUploader"].'" style="object-fit:cover;" alt="'.$subject["uploadedBy"].'">
                                        </a>
                                    </div>
                                    <div class="media-middle media-body">
                                        <em>by</em>
                                        <a class="link-muted" href="#">
                                            <strong class="text-warning">'.$subject["uploadedBy"].'</strong>
                                        </a>
                                        <span class="badge badge-primary">'.date_formating(substr($subject["dateCreated"], 0, 10)).'</span>
                                        '.$subjectPoint[$subject["point"]].'
                                    </div>
                                    <div class="media-right">
                                        <span id="my-icon" class="bg-danger circle sq-24 pull-right" data-toggle="modal" data-target="#delete-'.$subject["subjectID"].'">
                                              <span class="icon icon-trash"></span>
                                        </span>
                                        <span id="my-icon" class="bg-success circle sq-24 pull-right" data-toggle="modal"
                                          data-target="#edit-'.$subject["subjectID"].'">
                                              <span class="icon icon-edit"></span>
                                        </span>
                                    </div>
                                </div>
                            </div>';
                        }

                    echo '
                    <div class="card-image">
                        <img class="img-responsive resize-img2" src="'.$subject["thumbnailImage"].'" alt="'.$subject["subjectName"].'" style="width:100%;">
                    </div>
                    <div class="card-body">
                        <div class="row gutter-xs">
                            <p class="card-title fw-l" style="word-break:break-all; height:40px; overflow-x:hidden;">
                                <a class="btn btn-primary btn-pill" href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'"><span class="icon icon-book"></span> '.nl2br($subject["subjectName"]).'</a>
                            </p>
                            <h5 style="height:15px">';
                                if (strlen($subject["detail-course"]["courseName"]) < 2){
                                    if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                        echo '
                                        <span class="icon icon-exclamation-circle"></span>
                                            edit kategori
                                        <span class="icon icon-exclamation-circle"></span>';
                                    }else{
                                        echo '
                                        <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #course</a>';
                                    }
                                }else{
                                    echo '
                                        <a href="/dashboard/materi/course.php?subject='.$subject["detail-course"]["courseName"].'&id='.$subject["detail-course"]["courseID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">kategori <span class="icon icon-bookmark-o"></span> '.$subject["detail-course"]["courseName"].'</a>';
                                }
                                echo '

                            </h5>
                            <h5 style="height:15px">
                                ';
                                if (strlen($subject["detail-category"]["categoryName"]) < 2){
                                    if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                        echo '
                                        <span class="icon icon-exclamation-circle"></span>
                                            edit bidang
                                        <span class="icon icon-exclamation-circle"></span>
                                        ';
                                    }else{
                                        echo '
                                        <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #category</a>';
                                    }
                                }else{
                                    echo '
                                        <a href="/dashboard/materi/bidang/category.php?category='.$subject["categoryID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">bidang <span class="icon icon-bookmark-o"></span> '.$subject["detail-category"]["categoryName"].'</a>';
                                }
                                echo '
                            </h5>
                            <h5 style="height:15px">
                                ';
                                if (strlen($subject["detail-shelter"]["shelterName"]) < 2){
                                    if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                        echo '
                                        <span class="icon icon-exclamation-circle"></span>
                                            edit focus bidang
                                        <span class="icon icon-exclamation-circle"></span>
                                        ';
                                    }else{
                                        echo '
                                        <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #fcategory</a>';
                                    }
                                }else{
                                    echo '
                                        <a href="/dashboard/materi/shelter/?mshelterID='.$subject["detail-mshelter"]["mshelterID"].'&shelterID='.$subject["detail-shelter"]["shelterID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">fokus jabatan <span class="icon icon-bookmark-o"></span> '.$subject["detail-mshelter"]["mshelterName"].' > '.$subject["detail-shelter"]["shelterName"].'</a>';
                                }
                                echo '
                            </h5>
                        </div>
                        <div class="row gutter-xs">
                            <p style="word-wrap:break-word; height:80px; overflow-y:hidden;">'.filterUrlString($subject["thumbnailText"]).'</p>
                        </div>
                        <div class="row gutter-xs">';
                            $dontknow = "read more";
                            if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                $dontknow = "edit pertanyaan";
                                echo '
                                <button class="btn btn-warning btn-xs btn-labeled" type="button" data-toggle="modal" data-target="#add-quest-'.$subject["subjectID"].'">
                                    <span class="btn-label arrow-right arrow-outline-warning">
                                        <span class="icon icon-plus-circle"></span>Tambah Pertanyaan
                                    </span>'.sizeof($subject["listQuest"]).'
                                </button>
                            ';
                            }echo'
                            <a href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'" class="btn btn-outline-warning btn-xs btn-labeled pull-right" type="button">'.$dontknow.'
                                <span class="btn-label btn-label-right ">
                                    <span class="icon icon-chevron-circle-right icon-lg icon-fw icon-warning"></span>
                                </span>
                            </a>
                        </div>
                    </div>

                    <div class="card-footer" style="height:100px">
                        <button class="btn text-crimson btn-sm btn-labeled col-xs-12" type="button">
                            <span class="btn-label arrow-right arrow-outline-warning" style="min-width:25px">'.$viewer.'</span>
                            <span class="icon icon-users"></span> ';
                                echo $viewer == 1 ? "view" : "views";
                            echo '
                        </button>
                        <br><br>

                        <a href="'.$subject["filename"].'" download class="btn btn-outline-danger btn-download btn-xs my-color btn-labeled download-'.$subject["subjectID"].'" type="button">
                          <span class="btn-label">
                            <span class="icon icon-download icon-lg icon-fw"></span>
                          </span>

                            <span class="btn-label arrow-left bg-crimson" style="min-width:25px"
                                    id="total-downloader-'.$subject["subjectID"].'">'.$subject["totalDownloader"].'</span>

                            <span id="download-label-'.$subject["subjectID"].'">Download materi</span>
                        </a>';
                        if (strlen($subject["videoname"]) > 3){
                            echo '
                            <a href="/dashboard/drive/drive-course/course-videos/'.$subject["videoname"].'" download class="btn btn-outline-danger btn-download btn-xs my-color btn-labeled download-'.$subject["subjectID"].'" type="button">
                              <span class="btn-label">
                                <span class="icon icon-download icon-lg icon-fw"></span>
                              </span>

                                <span id="download-label-'.$subject["subjectID"].'">Download video</span>
                            </a>';
                        }
                        echo '
                    </div>


                </div>
            </div>

            ';
        }
    }
}

function subjectCardGlobal($data){

    if(sizeof($data) == 0){
        echo '<h1 class="alert alert-danger text-center">Kosong</h1>';

    }else{
        foreach ($data as $subject) {
            $tempThumbnail = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
            if(!file_exists($_SERVER['DOCUMENT_ROOT'].$tempThumbnail)){
                $subject["thumbnailImage"] = "/dashboard/drive/images/".$subject["thumbnailImage"];
            }else{
                $subject["thumbnailImage"] = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
            }
            $tempFile = "/dashboard/drive/drive-course/course-files/".$subject["filename"];
            if(!file_exists($_SERVER['DOCUMENT_ROOT'].$tempFile)){
                $subject["filename"] = "/dashboard/drive/courses/".$subject["filename"];
            }else{
                $subject["filename"] = "/dashboard/drive/drive-course/course-files/".$subject["filename"];
            }

            $subjectPoint = array(
                900 => '<span class="icon icon-star-o icon-lg text-warning"></span>',
                1800 => '<span class="icon icon-star-o icon-lg text-warning"></span><span class="icon icon-star-o icon-lg text-warning"></span>',
                2700 => '<span class="icon icon-star-o icon-lg text-warning"></span><span class="icon icon-star-o icon-lg text-warning"></span><span class="icon icon-star-o icon-lg text-warning"></span>',
                0 => ''
            );
            $viewer = $subject["seenTotal"];

        echo '

            <div class="col-md-6 col-xs-12 col-sm-6 col-lg-3">
                <div class="card">
                    <div class="card-header" style="height:38px">'.$subjectPoint[$subject["point"]].'
                    </div>
                    <div class="card-image">
                        <img class="img-responsive resize-img2" src="'.$subject["thumbnailImage"].'" alt="'.$subject["subjectName"].'" style="width:100%;">
                    </div>
                    <div class="card-body">
                        <div class="row gutter-xs">
                            <p class="card-title fw-l" style="word-break:break-all; height:40px; overflow-x:hidden;">
                                <a class="btn btn-primary btn-pill" href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'"><span class="icon icon-book"></span> '.nl2br($subject["subjectName"]).'</a>
                            </p>
                            <h5 style="height:15px">';
                                if (strlen($subject["detail-course"]["courseName"]) < 2){
                                    if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                        echo '
                                        <span class="icon icon-exclamation-circle"></span>
                                            edit kategori
                                        <span class="icon icon-exclamation-circle"></span>';
                                    }else{
                                        echo '
                                        <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #course</a>';
                                    }
                                }else{
                                    echo '
                                        <a href="/dashboard/materi/course.php?subject='.$subject["detail-course"]["courseName"].'&id='.$subject["detail-course"]["courseID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">kategori <span class="icon icon-bookmark-o"></span> '.$subject["detail-course"]["courseName"].'</a>';
                                }
                                echo '
                            </h5>
                            <h5 style="height:15px">';
                                if (strlen($subject["detail-category"]["categoryName"]) < 2){
                                    if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                        echo '
                                        <span class="icon icon-exclamation-circle"></span>
                                            edit bidang
                                        <span class="icon icon-exclamation-circle"></span>
                                        ';
                                    }else{
                                        echo '
                                        <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #category</a>';
                                    }
                                }else{
                                    echo '
                                        <a href="/dashboard/materi/bidang/category.php?category='.$subject["categoryID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">bidang <span class="icon icon-bookmark-o"></span> '.$subject["detail-category"]["categoryName"].'</a>';
                                }
                                echo '
                            </h5>
                            <h5 style="height:15px">';
                                if (strlen($subject["detail-shelter"]["shelterName"]) < 2){
                                    if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                        echo '
                                        <span class="icon icon-exclamation-circle"></span>
                                            edit focus bidang
                                        <span class="icon icon-exclamation-circle"></span>';
                                    }else{
                                        echo '
                                        <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #fcategory</a>';
                                    }
                                }else{
                                    echo '
                                        <a href="/dashboard/materi/shelter/?mshelterID='.$subject["detail-mshelter"]["mshelterID"].'&shelterID='.$subject["detail-shelter"]["shelterID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">fokus jabatan <span class="icon icon-bookmark-o"></span> '.$subject["detail-mshelter"]["mshelterName"].' / '.$subject["detail-shelter"]["shelterName"].'</a>';
                                }
                                echo '
                            </h5>
                        </div>
                        <div class="row gutter-xs">
                            <p style="word-wrap:break-word; height:80px; overflow-y:hidden;">'.filterUrlString($subject["thumbnailText"]).'</p>
                        </div>
                        <div class="row gutter-xs">';
                            $dontknow = "read more";
                            if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                $dontknow = "edit pertanyaan";
                                echo '
                                <button class="btn btn-warning btn-xs btn-labeled" type="button" data-toggle="modal" data-target="#add-quest-'.$subject["subjectID"].'">
                                    <span class="btn-label arrow-right arrow-outline-warning">
                                        <span class="icon icon-plus-circle"></span>Tambah Pertanyaan
                                    </span>'.sizeof($subject["listQuest"]).'
                                </button>
                            ';
                            }echo'
                            <a href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'" class="btn btn-outline-warning btn-xs btn-labeled pull-right" type="button">'.$dontknow.'
                                <span class="btn-label btn-label-right ">
                                    <span class="icon icon-chevron-circle-right icon-lg icon-fw icon-warning"></span>
                                </span>
                            </a>
                        </div>
                    </div>

                    <div class="card-footer" style="height:100px">
                        <button class="btn text-crimson btn-sm btn-labeled col-xs-12" type="button">
                            <span class="btn-label arrow-right arrow-outline-warning" style="min-width:25px">'.$viewer.'</span>
                            <span class="icon icon-users"></span> ';
                                echo $viewer == 1 ? "view" : "views";
                            echo '
                        </button>
                        <br><br>

                        <a href="'.$subject["filename"].'" download class="btn btn-outline-danger btn-download btn-xs my-color btn-labeled download-'.$subject["subjectID"].'" type="button">
                          <span class="btn-label">
                            <span class="icon icon-download icon-lg icon-fw"></span>
                          </span>

                            <span class="btn-label arrow-left bg-crimson" style="min-width:25px"
                                    id="total-downloader-'.$subject["subjectID"].'">'.$subject["totalDownloader"].'</span>

                            <span id="download-label-'.$subject["subjectID"].'">Download materi</span>
                        </a>';
                        if (strlen($subject["videoname"]) > 3){
                            echo '
                            <a href="/dashboard/drive/drive-course/course-videos/'.$subject["videoname"].'" download class="btn btn-outline-danger btn-download btn-xs my-color btn-labeled download-'.$subject["subjectID"].'" type="button">
                              <span class="btn-label">
                                <span class="icon icon-download icon-lg icon-fw"></span>
                              </span>

                                <span id="download-label-'.$subject["subjectID"].'">Download video</span>
                            </a>';
                        }
                        echo '
                    </div>


                </div>
            </div>

            ';
        }
    }
}

function subjectCardGlobal_2($data){

    if(sizeof($data) == 0){
        echo '<h1 class="alert alert-danger text-center">Kosong</h1>';

    }else{
        foreach ($data as $subject) {
            $tempThumbnail = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
            if(!file_exists($_SERVER['DOCUMENT_ROOT'].$tempThumbnail)){
                $subject["thumbnailImage"] = "/dashboard/drive/images/".$subject["thumbnailImage"];
            }else{
                $subject["thumbnailImage"] = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
            }
            $tempFile = "/dashboard/drive/drive-course/course-files/".$subject["filename"];
            if(!file_exists($_SERVER['DOCUMENT_ROOT'].$tempFile)){
                $subject["filename"] = "/dashboard/drive/courses/".$subject["filename"];
            }else{
                $subject["filename"] = "/dashboard/drive/drive-course/course-files/".$subject["filename"];
            }

            $subjectPoint = array(
                900 => '<span class="icon icon-star-o icon-lg text-warning"></span>',
                1800 => '<span class="icon icon-star-o icon-lg text-warning"></span><span class="icon icon-star-o icon-lg text-warning"></span>',
                2700 => '<span class="icon icon-star-o icon-lg text-warning"></span><span class="icon icon-star-o icon-lg text-warning"></span><span class="icon icon-star-o icon-lg text-warning"></span>',
                0 => ''
            );
            $viewer = $subject["seenTotal"];

        echo '

            <div class="col-md-6 col-xs-12 col-sm-6 col-lg-4">
                <div class="card">
                    <div class="card-header" style="height:38px">'.$subjectPoint[$subject["point"]].'
                    </div>
                    <div class="card-image">
                        <img class="img-responsive resize-img2" src="'.$subject["thumbnailImage"].'" alt="'.$subject["subjectName"].'" style="width:100%;">
                    </div>
                    <div class="card-body">
                        <div class="row gutter-xs">
                            <p class="card-title fw-l" style="word-break:break-all; height:40px; overflow-x:hidden;">
                                <a class="btn btn-primary btn-pill" href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'"><span class="icon icon-book"></span> '.nl2br($subject["subjectName"]).'</a>
                            </p>
                            <h5 style="height:15px">';
                                if (strlen($subject["detail-course"]["courseName"]) < 2){
                                    if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                        echo '
                                        <span class="icon icon-exclamation-circle"></span>
                                            edit kategori
                                        <span class="icon icon-exclamation-circle"></span>';
                                    }else{
                                        echo '
                                        <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #course</a>';
                                    }
                                }else{
                                    echo '
                                        <a href="/dashboard/materi/course.php?subject='.$subject["detail-course"]["courseName"].'&id='.$subject["detail-course"]["courseID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">kategori <span class="icon icon-bookmark-o"></span> '.$subject["detail-course"]["courseName"].'</a>';
                                }
                                echo '
                            </h5>
                            <h5 style="height:15px">';
                                if (strlen($subject["detail-category"]["categoryName"]) < 2){
                                    if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                        echo '
                                        <span class="icon icon-exclamation-circle"></span>
                                            edit bidang
                                        <span class="icon icon-exclamation-circle"></span>
                                        ';
                                    }else{
                                        echo '
                                        <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #category</a>';
                                    }
                                }else{
                                    echo '
                                        <a href="/dashboard/materi/bidang/category.php?category='.$subject["categoryID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">bidang <span class="icon icon-bookmark-o"></span> '.$subject["detail-category"]["categoryName"].'</a>';
                                }
                                echo '
                            </h5>
                            <h5 style="height:15px">';
                                if (strlen($subject["detail-shelter"]["shelterName"]) < 2){
                                    if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                        echo '
                                        <span class="icon icon-exclamation-circle"></span>
                                            edit focus bidang
                                        <span class="icon icon-exclamation-circle"></span>';
                                    }else{
                                        echo '
                                        <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #fcategory</a>';
                                    }
                                }else{
                                    echo '
                                        <a href="/dashboard/materi/shelter/?mshelterID='.$subject["detail-mshelter"]["mshelterID"].'&shelterID='.$subject["detail-shelter"]["shelterID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">fokus jabatan <span class="icon icon-bookmark-o"></span> '.$subject["detail-mshelter"]["mshelterName"].' / '.$subject["detail-shelter"]["shelterName"].'</a>';
                                }
                                echo '
                            </h5>
                        </div>
                        <div class="row gutter-xs">
                            <p style="word-wrap:break-word; height:80px; overflow-y:hidden;">'.nl2br($subject["thumbnailText"]).'</p>
                        </div>
                        <div class="row gutter-xs">';
                            $dontknow = "read more";
                            if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                $dontknow = "edit pertanyaan";
                                echo '
                                <button class="btn btn-warning btn-xs btn-labeled" type="button" data-toggle="modal" data-target="#add-quest-'.$subject["subjectID"].'">
                                    <span class="btn-label arrow-right arrow-outline-warning">
                                        <span class="icon icon-plus-circle"></span>Tambah Pertanyaan
                                    </span>'.sizeof($subject["listQuest"]).'
                                </button>
                            ';
                            }echo'
                            <a href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'" class="btn btn-outline-warning btn-xs btn-labeled pull-right" type="button">'.$dontknow.'
                                <span class="btn-label btn-label-right ">
                                    <span class="icon icon-chevron-circle-right icon-lg icon-fw icon-warning"></span>
                                </span>
                            </a>
                        </div>
                    </div>

                    <div class="card-footer" style="height:100px">
                        <button class="btn text-crimson btn-sm btn-labeled col-xs-12" type="button">
                            <span class="btn-label arrow-right arrow-outline-warning" style="min-width:25px">'.$viewer.'</span>
                            <span class="icon icon-users"></span> ';
                                echo $viewer == 1 ? "view" : "views";
                            echo '
                        </button>
                        <br><br>

                        <a href="'.$subject["filename"].'" download class="btn btn-outline-danger btn-download btn-xs my-color btn-labeled download-'.$subject["subjectID"].'" type="button">
                          <span class="btn-label">
                            <span class="icon icon-download icon-lg icon-fw"></span>
                          </span>

                            <span class="btn-label arrow-left bg-crimson" style="min-width:25px"
                                    id="total-downloader-'.$subject["subjectID"].'">'.$subject["totalDownloader"].'</span>

                            <span id="download-label-'.$subject["subjectID"].'">Download materi</span>
                        </a>';
                        if (strlen($subject["videoname"]) > 3){
                            echo '
                            <a href="/dashboard/drive/drive-course/course-videos/'.$subject["videoname"].'" download class="btn btn-outline-danger btn-download btn-xs my-color btn-labeled download-'.$subject["subjectID"].'" type="button">
                              <span class="btn-label">
                                <span class="icon icon-download icon-lg icon-fw"></span>
                              </span>

                                <span id="download-label-'.$subject["subjectID"].'">Download video</span>
                            </a>';
                        }
                        echo '
                    </div>


                </div>
            </div>

            ';
        }
    }
}

function subjectInCategoryCard($listSubject){

    if(sizeof($listSubject) == 0){
        echo '<h1 class="alert alert-danger text-center">Kosong</h1>';

    }else{
        foreach ($listSubject as $subject) {
            // $viewer = $subject["seenTotal"];

            $temp = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
            if(!file_exists($_SERVER['DOCUMENT_ROOT'].$temp)){
                $subject["thumbnailImage"] = "/dashboard/drive/images/".$subject["thumbnailImage"];
            }else{
                $subject["thumbnailImage"] = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
            }
            $tempFile = "/dashboard/drive/drive-course/course-files/".$subject["filename"];
            if(!file_exists($_SERVER['DOCUMENT_ROOT'].$tempFile)){
                $subject["filename"] = "/dashboard/drive/courses/".$subject["filename"];
            }else{
                $subject["filename"] = "/dashboard/drive/drive-course/course-files/".$subject["filename"];
            }
            $viewer = $subject["seenTotal"];

        echo '

            <div class="col-md-4 col-xs-12 col-sm-4">
                <div class="card my-color">';

                if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){

                    echo '  <div class="card-header">
                                <div class="media">
                                    <div class="media-middle media-left">
                                        <a href="#">
                                            <img class="media-object img-circle" width="32" height="32" src="/dashboard/drive/drive-user/user-images/'.$subject["userImageUploader"].'" alt="'.$subject["uploadedBy"].'">
                                        </a>
                                    </div>
                                    <div class="media-middle media-body">
                                        <em>by</em>
                                        <a class="link-muted" href="#">
                                            <strong class="text-warning">'.$subject["uploadedBy"].'</strong>
                                        </a>
                                        <span class="badge badge-primary">'.date_formating(substr($subject["dateCreated"], 0, 10)).'</span>
                                    </div>
                                    <div class="media-right">
                                        <span id="my-icon" class="bg-danger circle sq-24 pull-right" data-toggle="modal" data-target="#delete-'.$subject["subjectID"].'">
                                              <span class="icon icon-trash"></span>
                                        </span>
                                        <span id="my-icon" class="bg-success circle sq-24 pull-right" data-toggle="modal"
                                          data-target="#edit-'.$subject["subjectID"].'">
                                              <span class="icon icon-edit"></span>
                                        </span>
                                    </div>
                                </div>
                            </div>';
                }

                    echo '
                    <div class="card-image">
                        <img class="img-responsive resize-img2" src="'.$subject["thumbnailImage"].'" alt="'.$subject["subjectName"].'" style="width:100%;">
                    </div>
                    <div class="card-body">


                        <div class="row gutter-xs">
                            <p class="card-title fw-l" style="word-break:break-all; height:40px; overflow-x:hidden;">
                                <a class="btn btn-primary btn-pill" href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'"><span class="icon icon-book"></span> '.nl2br($subject["subjectName"]).'</a>
                            </p>
                            <h5 style="height:15px">';
                                if (strlen($subject["detail-course"]["courseName"]) < 2){
                                    if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                        echo '
                                        <span class="icon icon-exclamation-circle"></span>
                                            edit kategori
                                        <span class="icon icon-exclamation-circle"></span>
                                        ';
                                    }else{
                                        echo '
                                        <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #course</a>

                                        ';
                                    }
                                }else{
                                    echo '
                                        <a href="/dashboard/materi/course.php?subject='.$subject["detail-course"]["courseName"].'&id='.$subject["detail-course"]["courseID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">kategori <span class="icon icon-bookmark-o"></span> '.$subject["detail-course"]["courseName"].'</a>
                                    ';
                                }
                                echo '
                            </h5>
                            <h5 style="height:15px">
                                ';
                                if (strlen($subject["detail-category"]["categoryName"]) < 2){
                                    if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                        echo '
                                        <span class="icon icon-exclamation-circle"></span>
                                            edit bidang
                                        <span class="icon icon-exclamation-circle"></span>
                                        ';
                                    }else{
                                        echo '
                                        <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #category</a>

                                        ';
                                    }
                                }else{
                                    echo '
                                        <a href="/dashboard/materi/bidang/category.php?category='.$subject["categoryID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">bidang <span class="icon icon-bookmark-o"></span> '.$subject["detail-category"]["categoryName"].'</a>
                                    ';
                                }
                                echo '
                            </h5>
                            <h5 style="height:15px">';
                                if (strlen($subject["detail-focusCategory"]["focusCategoryName"]) < 2){
                                    if($_SESSION["type"] < 3 && (isset($_SESSION["super_admin_t_1"]) || isset($_SESSION["admin_t_2"]))){
                                        echo '
                                        <span class="icon icon-exclamation-circle"></span>
                                            edit focus bidang
                                        <span class="icon icon-exclamation-circle"></span>';
                                    }else{
                                        echo '
                                        <a href="" class="btn btn-xs btn-pill btn-thick btn-outline-danger"><span class="icon icon-bookmark-o"></span> #fcategory</a>';
                                    }
                                }else{
                                    echo '
                                        <a href="/dashboard/materi/bidang/category.php?fcategory='.$subject["detail-focusCategory"]["focusCategoryID"].'" class="btn btn-xs btn-pill btn-thick btn-outline-warning">fokus bidang <span class="icon icon-bookmark-o"></span> '.$subject["detail-focusCategory"]["focusCategoryName"].'</a>';
                                }
                                echo '
                            </h5>
                        </div>

                        <p style="word-wrap:break-word; height:80px; overflow-y:hidden;">'.nl2br($subject["thumbnailText"]).'</p>
                        <a href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'" class="btn btn-outline-warning btn-xs btn-labeled pull-right" type="button">read more
                            <span class="btn-label btn-label-right">
                                <span class="icon icon-chevron-circle-right icon-lg icon-fw"></span>
                            </span>
                        </a>
                    </div>
                    <div class="card-footer">
                        <button class="btn text-crimson btn-sm btn-labeled col-xs-12" type="button">
                            <span class="btn-label arrow-right arrow-outline-warning" style="min-width:25px">'.$viewer.'</span>
                            <span class="icon icon-users"></span> ';
                                echo $viewer == 1 ? "view" : "views";
                            echo '
                        </button>
                        <br><br>

                        <a href="'.$subject["filename"].'" download class="btn btn-outline-danger btn-download btn-xs my-color btn-labeled download-'.$subject["subjectID"].'" type="button">
                          <span class="btn-label">
                            <span class="icon icon-download icon-lg icon-fw"></span>
                          </span>

                            <span class="btn-label arrow-left bg-crimson" style="min-width:25px"
                                    id="total-downloader-'.$subject["subjectID"].'">'.$subject["totalDownloader"].'</span>

                            <span id="download-label-'.$subject["subjectID"].'">Download</span>
                        </a>

                    </div>


                </div>
            </div>

            ';
        }
    }
}

function subjectTable($data){

    echo '
        <table id="demo-datatables-scroller-1" class="table table-striped   table-nowrap dataTable" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>Seq.</th>
                    <th>Judul</th>
                    <th>Tgl. Upload</th>
                    <th>Jml. penanya</th>
                    <th>Jml. pembaca</th>
                    <th>Dibaca (Detik)</th>
                    <th>Dibaca (Jam)</th>
                </tr>
            </thead>
            <tfoot>
                <tr>
                    <th>Seq.</th>
                    <th>Judul</th>
                    <th>Tgl. Upload</th>
                    <th>Jml. penanya</th>
                    <th>Jml. pembaca</th>
                    <th>Dibaca (Detik)</th>
                    <th>Dibaca (Jam)</th>
                </tr>
            </tfoot>
            <tbody>';
                $i = 0;
                foreach ($data as $subject) {
                    $i++;
                    echo '
                <tr>
                    <td>'.$i.'</td>
                    <td>'.$subject["subjectName"].'</td>
                    <td>'.$subject["dateCreated"].'</td>
                    <td>0</td>
                    <td>'.$subject["seenTotal"].'</td>
                    <td>'.$subject["timeTotal"].'</td>
                    <td>'.$subject["timeRead"].'</td>
                </tr>';
                }

                        echo '
            </tbody>
        </table>';
}

function stupidScript($data){
    foreach ($data as $user) {

        if($user["certificate"]){
            echo '

            <div id="history-'.$user["username"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                <div class="modal-dialog" role="document">
                    <div class="modal-content bg-primary animated bounceInRight">
                        <div class="modal-header" style="background-color:white; color:red">
                            <h4 class="modal-title"><span class="icon icon-wpforms icon-lg"></span> history pengiriman
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </h4>
                        </div>

                        <div class="modal-body text-crimson">
                            <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%">
                                <thead>
                                    <tr>
                                        <th>No.</th>
                                        <th>Pengirim</th>
                                        <th>Tanggal</th>
                                    </tr>
                                </thead>
                                <tfoot>
                                    <tr>
                                        <th>No.</th>
                                        <th>Pengirim</th>
                                        <th>Tanggal</th>
                                    </tr>
                                </tfoot>
                                <tbody>';
                                    $ni = 1;
                                    foreach ($user["certificateHistory"] as $transaction){

                                        echo '
                                            <tr>
                                                <td>'.$ni.'</td>
                                                <td>'.$transaction["sentBy"].'</td>
                                                <td>'.date_formating($transaction["dateCreated"]).'</td>
                                            </tr>
                                        ';
                                        $ni ++;
                                    }


                                    echo '
                                </tbody>
                            </table>

                        </div>
                    </div>
                </div>
            </div>
            <script>
                $(document).ready(function(){
                    $("#send-'.$user["username"].'").on("click", function(){

                        $("#send-'.$user["username"].'").prop("disabled", true);
                        $("#send-'.$user["username"].'").html("Mengirim");
                        var formData = new FormData();
                        formData.append("send-certificate", "");
                        formData.append("username", "'.$user["username"].'");
                        formData.append("sentBy", "'.$_SESSION["username"].'");
                        $.ajax({
                            type: "POST",
                            processData: false,
                            contentType: false,
                            enctype: "multipart/form-data",

                            url: "/handler/handler_ajax_certificate.php",
                            data: formData,
                            success: function (data) {
                              var result = $.parseJSON(data);

                              if(result.info != "success"){
                                $("#failedMessage").html("<h4>" + result.info + "</h4>");
                                $("#failed").modal("show");
                              }else{
                                $(".modal").modal("hide");
                                $(".my-question").val("");
                                $("#successMessage").html("<h4>Sertifikat Terkirim!</h4>");
                                $("#success").modal("show");
                                $("#send-'.$user["username"].'").prop("disabled", false);
                                $("#send-'.$user["username"].'").html("Kirim");
                                $("#success").on("hidden.bs.modal", function(){location.reload();});
                              }
                            },
                            error: function(){
                              alert("error in ajax form submission");
                            }
                        });
                    });

                });
            </script>


        ';
        }

    }
}

function userTable($data){
    echo '
        <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>Nama</th>
                <th>Kirim Sertifikat</th>
                <th>Terkirim</th>
                <th>Waktu(Jam)</th>
            </tr>
        </thead>
        <tbody id="table-quy">';
        foreach ($data as $user) {
            echo '
            <tr>
                <td id="">'.$user["name"].'</td>';
                if($user["certificate"]){
                    echo '
                <td>
                    <button href="#" id="send-'.$user["username"].'" class="label label-outline-success">Kirim</button>

                    <button class="label label-outline-success" id="my-icon"
                     data-toggle="modal" data-target="#history-'.$user["username"].'"
                    ><span class="icon icon-search"></span></button>


                </td>';
                }else{
                    echo '<td><a class="label label-outline-danger">Tidak tersedia</a></td>';
                }

                echo'

                <td id="">'.$user["totalSent"].'</td>
                <td id="">'.$user["timeRead"].'</td>
            </tr>
            ';
        }
            echo '
        <tbody>

    </table>
    ';
}

function my_question($listQuestion){
    echo '
        <div class="card my-color">
            <div class="card-header">
                <div class="card-actions">
                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                    <button type="button" class="card-action card-remove" title="Remove"></button>
                </div>
                <strong>My-Question</strong>
            </div>
            <div class="card-body">
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-segment">
                            <span class="timeline-divider"></span>
                        </div>
                        <div class="timeline-content">';

                        if(sizeof($listQuestion) == 0){
                            echo '<div class="timeline-row"><h4>Tidak ada pertanyaan<br>(anda belum bertanya)</h4></div>';
                        }

                        echo '
                        </div>
                    </div>
                    ';
                    foreach ($listQuestion as $question) {
                        echo '

                    <div class="timeline-item">
                        <div class="timeline-segment">
                            <img class="timeline-media img-circle" width="40" height="40" style="object-fit:cover" src="/dashboard/drive/drive-user/user-images/'.$question["image"].'" alt="'.$question["username"].'">

                        </div>
                        <div class="timeline-content">
                            <div class="timeline-row">
                                <a data-toggle="modal" data-target="#profile-'.$question["questionID"].'"><strong>'.$question["name"].'</strong></a>
                                <small class="pull-right">'.date_formating($question["dateCreated"]).'</small>
                            </div>
                            <div class="timeline-row">
                                '.$question["question"].'
                            </div>';
                            if(sizeof($question["answerList"]) > 0){
                                echo '
                                <a class="btn btn-xs btn-labeled arrow-up arrow-outline-info" href="#">
                                      <span class="badge my-color">'.sizeof($question["answerList"]).'</span> dijawab
                                      <span class="btn-label btn-label-right">
                                        <span class="icon icon-check-circle-o icon-lg icon-fw"></span>
                                      </span>
                                    </a>
                                ';
                            }
                            echo '

                            <div class="timeline-row card-footer" style="margin-top: 10px;">
                                <a href="/dashboard/materi/read.php?subject='.$question["subjectID"].'" class="text-warning">
                                    <span class="icon icon-book"></span>
                                    '.$question["subjectName"].'
                                </a>

                            </div>
                        </div>

                    </div>


                    ';
                    }
                echo '

                </div>
            </div>

        </div>

    ';
}

function my_statistic($user){
    echo '

        <div class="card my-color">
            <div class="card-header">
                <div class="card-actions">
                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                    <button type="button" class="card-action card-remove" title="Remove"></button>
                </div>
                <strong>My-Statistic</strong>
            </div>
            <div class="card-body">
                <table id="demo-datatables-scroller-1" class="table table-striped table-nowrap dataTable text-crimson" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th class="text-left">No</th>
                            <th class="text-left">Judul</th>
                            <th class="text-left">Waktu(detik)</th>
                            <th class="text-left">Time</th>
                        </tr>
                    </thead>
                    <tbody>';
                        $i = 1;
                            foreach ($user["readList"] as $subject) {
                                echo '
                        <tr>
                            <td class="text-left">'.$i.'</td>
                            <td class="text-left">
                                <a href="/dashboard/materi/read.php?subject='.$subject["subjectID"].'">
                                        <span class="icon icon-book"></span>
                                        '.$subject["subjectName"].'
                                </a>

                            </td>
                            <td class="text-left">'.$subject["timeInSecond"].'</td>
                            <td class="text-left">'.$subject["timeRead"].'</td>
                        </tr>

                        '; $i++; }echo '

                    </tbody>
                    <tfoot>
                        <th colspan="3" class="text-center">Total waktu</th>
                        <th>'.$user["timeRead"].'</th>
                    </tfoot>
                </table>
            </div>
        </div>

    ';
}

function popup_addAccount($page){
    if(strtolower($page) == "pegawai"){
        echo '

        <div class="modal fade" id="addAccount" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-primary">
                        <h4 class="modal-title">Tambah akun <?php echo $page; ?>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </h4>
                    </div>
                    <div class="modal-body">
                        <div class="signup">
                            <div class="signup-body">
                                <div class="signup-form">
                                    <form action="" id="addUser" method="post" data-toggle="validator" enctype="multipart/form-data" data-groups=\'{"birthdate": "birth_month birth_day birth_year"}\'>
                                        <input type="hidden" name="addUser" value="'.$page.'">

                                        <div class="row gutter-xs">
                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <label class="file-upload-btn btn btn-primary">
                                                        Upload foto <span class="icon icon-image"></span>
                                                        <input type="file" class="file-upload-input" id="file" name="profileImage" accept="image/*">
                                                    </label>
                                                    <div id="image-preview-div">
                                                        <label for="exampleInputFile">Selected image:</label>
                                                        <br>
                                                        <img id="preview-img" class="timeline-media img-rounded" width="150" height="150" style="object-fit: cover;" src="/dashboard/drive/drive-user/user-images/default.jpg">
                                                    </div>
                                                    <div id="message"></div>
                                                </div>
                                            </div>
                                            <div class="col-sm-6">
                                                <div class="col-sm-12">
                                                    <div class="form-group">
                                                        <label for="Username">Username</label>
                                                        <input id="username" class="form-control" type="text" name="username" spellcheck="false" autocomplete="off"  minlength="6" data-msg-minlength="username minimal 6 characters atau lebih."data-msg-required="Please enter your sername." required>
                                                    </div>

                                                </div>
                                                <div class="col-sm-12">
                                                    <div class="form-group">
                                                        <label for="password">Password</label>
                                                        <input class="form-control" type="password" name="password" minlength="6" data-msg-minlength="Password minimal 6 characters atau lebih." data-msg-required="Please enter your password." required>
                                                        <small class="help-block">6-character minimum; case sensitive.</small>
                                                    </div>
                                                </div>
                                                <div class="col-sm-12">
                                                    <div class="form-group">
                                                        <label for="email">Email</label>
                                                        <input class="form-control" type="email" name="email" spellcheck="false" autocomplete="off" data-msg-required="Please enter your email address." required>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="first-name">Nama Depan</label>
                                                    <input class="form-control" type="text" name="firstName" spellcheck="false" data-msg-required="Please enter your first name." minlength="4" data-msg-minlength="nama depan minimal 4 characters atau lebih." required>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="last-name">Nama Belakang</label>
                                                    <input class="form-control" type="text" name="lastName" spellcheck="false" data-msg-required="Please enter your last name." minlength="4" data-msg-minlength="nama belakang minimal 4 characters atau lebih." required>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="hp">Nomor HP</label>
                                                    <input class="form-control" type="text" name="hp" spellcheck="false" data-msg-required="Please enter your phone number." minlength="10" data-msg-minlength="masukan nomor hp dengan benar" required ">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="tempat">Tempat Kelahiran</label>
                                                    <input class="form-control" type="text" name="tempat" spellcheck="false" minlength="4" data-msg-minlength="masukan tempat kelahiran dengan benar" required ">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="birth-month">Tanggal Lahir</label>
                                                    <div class="row gutter-xs">
                                                        <div class="col-xs-6">
                                                            <div class="form-group">
                                                                <select id="birth-month" class="custom-select" name="birthMonth" data-msg-required="Please enter your birthday." required="" aria-required="true">
                                                                    <option value="" disabled="disabled" selected="selected">Month</option>
                                                                    <option value="01">January</option>
                                                                    <option value="02">February</option>
                                                                    <option value="03">March</option>
                                                                    <option value="04">April</option>
                                                                    <option value="05">May</option>
                                                                    <option value="06">June</option>
                                                                    <option value="07">July</option>
                                                                    <option value="08">August</option>
                                                                    <option value="09">September</option>
                                                                    <option value="10">October</option>
                                                                    <option value="11">November</option>
                                                                    <option value="12">December</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-3">
                                                            <div class="form-group">
                                                                <input id="birth-day" class="form-control" type="number" name="birthDay" placeholder="Day" min="1" max="31" data-msg-min="Please enter a valid day of the month." data-msg-max="Please enter a valid day of the month." data-msg-required="Please enter your birthday." required="" aria-required="true">
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-3">
                                                            <div class="form-group">
                                                                <input id="birth-year" class="form-control" type="number" name="birthYear" placeholder="Year" min="1900" max="2017" data-msg-min="Please enter a valid year." data-msg-max="Please enter a valid year." data-msg-required="Please enter your birthday." required="" aria-required="true">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="gender">Jenis Kelamin</label>
                                                    <select class="custom-select" name="gender" data-msg-required="Pilih jenis kelamin!" required>
                                                        <option value="" disabled="disabled" selected="selected">Select...</option>
                                                        <option value="Laki-Laki">Laki-Laki</option>
                                                        <option value="Perempuan">Perempuan</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="nip">NIP</label>
                                                    <input class="form-control" type="text" name="nip" spellcheck="false" autocomplete="off" data-msg-required="Masukan data NIP!" required>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="golongan">Pangkat/Golongan</label>
                                                    <input class="form-control" type="text" name="golongan" spellcheck="false" autocomplete="off" data-msg-required="Masukan Pangkat/Golongan!" required>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="jabatan">Jabatan</label>
                                                    <input class="form-control" type="text" name="jabatan" spellcheck="false" autocomplete="off" data-msg-required="Masukan Jabatan!" required>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="unitKerja">Unit Kerja</label>
                                                    <input class="form-control" type="text" name="unitKerja" spellcheck="false" autocomplete="off" data-msg-required="Masukan bagian unit kerja." required>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="instansi">Instansi</label>
                                                    <input class="form-control" type="text" name="instansi" spellcheck="false" autocomplete="off" data-msg-required="Masukan instansi." required>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                            <button type="submit" class="btn btn-primary">Tambah</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>





                    </div>
                </div>
            </div>
        </div>



        ';
    }else{
        echo '
        <div class="modal fade" id="addAccount" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-primary">
                        <h4 class="modal-title">Tambah akun <?php echo $page; ?>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </h4>
                    </div>
                    <div class="modal-body">
                        <div class="signup">
                            <div class="signup-body">
                                <div class="signup-form">
                                    <form action="" id="addUser" method="post" data-toggle="validator" enctype="multipart/form-data" data-groups=\'{"birthdate": "birth_month birth_day birth_year"}\'>
                                        <input type="hidden" name="addUser" value="'.$page.'">

                                        <div class="row gutter-xs">
                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <label class="file-upload-btn btn btn-primary">
                                                        Upload foto <span class="icon icon-image"></span>
                                                        <input type="file" class="file-upload-input" id="file" name="profileImage" accept="image/*">
                                                    </label>
                                                    <div id="image-preview-div">
                                                        <label for="exampleInputFile">Selected image:</label>
                                                        <br>
                                                        <img id="preview-img" class="timeline-media img-rounded" width="150" height="150" style="object-fit: cover;" src="/dashboard/drive/images/default.jpg">
                                                    </div>
                                                    <div id="message"></div>
                                                </div>
                                            </div>
                                            <div class="col-sm-6">
                                                <div class="col-sm-12">
                                                    <div class="form-group">
                                                        <label for="Username">Username</label>
                                                        <input id="username" class="form-control" type="text" name="username" spellcheck="false" autocomplete="off"  minlength="6" data-msg-minlength="username minimal 6 characters atau lebih."data-msg-required="Please enter your sername." required>
                                                    </div>
                                                </div>
                                                <div class="col-sm-12">
                                                    <div class="form-group">
                                                        <label for="password">Password</label>
                                                        <input class="form-control" type="password" name="password" minlength="6" data-msg-minlength="Password minimal 6 characters atau lebih." data-msg-required="Please enter your password." required>
                                                        <small class="help-block">6-character minimum; case sensitive.</small>
                                                    </div>
                                                </div>


                                                <div class="col-sm-12">
                                                    <div class="form-group">
                                                        <label for="email">Email</label>
                                                        <input class="form-control" type="email" name="email" spellcheck="false" autocomplete="off" data-msg-required="Please enter your email address." required>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="first-name">Nama Depan</label>
                                                    <input class="form-control" type="text" name="firstName" spellcheck="false" data-msg-required="Please enter your first name." minlength="4" data-msg-minlength="nama depan minimal 4 characters atau lebih." required>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="last-name">Nama Belakang</label>
                                                    <input class="form-control" type="text" name="lastName" spellcheck="false" data-msg-required="Please enter your last name." minlength="4" data-msg-minlength="nama belakang minimal 4 characters atau lebih." required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="gender">Jenis Kelamin</label>
                                                    <select class="custom-select" name="gender" data-msg-required="Please indicate your gender." required>
                                                        <option value="" disabled="disabled" selected="selected">Select...</option>
                                                        <option value="Laki-Laki">Laki-Laki</option>
                                                        <option value="Perempuan">Perempuan</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="hp">Nomor HP</label>
                                                    <input class="form-control" type="text" name="hp" spellcheck="false" data-msg-required="Please enter your phone number." minlength="10" data-msg-minlength="masukan nomor hp dengan benar" required ">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                            <button type="submit" class="btn btn-primary">Tambah</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        ';
    }
}

function search($user){
    echo '
        <div class="card" data-toggle="match-height">
            <div class="card-image">
                <div class="overlay">



                </div>
            </div>
            <div class="card-avatar">
                <div class="p-x pull-left">
                        <a class="thumbnail card-thumbnail rounded sq-100" href="#" style="margin-top: 10px; border: 2px solid #990000; height: 110px">
                          <img class="img-responsive" id="image" style="height:100px; object-fit: cover" alt="" src="/dashboard/drive/images/default.jpg">
                        </a>
                    </div>
                <div class="p-t clear">
                    <h4 class="card-title"><strong>
                        <a class="link-muted" style="color:black" href="#" id="tagName">
                      </a></strong>

                    </h4>
                    <h6 class="card-subtitle"><span class="icon icon-envelope text-crimson"></span> <span id="email"></span></h6>
                </div>
            </div>
            <div class="card-body">
                <div class="card-content">

                    <div class="card text-crimson">
                        <div class="card-header">
                            <div class="card-actions">
                                <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                <button type="button" class="card-action card-reload" title="Reload"></button>
                                <button type="button" class="card-action card-remove" title="Remove"></button>
                            </div>
                            <strong>Profile</strong>
                        </div>
                        <div class="card-body" data-toggle="match-height" style="">
                            <table class="table table-borderless table-middle">
                                <tbody>
                                    <tr>
                                        <td class="col-xs-1"><span class="icon icon-phone"></span></td>
                                        <td class="col-xs-3">
                                            <a class="link-muted" href="#">/HP</a>
                                        </td>
                                        <td class="col-xs-5">
                                            <div id="hp">0</div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-1"><span class="icon icon-user"></span></td>
                                        <td class="col-xs-3">
                                            <a class="link-muted" href="#">/NIP</a>
                                        </td>
                                        <td class="col-xs-5">
                                            <div id="nip">0</div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-1"><span class="icon icon-birthday-cake"></span></td>
                                        <td class="col-xs-3">
                                            <a class="link-muted" href="#">/Tempat Tanggal Lahir</a>
                                        </td>
                                        <td class="col-xs-5">
                                            <div id="birthDate">0</div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-1"><span class="icon icon-universal-access"></span></td>
                                        <td class="col-xs-3">
                                            <a class="link-muted" href="#">/Golongan</a>
                                        </td>
                                        <td class="col-xs-5">
                                            <div id="golongan">0</div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-1"><span class="icon icon-universal-access"></span></td>
                                        <td class="col-xs-3">
                                            <a class="link-muted" href="#">/Jabatan</a>
                                        </td>
                                        <td class="col-xs-5">
                                            <div id="jataban">0</div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-1"><span class="icon icon-universal-access"></span></td>
                                        <td class="col-xs-3">
                                            <a class="link-muted" href="#">/Unit Kerja</a>
                                        </td>
                                        <td class="col-xs-5">
                                            <div id="unitKerja">0</div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-1"><span class="icon icon-universal-access"></span></td>
                                        <td class="col-xs-3">
                                            <a class="link-muted" href="#">/Instansi</a>
                                        </td>
                                        <td class="col-xs-5">
                                            <div id="instansi">0</div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="card-links">
                    <div class="row p-y">
                        <div class="col-xs-8 col-xs-offset-2">
                            <div class="row text-center">
                                <div class="col-xs-4">
                                    <a class="link-muted" href="#">
                                        <h4 class="m-y-0" id="totalSubjectRead">0
                                        </h4>
                                        <small>materi</small>
                                    </a>
                                </div>
                                <div class="col-xs-4">
                                    <a class="link-muted" href="#">
                                        <h4 class="m-y-0" id="timeRead">0
                                        </h4>
                                        <small>membaca</small>
                                     </a>
                                </div>
                                <div class="col-xs-4">
                                    <a class="link-muted" href="#">
                                        <h4 class="m-y-0" id="totalQuestion">0
                                        </h4>
                                        <small>bertanya</small>
                                     </a>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </div>

    ';
}

function result($user){
    echo '
        <div class="card" data-toggle="match-height">
            <div class="card-image">
                <div class="overlay">



                </div>
            </div>
            <div class="card-avatar">
                <div class="p-x pull-left">
                        <a class="thumbnail card-thumbnail rounded sq-100" href="#" style="margin-top: 10px; border: 2px solid #990000; height: 110px">
                          <img class="img-responsive" id="image" style="height:100px; object-fit: cover" alt="" src="/dashboard/drive/images/'.$user["image"].'">
                        </a>
                    </div>
                <div class="p-t clear">
                    <h4 class="card-title"><strong>
                        <a class="link-muted" style="color:black" href="#" id="tagName">'.$user["name"].' ('.$user["username"].')
                      </a></strong>

                    </h4>
                    <h6 class="card-subtitle"><span class="icon icon-envelope text-crimson"></span> <span id="email"></span> '.$user["email"].'</h6>
                </div>
            </div>
 \\           <div class="card-body">
                <div class="card-content">

                    <div class="card text-crimson">
                        <div class="card-header">
                            <div class="card-actions">
                                <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                <button type="button" class="card-action card-reload" title="Reload"></button>
                                <button type="button" class="card-action card-remove" title="Remove"></button>
                            </div>
                            <strong>Profile</strong>
                        </div>
                        <div class="card-body" data-toggle="match-height" style="">
                            <table class="table table-borderless table-middle">
                                <tbody>
                                    <tr>
                                        <td class="col-xs-1"><span class="icon icon-phone"></span></td>
                                        <td class="col-xs-3">
                                            <a class="link-muted" href="#">/HP</a>
                                        </td>
                                        <td class="col-xs-5">
                                            <div>'.$user["hp"].'</div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-1"><span class="icon icon-user"></span></td>
                                        <td class="col-xs-3">
                                            <a class="link-muted" href="#">/NIP</a>
                                        </td>
                                        <td class="col-xs-5">
                                            <div>'.$user["nip"].'</div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-1"><span class="icon icon-birthday-cake"></span></td>
                                        <td class="col-xs-3">
                                            <a class="link-muted" href="#">/Tempat Tanggal Lahir</a>
                                        </td>
                                        <td class="col-xs-5">
                                            <div>'.$user["tempat"].', '.$user["birthDate"].'</div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-1"><span class="icon icon-universal-access"></span></td>
                                        <td class="col-xs-3">
                                            <a class="link-muted" href="#">/Golongan</a>
                                        </td>
                                        <td class="col-xs-5">
                                            <div>'.$user["golongan"].'</div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-1"><span class="icon icon-universal-access"></span></td>
                                        <td class="col-xs-3">
                                            <a class="link-muted" href="#">/Jabatan</a>
                                        </td>
                                        <td class="col-xs-5">
                                            <div>'.$user["jabatan"].'</div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-1"><span class="icon icon-universal-access"></span></td>
                                        <td class="col-xs-3">
                                            <a class="link-muted" href="#">/Unit Kerja</a>
                                        </td>
                                        <td class="col-xs-5">
                                            <div>'.$user["unitKerja"].'</div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="col-xs-1"><span class="icon icon-universal-access"></span></td>
                                        <td class="col-xs-3">
                                            <a class="link-muted" href="#">/Instansi</a>
                                        </td>
                                        <td class="col-xs-5">
                                            <div>'.$user["instansi"].'</div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="card-links">
                    <div class="row p-y">
                        <div class="col-xs-8 col-xs-offset-2">
                            <div class="row text-center">
                                <div class="col-xs-4">
                                    <a class="link-muted" href="#">
                                        <h4 class="m-y-0">'.$user["totalSubjectRead"].'</h4>
                                        <small>materi</small>
                                    </a>
                                </div>
                                <div class="col-xs-4">
                                    <a class="link-muted" href="#">
                                        <h4 class="m-y-0">'.$user["timeRead"].'</h4>
                                        <small>membaca</small>
                                     </a>
                                </div>
                                <div class="col-xs-4">
                                    <a class="link-muted" href="#">
                                        <h4 class="m-y-0">'.$user["totalQuestion"].'</h4>
                                        <small>bertanya</small>
                                     </a>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </div>

    ';
}

function popup_answer_x($question, $user, $n){
    echo '
        <div class="modal-dialog" role="document">
            <div class="modal-content my-color animated bounceInRight">
                <div class="modal-header" style="background-color:white; color:red">
                    <h4 class="modal-title"><span class="icon icon-edit icon-lg"></span>Balas Pertanyaan
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </h4>
                </div>

                <div class="modal-body">

                    <div class="signup">
                        <div class="signup-body">
                            <div class="signup-form">
                                <form id="answer-'.$question["questionID"].'" method="post" class="form form-horizontal" action="" data-toggle="validator">
                                    <input type="hidden" name="addAnswer" value="'.$question["subjectID"].'">
                                    <input type="hidden" name="questionID" value="'.$question["questionID"].'">
                                    <input type="hidden" name="ansBy" value="'.$_SESSION["username"].'">
                                    <input type="hidden" name="queBy" value="'.$user["username"].'">

                                    <div class="row gutter-xs">
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label" for="form-control-5">Materi</label>
                                            <div class="col-sm-9">
                                                <input name="subjectName" id="form-control-5" class="form-control" type="text"
                                                value="'.$question["subjectName"].'" readonly="readonly">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row gutter-xs">
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label" for="form-control-5">Pertanyaan</label>
                                            <div class="col-sm-9">
                                                <input name="question" id="form-control-5" class="form-control" type="text"
                                                value="'.$question["question"].'" readonly="readonly">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row gutter-xs">
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label" for="form-control-5">Email tujuan</label>
                                            <div class="col-sm-9">
                                                <input name="email" id="form-control-5" class="form-control" type="text" value="'.$user["email"].'" readonly="readonly">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row gutter-xs">
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label" for="form-control-8">Balas Pertanyaan</label>
                                            <div class="col-sm-9">
                                            <textarea name="answer" id="form-control-8" class="form-control my-question" rows="3"></textarea>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row gutter-xs">
                                        <div class="pull-right">
                                            <button type="button" class="btn btn-secondary text-crimson" data-dismiss="modal">Cancel</button>
                                            <button type="submit" id="send-answer-'.$question["questionID"].'" class="btn bg-crimson">Kirim</button>
                                        </div>
                                    </div>

                                </form>
                                <script>
                                    $(document).ready(function(){
                                          $("#answer-'.$question["questionID"].'").on("submit", function (e) {
                                              e.preventDefault();
                                              $("#send-answer-'.$question["questionID"].'").prop("disabled", true);
                                              $("#send-answer-'.$question["questionID"].'").html("mengirim");
                                              var formData = new FormData(this);
                                              $.ajax({
                                                  type: "POST",
                                                  processData: false,
                                                  contentType: false,
                                                  enctype: "multipart/form-data",
                                                  url: "/handler/handler_ajax_course.php",
                                                  data: formData,
                                                  success: function (data) {
                                                    var result = $.parseJSON(data);
                                                    if(result.info != "success"){
                                                      $("#failedMessage").html(result.info);
                                                      $("#failed").modal("show");
                                                    }else{
                                                      $(".modal").modal("hide");
                                                      $("#successMessage").html("Pesan berhasil terkirim");
                                                      $("#success").modal("show");
                                                      $("#success").on("hidden.bs.modal", function(){location.reload();});
                                                    }
                                                    $("#send-answer-'.$question["questionID"].'").html("Kirim");
                                                    $("#send-answer-'.$question["questionID"].'").prop("disabled", false);
                                                  },
                                                  error: function(){
                                                    alert("error in ajax form submission");
                                                  }
                                              });
                                          });

                                    });
                                </script>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    ';
}

function true_false_popup(){
    echo '

        <div id="success" tabindex="-1" role="dialog" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">×</span>
                            <span class="sr-only">Close</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="text-center">
                            <span class="text-success icon icon-check icon-5x"></span>
                            <h3 class="text-success">Success</h3>
                            <p><h4 id="successMessage"></h4</p>
                            <div class="m-t-lg">
                                <button class="btn btn-success" data-dismiss="modal" type="button">Close</button>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer"></div>
                </div>
            </div>
        </div>

        <div id="warning" tabindex="-1" role="dialog" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">×</span>
                            <span class="sr-only">Close</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="text-center">
                            <span class="text-warning icon icon-info-circle icon-5x"></span>
                            <h3 class="text-warning">Info</h3>
                            <p><h4 id="warningMessage"></h4</p>
                            <div class="m-t-lg">
                                <button class="btn btn-warning" data-dismiss="modal" type="button">Continue</button>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer"></div>
                </div>
            </div>
        </div>

        <div id="failed" tabindex="-1" role="dialog" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">×</span>
                            <span class="sr-only">Close</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="text-center">
                            <span class="text-primary icon icon-info-circle icon-5x"></span>
                            <h3 class="text-primary">Failed</h3>
                            <p><h4 id="failedMessage"></h4</p>
                            <div class="m-t-lg">
                                <button class="btn btn-primary" data-dismiss="modal" type="button">Continue</button>

                            </div>
                        </div>
                    </div>
                    <div class="modal-footer"></div>
                </div>
            </div>
        </div>



    ';
}

function lock_web(){
    echo '
    <!DOCTYPE html>
    <html>
    <head>
        <title>dn QQ</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="shortcut icon" href="/assets2/ico/favicon.ico">
        <link rel="stylesheet" href="/assets2/b/css/bootstrap.min.css">
        <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" href="/assets2/css/style.css">
        <script src="/assets2/b/js/jQuery.min.js"></script>
        <script src="/assets2/b/js/bootstrap.min.js"></script>
        <script src="/template/js/richeese.js"></script>
        <style>
            body{
                background-image: url(/assets2/images/lock.jpg);
                height: 100vh;
                background-repeat:no;
                background-size:cover;
            }
            .dn-QQ{
                color: white;
                font-size: 55px;
                font-family: "Monotype Corsiva";
                opacity: 0.5;
            }
            .fit-page{
                padding-left: 0;
                padding-right: 0;
            }

        </style>
    </head>
    <body>

    <div class="container">
        <div class="row">
            <div class="col-md-12"><h1 class="dn-QQ">baysunny</h1></div>
        </div>
        <div class="row">
            <!--        Right          -->
            <div class="col-md-4 col-md-push-8">
                <div class="col-md-11 push-down2">
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active"><a href="#login" aria-controls="login" role="tab" data-toggle="tab">
                                <span class="glyphicon glyphicon-log-in"></span> Login</a></li>
                        <li role="presentation"><a href="#signup" aria-controls="signup" role="tab" data-toggle="tab">
                                <span class="glyphicon glyphicon-retweet"></span> Signup</a></li>
                    </ul>
                    <div class="tab-content push-down2">
                        <div role="tabpanel" class="tab-pane active" id="login">
                            <form action="" method="POST" id="lock-web">
                                <input type="hidden" name="hello" value="">
                                <div class="list-group form-user">
                                    <div class="form-group col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon"><i class="glyphicon glyphicon-user" aria-hidden="true"></i></span>
                                            <input type="text" class="form-control" name="username" id="username" placeholder="Username" required/>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="input-group">
                                            <span class="input-group-addon"><i class="glyphicon glyphicon-lock" aria-hidden="true"></i></span>
                                            <input type="password" class="form-control" name="password" id="password"  placeholder="Password" required/>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <button type="submit" class="btn btn-info pull-right" name="submit"><i class="glyphicon glyphicon-log-in"></i> Login</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>


            <!--        Left           -->
            <div class="col-md-7 col-md-pull-4">
                <div class="col-md-12 push-down">
                    <ol class="breadcrumb">
                        <li><a href="#" class="btn-menu" data-toggle="modal" data-target="#message"><span class="glyphicon glyphicon-envelope"></span> Message</a></li>
                        <li><a href="#" class="btn-menu" data-toggle="modal" data-target="#register"><span class="glyphicon glyphicon-retweet"></span> Sign up</a></li>
                        <li><a href="#" class="btn-menu"><span class="fa fa-heart"></span> Support</a></li>
                    </ol>


                </div>
            </div>

        </div>


    </div>
        '.true_false_popup().'
    </body>
    </html>


    ';
}






function X_Template_Course_Admin_L3($title1, $title2, $data){
    $courseID = $data["courseID"];
    $mcourseID = $data["mcourseID"];
    $listSubject = $data["listSubject"];
    $listCategory = $data["listCategory"];
    $listAllShelter = $data["listAllShelter"];
    // $listFocusCategory = $data["listFocusCategory"];
    echo '

    <body class="layout layout-header-fixed layout-sidebar-fixed">

        <div class="layout-header">';nav_bar($title1, $title2);echo'</div>
        <div class="layout-main">';sidebar(); echo '
            <div class="layout-content">
                <div class="layout-content-body">

                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-reload" title="Reload"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>

                                <a href="/dashboard/materi" class="btn btn-link">
                                    <strong><h3 class="text-info"><span class="icon icon-arrow-circle-left"></span> Materi</h3></strong>
                                </a>

                                <a href="/dashboard/materi/course_sub.php?mcourse=&id='.$mcourseID.'" class="btn btn-link">
                                    <strong><h3 class="text-info"><span class="icon icon-arrow-circle-left"></span> Kategori</h3></strong>
                                </a>
                                <button class="btn btn-link" type="button" data-toggle="modal" data-target="#pop-up-add-subject">
                                    <strong><h3 class="text-primary"><span class="icon icon-plus-circle"></span> Bab</h3></strong>
                                </button>
                            </div>
                            <div class="card-body">';
                                subjectTable($listSubject); echo '
                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-reload" title="Reload"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <button class="btn btn-link" type="button" data-toggle="modal" data-target="#add-category">
                                    <strong><h3 class="text-primary"><span class="icon icon-plus-circle"></span> Tambah bidang</h3></strong>
                                </a>
                            </div>
                            <div class="card-body">';
                                foreach ($listCategory as $c) {
                            echo '
                                <div class="col-md-12 col-lg-4">
                                    <div class="card bg-info">
                                        <div class="card-body">
                                            <div class="media">
                                                <div class="media-middle media-left">
                                                    <span class="my-color circle sq-48">
                                                        <span class="icon icon-book"></span>
                                                    </span>
                                                </div>
                                                <div class="media-middle media-body">
                                                    <h4 class="media-heading">
                                                        <a href="/dashboard/materi/bidang/category.php?category='.$c["categoryID"].'" style="color:white">
                                                            <span class="icon icon-location-arrow"></span> '.$c["categoryName"].'
                                                        </a>
                                                    </h4>

                                                    <h5 class="media-heading">
                                                        <span class="">'.sizeof($c["subjectList"]).'</span> Materi
                                                    </h5>
                                                </div>
                                                <div class="media-right">';

                                                if($c["showCategory"] == 1){
                                                    echo '
                                                        <button class="btn btn-danger btn-xs btn-labeled pull-right" type="button">
                                                            <span class="btn-label arrow-right arrow-outline-danger">
                                                                <span class="icon icon-check"></span>
                                                            </span>Ditampilkan
                                                        </button>
                                                    ';
                                                }

                                                echo '
                                                    <span id="my-icon" class="bg-danger circle sq-24 pull-right" data-toggle="modal" data-target="#pop-up-delete-category-'.$c["categoryID"].'">
                                                          <span class="icon icon-trash"></span>
                                                    </span>
                                                    <span id="my-icon" class="bg-crimson circle sq-24 pull-right" data-toggle="modal"
                                                      data-target="#pop-up-edit-category-'.$c["categoryID"].'">
                                                          <span class="icon icon-edit"></span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>';
                                }
                                echo '
                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-actions">
                                    <button type="button" class="card-action card-toggler" title="Collapse"></button>
                                    <button type="button" class="card-action card-reload" title="Reload"></button>
                                    <button type="button" class="card-action card-remove" title="Remove"></button>
                                </div>
                                <a class="btn btn-link" href="/dashboard/materi/shelter">
                                    <strong><h3 class="text-primary"><span class="icon icon-plus-circle"></span> Tambah Fokus Jabatan</h3></strong>
                                </a>
                            </div>
                            <div class="card-body">';
                                foreach ($listAllShelter as $shelter) {
                            echo '
                                <div class="col-md-12 col-lg-4">
                                    <div class="card bg-info">
                                        <div class="card-body">
                                            <div class="media">
                                                <div class="media-middle media-left">
                                                    <span class="my-color circle sq-48">
                                                        <span class="icon icon-book"></span>
                                                    </span>
                                                </div>
                                                <div class="media-middle media-body">
                                                    <h4 class="media-heading">
                                                        <a href="/dashboard/materi/shelter/?mshelterID='.$shelter["mshelterID"].'&shelterID='.$shelter["shelterID"].'" style="color:white">
                                                            <span class="icon icon-location-arrow"></span> '.$shelter["shelterName"].'
                                                        </a>
                                                    </h4>

                                                    <h5 class="media-heading">
                                                        <span class="">'.sizeof($shelter["subjectList"]).'</span> Materi
                                                    </h5>
                                                </div>
                                                <div class="media-right">';

                                                if($shelter["showShelter"] == 1){
                                                    echo '
                                                        <button class="btn btn-danger btn-xs btn-labeled pull-right" type="button">
                                                            <span class="btn-label arrow-right arrow-outline-danger">
                                                                <span class="icon icon-check"></span>
                                                            </span>Ditampilkan
                                                        </button>
                                                    ';
                                                }

                                                echo '
                                                    <span id="my-icon" class="bg-danger circle sq-24 pull-right" data-toggle="modal" data-target="#pop-up-delete-shelter-'.$shelter["shelterID"].'">
                                                          <span class="icon icon-trash"></span>
                                                    </span>
                                                    <span id="my-icon" class="bg-crimson circle sq-24 pull-right" data-toggle="modal"
                                                      data-target="#pop-up-edit-shelter-'.$shelter["shelterID"].'">
                                                          <span class="icon icon-edit"></span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            ';
                                }
                                echo '

                            </div>
                        </div>
                    </div>
                    <div class="row gutter-xs">';
                        subjectCard($listSubject); echo '
                    </div>
                </div>
            </div>
        </div>


        <div class="modal fade" id="pop-up-add-subject" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-primary">
                        <h4 class="modal-title">Tambah '.$title1.'
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </h4>
                    </div>
                    <div class="modal-body">
                        <div class="signup">
                            <div class="signup-body">
                                <div class="signup-form">
                                    <form action="" id="form-add-subject" method="post" data-toggle="validator" enctype="multipart/form-data">
                                        <input type="hidden" name="courseID" value="'.$courseID.'">
                                        <input type="hidden" name="username" value="'.$_SESSION["username"].'">
                                        <input type="hidden" name="addSubject" value="">
                                        <div class="row gutter-xs">

                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <label id="button-switch-image" class="file-upload-btn btn btn-outline-primary">
                                                        <span class="icon icon-image"></span> Upload thumbnail
                                                        <input type="file" class="file-upload-input edit-file" id="file" name="thumbnailImage" accept="image/*">
                                                    </label>
                                                    <div id="image-preview-div">
                                                        <strong><div id="image-message">No file chosen</div></strong>
                                                        <img id="preview-img" class="timeline-media img-rounded" width="220" height="80" style="object-fit: cover;"
                                                        src="/dashboard/drive/images/default.jpg">
                                                    </div>
                                                    <div id="message"></div>
                                                </div>
                                            </div>

                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <label id="button-switch-pdf" class="file-upload-btn btn btn-outline-success">
                                                        <span class="icon icon-works">&#97;</span> Upload materi
                                                        <input type="file" class="file-upload-input" id="pdf-file" name="subjectFile" accept="application/pdf">
                                                    </label>
                                                    <strong><div id="file-message">No file chosen</div></strong>
                                                </div>
                                                <div class="form-group">
                                                    <label id="button-switch-vid" class="file-upload-btn btn btn-outline-success">
                                                        <span class="icon icon-works">&#97;</span> Upload video
                                                        <input type="file" class="file-upload-input" id="vid-file" name="subjectVideo" accept="video/mp4, video/x-m4v, video/*">
                                                    </label>
                                                    <strong><div id="video-message">No file chosen</div></strong>
                                                </div>
                                            </div>


                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="title">Masukan Judul Materi</label>
                                                    <input class="form-control" type="text" name="title" spellcheck="false" data-msg-required="masukan judul materi" required value="">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="title">Pilih Bidang</label>
                                                    <select id="form-control-6" class="form-control" name="category">';
                                                    foreach ($listCategory as $c) {
                                                        echo '
                                                            <option value="'.$c["categoryID"].'">'.$c["categoryName"].'</option>
                                                        ';
                                                    }
                                                    echo '
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="title">Pilih Focus Bidang</label>
                                                    <select id="form-control-6" class="form-control" name="focusCategoryID">';

                                                    foreach ($listAllShelter as $sh) {

                                                        if ($sh["shelterID"] == $subject["shelterID"]){
                                                            echo '<option value="'.$sh["shelterID"].'" selected>'.$sh["shelterName"].'</option>';
                                                        }else{
                                                            echo '<option value="'.$sh["shelterID"].'">'.$sh["shelterName"].'</option>';
                                                        }
                                                    }
                                                    echo '

                                                    </select>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="short-text">Text thumbnail</label>
                                                    <textarea name="thumbnailText" class="form-control" placeholder="short text"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row gutter-xs">
                                            <div class="progress">
                                                <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                            <button type="submit" id="add-subject-submit-button" class="btn btn-primary">Tambah</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="add-category" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-primary">
                        <h4 class="modal-title">Tambah bidang
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </h4>
                    </div>
                    <div class="modal-body">
                        <div class="signup">
                            <div class="signup-body">
                                <div class="signup-form">
                                    <form action="" id="form-add-category" method="post" data-toggle="validator" enctype="multipart/form-data">
                                        <input type="hidden" name="addCategory" value="">
                                        <input type="hidden" name="addedBy" value="'.$_SESSION["username"].'">
                                        <input type="hidden" name="code-add" value="'.$_SESSION["code"].'">
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="title">Masukan nama bidang</label>
                                                    <input class="form-control" type="text" name="categoryName" spellcheck="false" data-msg-required="masukan nama bidang!" required value="">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                            <button type="submit" id="add-category-submit-button" class="btn btn-primary">Tambah</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="add-focus-category" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header bg-primary">
                        <h4 class="modal-title">Tambah bidang
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </h4>
                    </div>
                    <div class="modal-body">
                        <div class="signup">
                            <div class="signup-body">
                                <div class="signup-form">
                                    <form action="" id="form-add-focus-category" method="post" data-toggle="validator" enctype="multipart/form-data">
                                        <input type="hidden" name="addFocusCategory" value="">
                                        <input type="hidden" name="addedBy" value="'.$_SESSION["username"].'">
                                        <input type="hidden" name="code-add" value="'.$_SESSION["code"].'">
                                        <div class="row gutter-xs">
                                            <div class="col-sm-12">
                                                <div class="form-group">
                                                    <label for="title">Masukan nama focus bidang</label>
                                                    <input class="form-control" type="text" name="focusCategoryName" spellcheck="false" data-msg-required="masukan nama focus bidang!" required value="">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                            <button type="submit" id="add-focus-category-submit-button" class="btn btn-primary">Tambah</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>




        <script src="/template_vendor/js/vendor.min.js"></script>
        <script src="/template_vendor/js/elephant.min.js"></script>
        <script src="/template_vendor/js/application.min.js"></script>
        <script src="/template_vendor/js/demo.min.js"></script>
        <script src="/template_vendor/js/image-upload.js"></script>


        <script src="/template/js/richeese-global.js"></script>
        <script src="/template/js/richeese.js"></script>';

            // displaying popup subjectCard setting
            foreach ($listSubject as $subject) {


                echo '

                <div id="delete-'.$subject["subjectID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                    <div class="modal-dialog">
                        <div class="modal-content bg-primary">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">×</span>
                                    <span class="sr-only">Close</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="text-center">
                                    <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                    <h3 class="text-light">Hapus materi? ('.$subject["subjectName"].')</h3>
                                    <div class="m-t-lg">
                                        <button class="btn btn-danger" data-dismiss="modal" id="deleteSubject-'.$subject["subjectID"].'" type="button">Hapus</button>
                                        <script>
                                          $(document).ready(function(){
                                            $("#deleteSubject-'.$subject["subjectID"].'").on("click", function(e) {
                                                var subjectID = '.$subject["subjectID"].';
                                                var formData = new FormData();
                                                formData.append("deleteSubject", subjectID);

                                                $.ajax({
                                                      type: "POST",
                                                      processData: false,
                                                      contentType: false,
                                                      enctype: "multipart/form-data",
                                                      url: "/handler/handler_ajax_course.php",
                                                      data: formData,
                                                      success: function (data) {
                                                        var result = $.parseJSON(data);
                                                        if(result.info != "success"){
                                                          $(".modal").modal("hide");
                                                          $("#failedMessage").html(result.info);
                                                          $("#failed").modal("show");
                                                        }else{
                                                          $(".modal").modal("hide");
                                                          $("#successMessage").html("'.$title1.' berhasil dihapus");
                                                          $("#success").modal("show");
                                                          $("#success").on("hidden.bs.modal", function(){
                                                              location.reload();
                                                          });
                                                        }
                                                      },
                                                      error: function(){
                                                        alert("error in ajax form submission");
                                                      }
                                                  });
                                            });
                                          });
                                        </script>
                                        <button class="btn btn-default" data-dismiss="modal" type="button">Batal</button>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer"></div>
                        </div>
                    </div>
                </div>';

                $x = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
                if(!file_exists($_SERVER['DOCUMENT_ROOT'].$x)){
                    $subject["thumbnailImage"] = "/dashboard/drive/images/".$subject["thumbnailImage"];
                }else{
                    $subject["thumbnailImage"] = "/dashboard/drive/drive-course/course-thumbnails/".$subject["thumbnailImage"];
                }
                echo '
                <div class="modal fade" id="edit-'.$subject["subjectID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-primary">
                                <h4 class="modal-title">Edit <strong>('.$subject["subjectName"].')</strong>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </h4>
                            </div>
                            <div class="modal-body">
                                <div class="signup">
                                    <div class="signup-body">
                                        <div class="signup-form">
                                            <form action="" id="form-edit-subject-'.$subject["subjectID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                <input type="hidden" name="editSubject" value="">
                                                <input type="hidden" name="courseID" value="'.$courseID.'">
                                                <input type="hidden" name="editedBy" value="'.$_SESSION["username"].'">
                                                <input type="hidden" name="code-edit" value="'.$_SESSION["code"].'">
                                                <input type="hidden" name="subjectID" value="'.$subject["subjectID"].'">
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label id="button-switch-image-'.$subject["subjectID"].'" class="file-upload-btn btn btn-outline-primary">
                                                                <span class="icon icon-image"></span> Upload thumbnail
                                                                <input type="file" class="file-upload-input thumbnail-image-'.$subject["subjectID"].'" id="file" name="thumbnailImage" accept="image/*">
                                                            </label>
                                                            <div id="image-preview-div">
                                                                <strong><div id="image-message-'.$subject["subjectID"].'">No file chosen</div></strong>
                                                                <img id="preview-img-'.$subject["subjectID"].'" class="timeline-media img-rounded" width="220" height="80" style="object-fit: cover;"
                                                                src="'.$subject["thumbnailImage"].'">
                                                            </div>
                                                            <div id="message"></div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-6">
                                                        <div class="form-group">
                                                            <label id="button-switch-pdf-'.$subject["subjectID"].'" class="file-upload-btn btn btn-outline-success">
                                                                <span class="icon icon-works">&#97;</span> Upload materi
                                                                <input type="file" class="file-upload-input" id="pdf-file-'.$subject["subjectID"].'" name="subjectFile" accept="application/pdf">
                                                            </label>
                                                            <strong><div id="file-message-'.$subject["subjectID"].'">No file chosen</div></strong>
                                                        </div>
                                                        <div class="form-group">
                                                            <label id="button-switch-vid-'.$subject["subjectID"].'" class="file-upload-btn btn btn-outline-success">
                                                                <span class="icon icon-works">&#97;</span> Upload video
                                                                <input type="file" class="file-upload-input" id="vid-file-'.$subject["subjectID"].'" name="subjectVideo" accept="video/mp4, video/x-m4v, video/*">
                                                            </label>
                                                            <strong><div id="video-message-'.$subject["subjectID"].'">No file chosen</div></strong>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Judul</label>
                                                            <input class="form-control" type="text" name="subjectName" spellcheck="false" data-msg-required="masukan judul materi" required value="'.$subject["subjectName"].'">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Pilih Bidang</label>
                                                            <select id="form-control-6" class="form-control" name="categoryID">';

                                                            foreach ($listCategory as $c) {

                                                                if ($c["categoryID"] == $subject["categoryID"]){
                                                                    echo '<option value="'.$c["categoryID"].'" selected>'.$c["categoryName"].'</option>';
                                                                }else{
                                                                    echo '<option value="'.$c["categoryID"].'">'.$c["categoryName"].'</option>';
                                                                }
                                                            }
                                                            echo '

                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="title">Pilih Jabatan / Kompetensi</label>
                                                            <select id="form-control-6" class="form-control" name="shelterID">';

                                                            foreach ($listAllShelter as $shelter) {

                                                                if ($shelter["shelterID"] == $subject["shelterID"]){
                                                                    echo '<option value="'.$shelter["shelterID"].'" selected>'.$shelter["shelterName"].'</option>';
                                                                }else{
                                                                    echo '<option value="'.$shelter["shelterID"].'">'.$shelter["shelterName"].'</option>';
                                                                }
                                                            }
                                                            echo '

                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">
                                                            <label for="short-text">Text thumbnail</label>
                                                            <textarea name="thumbnailText" class="form-control">'.nl2br($subject["thumbnailText"]).'</textarea>
                                                        </div>
                                                    </div>
                                                </div>


                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <button type="submit" id="edit-subject-'.$subject["subjectID"].'-submit-button" name="addAdmin" class="btn btn-primary">Update</button>
                                                </div>
                                            </form>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="add-quest-'.$subject["subjectID"].'" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-primary">
                                <h4 class="modal-title">Tambah pertanyaan untuk <strong>('.$subject["subjectName"].')</strong>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </h4>
                            </div>
                            <div class="modal-body">
                                <div class="signup">
                                    <div class="signup-body">
                                        <div class="signup-form">
                                            <form action="" id="add-quest-form-'.$subject["subjectID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                <div class="row gutter-xs">
                                                    <h5 class="text-warning"><span class="icon icon-warning"></span> Masukan pertanyaan</h5>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-12">
                                                        <div class="form-group">

                                                            <input type="hidden" name="addQQuest" value="">
                                                            <input type="hidden" name="subjectID" value="'.$subject["subjectID"].'">
                                                            <input type="hidden" name="" value="'.$_SESSION["username"].'">

                                                            <textarea class="form-control" type="text" name="question" data-msg-required="masukan pertanyaan" required placeholder=""></textarea>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <h5 class="text-warning"><span class="icon icon-warning"></span> Pilih option yang akan digunakan sebagai kunci jawaban</h5>
                                                </div>

                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="a">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                a
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionA" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="b">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                b
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionB" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="c">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                c
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionC" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row gutter-xs">
                                                    <div class="col-sm-6">
                                                        <div class="radio">
                                                            <div class="form-group">
                                                                <label>
                                                                    <div class="input-group ">
                                                                        <input type="radio" name="option[]" value="d">
                                                                        <span id="demo-timepicker-2-btn" class="input-group-btn">
                                                                            <button class="btn btn-default" type="button">
                                                                                d
                                                                            </button>
                                                                        </span>
                                                                        <input name="optionD" id="demo-timepicker-2" class="form-control" type="text" autocomplete="off" required>
                                                                    </div>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <button type="submit" id="add-quest-button-submit-'.$subject["subjectID"].'" class="btn btn-primary">Update</button>
                                                </div>
                                            </form>
                                                <script>
                                                    $(document).ready(function(){
                                                        $("#add-quest-form-'.$subject["subjectID"].'").on("submit", function (e) {
                                                            e.preventDefault();
                                                            $("#add-quest-button-submit-'.$subject["subjectID"].'").prop("disabled", true);
                                                            var formData = new FormData(this);
                                                            $.ajax({
                                                                type: "POST",
                                                                processData: false,
                                                                contentType: false,
                                                                enctype: "multipart/form-data",
                                                                url: "/handler/handler_ajax_course.php",
                                                                data: formData,
                                                                success: function (data) {
                                                                  var result = $.parseJSON(data);
                                                                  if(result.info != "success"){
                                                                    $("#failedMessage").html(result.info);
                                                                    $("#failed").modal("show");
                                                                    $("#add-quest-button-submit-'.$subject["subjectID"].'").prop("disabled", false);
                                                                  }else{
                                                                    $(".modal").modal("hide");
                                                                    $("#successMessage").html("Berhasil di update");
                                                                    $("#success").modal("show");
                                                                    $("#success").on("hidden.bs.modal", function(){
                                                                        location.reload();
                                                                    });
                                                                  }
                                                                },
                                                                error: function(){
                                                                  alert("error in ajax form submission");
                                                                }
                                                            });
                                                        });
                                                    });
                                                </script>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <script>
                    $(document).ready(function(){
                        $("#form-edit-subject-'.$subject["subjectID"].'").on("submit", function (e) {
                            e.preventDefault();
                            $("#edit-subject-'.$subject["subjectID"].'-submit-button").prop("disabled", true);
                            $("#edit-subject-'.$subject["subjectID"].'-submit-button").html("menunggu <span class=\"spinner spinner-danger\"></span>");
                            var formData = new FormData(this);
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_course.php",
                                data: formData,
                                success: function (data) {
                                    var result = $.parseJSON(data);
                                    if(result.info != "success"){
                                        $("#failedMessage").html(result.info);
                                        $("#failed").modal("show");
                                        $("#edit-subject-'.$subject["subjectID"].'-submit-button").prop("disabled", false);
                                        $("#edit-subject-'.$subject["subjectID"].'-submit-button").html("Update");
                                    }else{
                                        $(".modal").modal("hide");
                                        $("#successMessage").html("Berhasil di update");
                                        $("#success").modal("show");
                                        $("#success").on("hidden.bs.modal", function(){
                                            location.reload();
                                        });
                                    }
                                },
                                error: function(){
                                    alert("error in ajax form submission");
                                }
                            });
                        });

                        $("#pdf-file-'.$subject["subjectID"].'").change(function() {
                            var file = this.files[0];
                            if(typeof(file) !== "undefined"){
                                var extension = file.name.split(".").pop().toLowerCase();
                                if(extension == "pdf"){
                                    $("#button-switch-pdf-'.$subject["subjectID"].'").removeClass("btn-outline-success").addClass("btn-success");
                                    var filename;
                                    if(file.name.length > 16){
                                        filename = file.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file.name;
                                    }
                                    $("#file-message-'.$subject["subjectID"].'").html(filename);
                                }else{
                                    $("#button-switch-pdf-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                    $("#file-message-'.$subject["subjectID"].'").html("No file chosen");
                                    alert("pdf file!");
                                }
                            }else{
                                $("#button-switch-pdf-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                $("#file-message-'.$subject["subjectID"].'").html("No file chosen");
                            }
                        });
                        $("#vid-file-'.$subject["subjectID"].'").change(function() {
                            var file2 = this.files[0];

                            if(typeof(file2) !== "undefined"){
                                var extension = file2.name.split(".").pop().toLowerCase();
                                if(extension == "mp4" || extension == "3gp" || extension == "mov" || extension == "m4v"){
                                    $("#button-switch-vid-'.$subject["subjectID"].'").removeClass("btn-outline-success").addClass("btn-success");
                                    var filename;
                                    if(file2.name.length > 16){
                                        filename = file2.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file2.name;
                                    }
                                    $("#video-message-'.$subject["subjectID"].'").html(filename);
                                }else{
                                    $("#button-switch-vid-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                    $("#video-message-'.$subject["subjectID"].'").html("No file chosen");
                                }
                            }else{
                                $("#button-switch-vid-'.$subject["subjectID"].'").removeClass("btn-success").addClass("btn-outline-success");
                                $("#video-message-'.$subject["subjectID"].'").html("No file chosen");
                            }
                        });
                        function readURL(input) {
                            if (input.files && input.files[0]) {
                                var reader = new FileReader();

                                reader.onload = function (e) {
                                    $("#preview-img-'.$subject["subjectID"].'").attr("src", e.target.result);
                                }

                                reader.readAsDataURL(input.files[0]);
                            }
                        }
                        $(".thumbnail-image-'.$subject["subjectID"].'").change(function() {
                            var file = this.files[0];
                            if(typeof(file) !== "undefined"){
                                var extension = file.name.split(".").pop().toLowerCase();
                                if(jQuery.inArray(extension, ["png", "jpg", "jpeg"]) === -1){
                                    $("#button-switch-image-'.$subject["subjectID"].'").removeClass("btn-primary").addClass("btn-outline-primary");
                                    $("#image-message-'.$subject["subjectID"].'").html("No file chosen");
                                    alert("pdf file!");
                                }else{
                                    $("#button-switch-image-'.$subject["subjectID"].'").removeClass("btn-outline-primary").addClass("btn-primary");
                                    var filename;
                                    if(file.name.length > 16){
                                        filename = file.name.slice(0, 16) + "...";
                                    }else{
                                        filename = file.name;
                                    }
                                    readURL(this);
                                    $("#image-message-'.$subject["subjectID"].'").html(filename);
                                }
                            }else{
                                $("#button-switch-image-'.$subject["subjectID"].'").removeClass("btn-primary").addClass("btn-outline-primary");
                                $("#image-message-'.$subject["subjectID"].'").html("No file chosen");
                            }
                        });




                        $(".download-'.$subject["subjectID"].'").on("click", function(){
                            var link = this;
                            link.disabled = true;
                            $("#download-label-'.$subject["subjectID"].'").html("Downloading");
                            var formData = new FormData();
                            formData.append("download", "'.$subject["subjectID"].'");
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_course.php",
                                data: formData,
                                success: function (data) {
                                    link.disabled = false;
                                    $("#download-label-'.$subject["subjectID"].'").html("Download");
                                    $("#total-downloader-'.$subject["subjectID"].'").load("/handler/handler_jquery_course.php", {totalDownloader:'.$subject["subjectID"].'});
                            },
                            error: function(){
                                alert("error in ajax form submission");
                            }
                          });
                       });
                    });

                </script>


                ';
            }

            // displaying popup category setting
            foreach ($listCategory as $c) {
                echo '

                <div id="pop-up-delete-category-'.$c["categoryID"].'" tabindex="-1" role="dialog" class="modal fade delmod">
                    <div class="modal-dialog">
                        <div class="modal-content bg-primary">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">×</span>
                                    <span class="sr-only">Close</span>
                                </button>
                            </div>
                            <div class="modal-body">

                                <form action="" id="form-delete-category-'.$c["categoryID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                    <input type="hidden" name="deleteCategory" value="">
                                    <input type="hidden" name="categoryID" value="'.$c["categoryID"].'">
                                    <input type="hidden" name="deletedBy" value="'.$_SESSION["username"].'">
                                    <input type="hidden" name="code-delete" value="'.$_SESSION["code"].'">

                                    <div class="text-center">
                                        <span class="text-light icon icon-exclamation-triangle icon-5x"></span>
                                        <h3 class="text-light">Hapus Focus Bidang? ('.$c["categoryName"].')</h3>
                                        <div class="m-t-lg">
                                            <button class="btn btn-danger" id="delete-category-'.$c["categoryID"].'-submit-button" type="submit">Delete</button>

                                            <button class="btn btn-default" data-dismiss="modal" type="button">Cancel</button>
                                        </div>
                                    </div>
                                </form>

                            </div>
                        </div>
                    </div>
                </div>

                <div id="pop-up-edit-category-'.$c["categoryID"].'" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header bg-primary">
                                <h4 class="modal-title">Edit <strong>('.$c["categoryName"].')</strong>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </h4>
                            </div>
                            <div class="modal-body">
                                <div class="signup">
                                    <div class="signup-body">
                                        <div class="signup-form">
                                            <form action="" id="form-edit-category-'.$c["categoryID"].'" method="post" data-toggle="validator" enctype="multipart/form-data">
                                                <input type="hidden" name="editCategory" value="">
                                                <input type="hidden" name="categoryID" value="'.$c["categoryID"].'">
                                                <input type="hidden" name="editedBy" value="'.$_SESSION["username"].'">
                                                <input type="hidden" name="code-edit" value="'.$_SESSION["code"].'">

                                                <div class="checkbox">
                                                    <label>';
                                                    if($c["showCategory"] != 1){
                                                        echo '
                                                        <input type="checkbox" name="showCategory" value="1"> Ditampilkan di halaman pegawai
                                                        ';
                                                    }else{
                                                        echo '
                                                        <input type="checkbox" name="showCategory" value="1" checked="checked"> Ditampilkan di halaman pegawai
                                                        ';
                                                    }


                                                        echo '
                                                    </label>
                                                </div>

                                                <div class="row gutter-xs">
                                                    <div class="form-group">
                                                        <label for="categoryName">Masukan nama Bidang</label>
                                                        <input class="form-control" type="text" name="categoryName" spellcheck="false" data-msg-required="masukan nama Kategori" required value="'.$c["categoryName"].'">
                                                    </div>

                                                </div>


                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                    <button type="submit" id="edit-category-'.$c["categoryID"].'-submit-button" class="btn btn-primary">Update</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <script>
                    $(document).ready(function(){
                        $("#form-delete-category-'.$c["categoryID"].'").on("submit", function (e) {
                            e.preventDefault();
                            var formData = new FormData(this);
                            $("#delete-category-'.$c["categoryID"].'-submit-button").prop("disabled", true);
                            $("#delete-category-'.$c["categoryID"].'-submit-button").html(\'menunggu <span class="spinner spinner-danger"></span>\');
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_course.php",
                                data: formData,
                                success: function (data) {
                                  var result = $.parseJSON(data);
                                  if(result.info != "success"){
                                    $("#failedMessage").html(result.info);
                                    $("#failed").modal("show");
                                    $("#delete-category-'.$c["categoryID"].'-submit-button").prop("disabled", false);
                                    $("#delete-category-'.$c["categoryID"].'-submit-button").html("Delete");
                                  }else{
                                    $(".modal").modal("hide");
                                    $("#successMessage").html("Berhasil di hapus");
                                    $("#success").modal("show");
                                    $("#success").on("hidden.bs.modal", function(){
                                        location.reload();
                                    });
                                  }
                                },
                                error: function(){
                                  alert("error in ajax form submission");
                                }
                            });
                        });

                        $("#form-edit-category-'.$c["categoryID"].'").on("submit", function (e) {
                            e.preventDefault();
                            $("#edit-category-'.$c["categoryID"].'-submit-button").prop("disabled", true);
                            $("#edit-category-'.$c["categoryID"].'-submit-button").html(\'menunggu <span class="spinner spinner-danger"></span>\');
                            var formData = new FormData(this);
                            formData.append("editCategory", '.$c["categoryID"].');
                            $.ajax({
                                type: "POST",
                                processData: false,
                                contentType: false,
                                enctype: "multipart/form-data",
                                url: "/handler/handler_ajax_course.php",
                                data: formData,
                                success: function (data) {
                                  var result = $.parseJSON(data);
                                  if(result.info != "success"){
                                    $("#failedMessage").html(result.info);
                                    $("#failed").modal("show");
                                    $("#edit-category-'.$c["categoryID"].'-submit-button").prop("disabled", false);
                                    $("#edit-category-'.$c["categoryID"].'-submit-button").html(\'Update <span class="spinner spinner-danger"></span>\');
                                  }else{
                                    $(".modal").modal("hide");
                                    $("#successMessage").html("Berhasil di update");
                                    $("#success").modal("show");
                                    $("#success").on("hidden.bs.modal", function(){
                                        location.reload();
                                    });
                                  }
                                },
                                error: function(){
                                  alert("error in ajax form submission");
                                }
                            });
                        });

                    });
                </script>


                ';
            }



        true_false_popup();
        echo '
    </body>

    ';
}